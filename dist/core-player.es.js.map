{"version":3,"file":"core-player.es.js","sources":["../src/core/utils/index.ts","../src/core/config.ts","../src/core/module/videoController.ts","../src/core/module/pluginManager.ts","../src/core/module/hookManager.ts","../src/core/module/loaderManager.ts","../src/core/module/eventEmitter.ts","../src/core/player.ts","../src/core/plugin.ts","../src/core/components/Slider.ts","../src/core/components/SliderVertical.ts","../node_modules/lit-html/lit-html.js","../src/core/components/Picker.ts","../src/core/components/MultiPicker.ts","../src/core/components/Switch.ts","../src/core/components/Checkbox.ts","../src/mfuns-player/core-player.ts"],"sourcesContent":["export const isMobile = /mobile/i.test(window.navigator.userAgent);\n\n/** 是否支持全屏 */\nexport const fullScreenEnabled =\n  document.fullscreenEnabled ||\n  (document as any).webkitFullscreenEnabled ||\n  (document as any).mozFullScreenEnabled ||\n  (document as any).msFullscreenEnabled ||\n  false;\n\n/** 是否支持画中画 */\nexport const pictureInPictureEnabled = document.pictureInPictureEnabled || false;\n\n/**\n * 创建元素\n * @param tagName 元素标签名\n * @param attributes 元素属性\n * @param children 子元素/HTML字符串\n */\nexport function createElement<T extends keyof HTMLElementTagNameMap>(\n  tagName: T,\n  attributes?: Record<string, string>,\n  children?: Node | string\n) {\n  const el = document.createElement(tagName);\n  if (attributes) {\n    for (const name in attributes) {\n      el.setAttribute(name, attributes[name]);\n    }\n  }\n  if (typeof children == \"string\") {\n    el.innerHTML = children;\n  } else if (children instanceof Node) {\n    el.appendChild(children);\n  }\n  return el;\n}\n\n/**\n * 替换子元素\n * @param element 父元素\n * @param children 要替换的子节点或HTML字符串\n */\nexport function replaceChildren(element: HTMLElement, children: Node | string) {\n  if (typeof children == \"string\") {\n    element.innerHTML = children;\n  } else {\n    element.innerHTML = \"\";\n    element.appendChild(children);\n  }\n}\n/**\n * 防抖\n * @param fn 需要防抖处理的函数\n * @param delay 防抖延迟执行时间\n * @param immediate 是否立即执行一次\n */\nexport const debounce = <T extends any[]>(\n  fn: (...args: T) => void,\n  delay: number,\n  immediate: boolean = false\n) => {\n  let timer: ReturnType<typeof setTimeout> | null = null;\n  let isInvoke = false;\n  const f = function (this: unknown, ...args: T) {\n    if (timer) clearTimeout(timer);\n    if (immediate && !isInvoke) {\n      fn.apply(this, args);\n      isInvoke = true;\n    } else {\n      timer = setTimeout(() => {\n        fn.apply(this, args);\n        clearTimeout(timer!);\n        timer = null;\n        isInvoke = false;\n      }, delay);\n    }\n  };\n  /*   f.clear = () => {\n    if (timer) clearTimeout(timer);\n  }; */\n  return f;\n};\n\n/**\n * 节流\n * @param fn 需要节流处理的函数\n * @param wait 执行一次后需要等待的时间\n */\nexport const throttle = <T extends any[]>(fn: (...args: T) => void, wait: number) => {\n  let timer: ReturnType<typeof setTimeout> | null = null;\n  return function (this: unknown, ...args: T) {\n    if (!timer) {\n      timer = setTimeout(() => {\n        fn.apply(this, args);\n        clearTimeout(timer!);\n        timer = null;\n      }, wait);\n    }\n  };\n};\n\n/** 生成一个范围内的随机数\n * @param lower 最小值\n * @param upper 最大值\n * @returns 生成的随机数\n */\nexport function random(lower: number, upper: number): number {\n  return lower + Math.random() * (upper - lower);\n}\n\n/** 钳制数值\n * @param number 传入数值\n * @param lower 最小值\n * @param upper 最大值\n * @returns 钳制后的数值\n */\nexport function clamp(number: number, lower: number, upper: number): number {\n  return number > lower ? (number < upper ? number : upper) : lower;\n}\n\n/**\n * 将时间文本转换为秒数\n *\n * @param time 冒号分隔的时间文本\n * @return 秒数\n */\nexport function timeToSecond(time: string): number {\n  const arr = time.split(\":\").slice(-3);\n  const sec = parseInt(arr[arr.length - 1]) || 0;\n  const min = parseInt(arr[arr.length - 2]) || 0;\n  const hour = parseInt(arr[arr.length - 3]) || 0;\n  const day = parseInt(arr[arr.length - 4]) || 0;\n  return sec + min * 60 + hour * 3600 + day * 86400;\n}\n\n/**\n * 将秒数转换为时间文本\n *\n * @param second 秒数\n * @param level 转换等级(二进制位属性，表示可转换的时间格式，4-天时分秒，3-时分秒，2-分秒, 1-秒)\n * @return 时间文本\n */\nexport function secondToTime(second: number, level: number = 0b0110): string {\n  second = Number.isFinite(second) ? Math.floor(second) : 0;\n  if (!(level & 0b1111)) return second.toString();\n  const join = (...args: number[]) =>\n    args.map((num) => (num < 10 ? `0${num}` : `${num}`)).join(\":\");\n  let minute: number, hour: number, day: number;\n  if (level & 0b0001 && second < 60) {\n    return second.toString();\n  }\n  minute = Math.floor(second / 60);\n  second = second % 60;\n  if (level & 0b0010 && minute < 60) {\n    return join(minute, second);\n  }\n  hour = Math.floor(minute / 60);\n  minute = minute % 60;\n  if (level & 0b0100 && hour < 24) {\n    return join(hour, minute, second);\n  }\n  day = Math.floor(hour / 60);\n  hour = hour % 24;\n  return join(day, hour, minute, second);\n}\n\n/** 十六进制颜色转数字\n * @param color 颜色字符串，可以省略#符号\n * @return 数值\n */\nexport function HexColorToNumber(color: string): number {\n  if (color[0] === \"#\") {\n    color = color.substring(1);\n  }\n  if (color.length === 3) {\n    color = `${color[0]}${color[0]}${color[1]}${color[1]}${color[2]}${color[2]}`;\n  }\n  return (parseInt(color, 16) + 0x000000) & 0xffffff;\n}\n\n/**\n * 数字转十六进制颜色\n * @param number 传入的数字\n * @return 十六进制颜色\n */\nexport function numberToHexColor(number: number): string {\n  return `#${`00000${number.toString(16)}`.slice(-6)}`;\n}\n\nconst dateFormatMap = {\n  yyyy: (d: Date) => d.getFullYear().toString(),\n  yy: (d: Date) => d.getFullYear().toString().slice(-2),\n  MM: (d: Date) => (d.getMonth() + 1).toString().padStart(2, \"0\"),\n  dd: (d: Date) => d.getDate().toString().padStart(2, \"0\"),\n  HH: (d: Date) => d.getHours().toString().padStart(2, \"0\"),\n  mm: (d: Date) => d.getMinutes().toString().padStart(2, \"0\"),\n  ss: (d: Date) => d.getSeconds().toString().padStart(2, \"0\"),\n};\n\n/**\n * 格式化时间\n * @param date 时间对象\n * @param format 日期格式\n * @return 格式化后的字符串\n */\nexport function dateFormat(date: Date, format: string): string {\n  return format.replace(/yyyy|yy|MM|dd|HH|mm|ss/g, (match) =>\n    dateFormatMap[match as keyof typeof dateFormatMap]?.(date)\n  );\n}\n","export const classPrefix = \"mfuns-player\";\r\n\r\nexport const version = __MFUNSPLAYER_VERSION__;\r\nexport const gitHash = __MFUNSPLAYER_GIT_HASH__;\r\n\r\n/** 项目链接 */\r\nexport const repositoryLink = \"https://github.com/Mfuns-cn/mfunsPlayer/tree/v3-beta\";\r\n\r\n/** 开发者列表 */\r\nexport const developers = [\r\n  { name: \"Minteea\", id: \"Minteea\", link: \"https://github.com/Minteea\" },\r\n  { name: \"鲁迪钨丝\", id: \"Rudiusu\", link: \"https://github.com/Rudiusu\" },\r\n];\r\n","import { LoadInfo, MediaController, PlayerOptions, VideoInfo } from \"@/types\";\r\nimport { Player } from \"@/player\";\r\nimport { PlayerEventMap } from \"@/types/PlayerEventMap\";\r\nimport { createElement } from \"@/utils\";\r\nimport { classPrefix } from \"@/config\";\r\n\r\nconst videoEventMap: {\r\n  [k in keyof PlayerEventMap & keyof HTMLVideoElementEventMap]?: (\r\n    v: HTMLVideoElement\r\n  ) => Parameters<PlayerEventMap[k]>;\r\n} = {\r\n  play: () => [],\r\n  pause: () => [],\r\n  ended: () => [],\r\n\r\n  loadeddata: () => [],\r\n  loadedmetadata: () => [],\r\n  waiting: () => [],\r\n  playing: () => [],\r\n  canplay: () => [],\r\n  canplaythrough: () => [],\r\n\r\n  timeupdate: (v) => [v.currentTime],\r\n  durationchange: (v) => [v.duration],\r\n  progress: (v) => [v.buffered],\r\n  seeking: (v) => [v.currentTime],\r\n  seeked: (v) => [v.currentTime],\r\n  volumechange: (v) => [v.volume, v.muted],\r\n  ratechange: (v) => [v.playbackRate],\r\n\r\n  enterpictureinpicture: () => [],\r\n  leavepictureinpicture: () => [],\r\n};\r\n\r\nexport default class VideoController {\r\n  /** 播放器主体 */\r\n  player: Player;\r\n  /** video对象 */\r\n  $el: HTMLVideoElement;\r\n\r\n  ratio: [number, number] | null = null;\r\n\r\n  /** 视频信息 */\r\n  info: VideoInfo = {};\r\n\r\n  mediaController: MediaController | null = null;\r\n\r\n  private detachEventController?: AbortController;\r\n\r\n  constructor(player: Player, options: PlayerOptions) {\r\n    this.player = player;\r\n\r\n    this.$el = this.player.$content.appendChild(\r\n      createElement(\"video\", { class: `${classPrefix}-video` })\r\n    );\r\n\r\n    this._attachEvent(this.$el);\r\n\r\n    this.player.on(\"ended\", () => {\r\n      this.player.hook.call(\"end\").then((res) => {\r\n        if (res) this.player.emit(\"end\");\r\n      });\r\n    });\r\n  }\r\n\r\n  /** 设置视频 */\r\n  public set(info: VideoInfo, play?: boolean, time?: number) {\r\n    this.player.hook.call(\"video.set\", info).then(async (res) => {\r\n      if (res) {\r\n        // 销毁并丢弃原视频控制实例\r\n        this.mediaController?.destroy?.();\r\n        this.mediaController = null;\r\n        // 设置新视频信息\r\n        this.info = info;\r\n        this.player.emit(\"videoChange\", { ...info });\r\n        // 加载视频\r\n        let { url, type, live } = info;\r\n        const loadInfo = { url, type, play, time, live };\r\n        this.player.hook.call(\"video.beforeLoad\", loadInfo).then(() => {\r\n          if (loadInfo.url) {\r\n            this.load(loadInfo as LoadInfo);\r\n          } else {\r\n            this.player.throw(new Error(\"缺少视频播放信息\"));\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  /** 加载视频 */\r\n  public load(info: LoadInfo) {\r\n    this.player.hook.call(\"video.load\", info).then((res) => {\r\n      if (res) {\r\n        this.mediaController = this.player.loader.create(info, this.$el);\r\n        this.player.emit(\"videoLoad\", info);\r\n      } else {\r\n        this.player.throw(new Error(\"视频加载失败\"));\r\n      }\r\n    });\r\n  }\r\n\r\n  /** 添加视频事件 */\r\n  private _attachEvent(video: HTMLVideoElement) {\r\n    this.detachEventController = new AbortController();\r\n    for (const eventName in videoEventMap) {\r\n      const values =\r\n        videoEventMap[eventName as keyof HTMLVideoElementEventMap & keyof PlayerEventMap]!;\r\n      video.addEventListener(\r\n        eventName,\r\n        () => {\r\n          this.player.emit(\r\n            eventName as keyof HTMLVideoElementEventMap & keyof PlayerEventMap,\r\n            ...values(video)\r\n          );\r\n        },\r\n        { signal: this.detachEventController.signal }\r\n      );\r\n    }\r\n  }\r\n\r\n  public bind(el: HTMLVideoElement) {\r\n    this.$el = el;\r\n    this.detachEventController?.abort();\r\n    this._attachEvent(el);\r\n  }\r\n\r\n  /** 获取播放信息 */\r\n  getVideoInfo() {\r\n    return {\r\n      ...this.info,\r\n    };\r\n  }\r\n  /** 获取媒体信息 */\r\n  getMediaInfo() {\r\n    return {\r\n      url: this.mediaController?.url,\r\n      type: this.mediaController?.type || \"\",\r\n      live: this.mediaController?.live || false,\r\n    };\r\n  }\r\n}\r\n","import { Player } from \"@/player\";\r\nimport { PluginFrom } from \"@/plugin\";\r\nimport { PlayerOptions, PluginItem, PluginConstructor } from \"@/types\";\r\n\r\nexport default class PluginManager {\r\n  player: Player;\r\n  get list() {\r\n    return this.player.plugins as unknown as Record<string, PluginItem>;\r\n  }\r\n  private isInit = false;\r\n  private isReady = false;\r\n  private isMounted = false;\r\n  constructor(player: Player) {\r\n    this.player = player;\r\n  }\r\n\r\n  /** 插件模块初始化 @internal */\r\n  init(options: PlayerOptions) {\r\n    if (this.isInit) return;\r\n    this.isInit = true;\r\n    options.plugins?.forEach((pluginItem) => {\r\n      this.register(pluginItem, options);\r\n    });\r\n    this.pluginsReady();\r\n    this.player.emit(\"ready\");\r\n    this.player.once(\"mounted\", () => {\r\n      this.playerMounted();\r\n    });\r\n  }\r\n\r\n  /** 注册插件 */\r\n  register(pluginItem: PluginConstructor | PluginItem, options: PlayerOptions) {\r\n    const plugin: PluginItem =\r\n      typeof pluginItem == \"function\" ? new pluginItem(this.player) : pluginItem;\r\n    if (pluginItem.pluginName) this.list[pluginItem.pluginName] = plugin;\r\n    if (plugin.initialized) return;\r\n    plugin.init?.(this.player);\r\n    plugin.apply?.(this.player, options);\r\n    this.isReady && plugin.ready?.(this.player);\r\n    this.isMounted && plugin.mounted?.(this.player);\r\n    plugin.initialized = true;\r\n  }\r\n\r\n  /** 访问已安装插件实例 */\r\n  get(name: string): PluginItem | undefined {\r\n    return this.list[name];\r\n  }\r\n\r\n  /** 获取插件实例 */\r\n  from<T extends PluginItem>(item: PluginFrom<T>): T | undefined {\r\n    switch (typeof item) {\r\n      case \"object\":\r\n        return item;\r\n      case \"function\":\r\n        return this.build(item);\r\n      default:\r\n        return this.list[item] as T;\r\n    }\r\n  }\r\n\r\n  /** 初始化插件实例 */\r\n  build<T extends PluginItem>(\r\n    pluginItem: (new (player: Player) => T) | T,\r\n    options: PlayerOptions = {}\r\n  ): T {\r\n    const plugin: T = typeof pluginItem == \"function\" ? new pluginItem(this.player) : pluginItem;\r\n    if (plugin.initialized) return plugin;\r\n    plugin.init?.(this.player);\r\n    plugin.apply?.(this.player, options);\r\n    this.isReady\r\n      ? plugin.ready?.(this.player)\r\n      : this.player.once(\"ready\", () => plugin.mounted?.(this.player));\r\n    this.isMounted\r\n      ? plugin.mounted?.(this.player)\r\n      : this.player.once(\"mounted\", () => plugin.mounted?.(this.player));\r\n    plugin.initialized = true;\r\n    return plugin;\r\n  }\r\n\r\n  /** 所有插件注册完毕后执行 @internal */\r\n  protected pluginsReady() {\r\n    if (this.isReady) return;\r\n    for (const name in this.list) {\r\n      const plugin = this.list[name];\r\n      plugin.ready?.(this.player);\r\n    }\r\n    this.isReady = true;\r\n  }\r\n\r\n  /** 播放器挂载后执行 @internal */\r\n  protected playerMounted() {\r\n    if (this.isMounted) return;\r\n    for (const name in this.list) {\r\n      const plugin = this.list[name];\r\n      plugin.mounted?.(this.player);\r\n    }\r\n  }\r\n\r\n  /** 销毁所有插件 @internal */\r\n  destroy() {\r\n    for (const name in this.list) {\r\n      const plugin = this.list[name];\r\n      plugin.destroy?.();\r\n    }\r\n  }\r\n}\r\n","import { PlayerHookMap } from \"@/types\";\r\n\r\ntype MaybePromise<T> = T | Promise<T>;\r\n\r\nexport type HookFunction<T> = (ctx: T) => MaybePromise<void | boolean>;\r\n\r\nexport default class HookManager {\r\n  protected hooks: Record<string, HookFunction<any>[]> = {};\r\n\r\n  /** 注册钩子 */\r\n  register<T extends keyof PlayerHookMap>(\r\n    name: T,\r\n    func: HookFunction<PlayerHookMap[T]>,\r\n    before = false\r\n  ) {\r\n    let hook = this.hooks[name];\r\n    if (!hook) {\r\n      hook = [];\r\n      this.hooks[name] = hook;\r\n    }\r\n    before ? hook.unshift(func) : hook.push(func);\r\n  }\r\n\r\n  /** 移除钩子 */\r\n  unregister<T extends keyof PlayerHookMap>(name: T, func: HookFunction<PlayerHookMap[T]>) {\r\n    let hook = this.hooks[name];\r\n    if (!hook) {\r\n      hook = [];\r\n      this.hooks[name] = hook;\r\n    }\r\n    const index = hook.indexOf(func);\r\n    if (index > -1) hook.splice(index, 1);\r\n  }\r\n\r\n  call<T extends keyof PlayerHookMap>(\r\n    name: PlayerHookMap[T] extends void ? T : never,\r\n    ctx: void,\r\n    defaultFunc?: HookFunction<PlayerHookMap[T]>\r\n  ): Promise<boolean>;\r\n  call<T extends keyof PlayerHookMap>(\r\n    name: T,\r\n    ctx: PlayerHookMap[T],\r\n    defaultFunc?: HookFunction<PlayerHookMap[T]>\r\n  ): Promise<boolean>;\r\n  /** 调用钩子函数\r\n   * @param name 钩子名称\r\n   * @param ctx 钩子上下文\r\n   * @param defaultFunc 钩子在正常遍历完毕后最终执行的钩子函数\r\n   */\r\n  async call<T extends keyof PlayerHookMap>(\r\n    name: T,\r\n    ctx: PlayerHookMap[T],\r\n    defaultFunc?: HookFunction<PlayerHookMap[T]>\r\n  ) {\r\n    const hook = this.hooks[name];\r\n    if (hook?.length) {\r\n      for (const f of hook) {\r\n        const res = await f(ctx);\r\n        if (res == true) {\r\n          console.log(`钩子提前结束调用: ${name}`);\r\n          console.log(f);\r\n          return true;\r\n        } else if (res == false) {\r\n          console.log(`钩子被拦截: ${name}`);\r\n          console.log(f);\r\n          return false;\r\n        }\r\n      }\r\n    }\r\n    console.log(`钩子调用完毕: ${name}`);\r\n    console.log(ctx);\r\n    return defaultFunc?.(ctx as any) ?? true;\r\n  }\r\n}\r\n","import { Player } from \"@/player\";\r\nimport { LoadInfo, MediaController, MediaLoader, PlayerHookMap } from \"@/types\";\r\n\r\nexport default class LoaderManager {\r\n  protected list = new Map<string, MediaLoader>();\r\n  protected player: Player;\r\n\r\n  constructor(player: Player) {\r\n    this.player = player;\r\n  }\r\n\r\n  /** 注册加载器 */\r\n  register(name: string, loader: MediaLoader) {\r\n    this.list.set(name, loader);\r\n  }\r\n\r\n  /** 移除加载器 */\r\n  unregister<T extends keyof PlayerHookMap>(name: T) {\r\n    this.list.delete(name);\r\n  }\r\n\r\n  /** 创建媒体控制实例 */\r\n  create(info: LoadInfo, video: HTMLVideoElement) {\r\n    for (const [name, loader] of this.list) {\r\n      if (loader.check(info)) return loader.create(info, video);\r\n    }\r\n    return this.createDefault(info, video);\r\n  }\r\n\r\n  /** 常规方式创建实例 */\r\n  createDefault(info: LoadInfo, video: HTMLVideoElement): MediaController {\r\n    const { type, url, live, play, time } = info;\r\n    const controller: MediaController = {\r\n      type: type || \"\",\r\n      url: url,\r\n      live: live || false,\r\n      mediaElement: video,\r\n      destroy() {\r\n        this.mediaElement.src = \"\";\r\n      },\r\n    };\r\n    const t = time === true ? this.player.currentTime : time;\r\n    video.src = url;\r\n    video.addEventListener(\r\n      \"loadeddata\",\r\n      () => {\r\n        if (t) {\r\n          this.player.seek(t);\r\n        }\r\n        if (play) {\r\n          this.player.play();\r\n        }\r\n      },\r\n      { once: true }\r\n    );\r\n    return controller;\r\n  }\r\n}\r\n","import { PlayerEventMap } from \"@/types\";\r\n\r\nexport default class EventEmitter {\r\n  protected listeners: Record<string, ((...args: any[]) => void)[]> = {};\r\n  protected onceListeners: Record<string, ((...args: any[]) => void)[]> = {};\r\n\r\n  readonly customEventList: string[] = [];\r\n\r\n  /** 添加监听 */\r\n  on<T extends keyof PlayerEventMap>(name: T, listener: PlayerEventMap[T]) {\r\n    if (!this.listeners[name]) {\r\n      this.listeners[name] = [];\r\n    }\r\n    this.listeners[name].push(listener);\r\n  }\r\n\r\n  /** 添加一次性监听 */\r\n  once<T extends keyof PlayerEventMap>(name: T, listener: PlayerEventMap[T]) {\r\n    if (!this.onceListeners[name]) {\r\n      this.onceListeners[name] = [];\r\n    }\r\n    this.onceListeners[name].push(listener);\r\n  }\r\n\r\n  /** 移除监听 */\r\n  off<T extends keyof PlayerEventMap>(name: T, listener: PlayerEventMap[T]) {\r\n    if (!this.listeners[name]) {\r\n      this.listeners[name] = [];\r\n    }\r\n    const index = this.listeners[name].indexOf(listener);\r\n    if (index > -1) this.listeners[name].splice(index, 1);\r\n  }\r\n\r\n  /** 触发事件 */\r\n  emit<T extends keyof PlayerEventMap>(name: T, ...args: Parameters<PlayerEventMap[T]>) {\r\n    if (this.listeners[name]?.length) {\r\n      for (let i = 0; i < this.listeners[name].length; i++) {\r\n        this.listeners[name][i](...args);\r\n      }\r\n    }\r\n    if (this.onceListeners[name]?.length) {\r\n      for (let i = 0; i < this.onceListeners[name].length; i++) {\r\n        this.onceListeners[name][i](...args);\r\n      }\r\n      this.onceListeners[name] = [];\r\n    }\r\n  }\r\n}\r\n","import {\r\n  LoadInfo,\r\n  MediaController,\r\n  PlayerInvokes,\r\n  PlayerPlugins,\r\n  PlayerPropertyDescriptor,\r\n  VideoInfo,\r\n} from \"./types\";\r\nimport { PlayerOptions } from \"@/types\";\r\nimport { PlayerEventMap } from \"./types/PlayerEventMap\";\r\nimport { clamp, createElement } from \"./utils\";\r\nimport { classPrefix, gitHash, version } from \"./config\";\r\nimport VideoController from \"./module/videoController\";\r\nimport PluginManager from \"./module/pluginManager\";\r\nimport HookManager from \"./module/hookManager\";\r\nimport LoaderManager from \"./module/loaderManager\";\r\nimport EventEmitter from \"./module/eventEmitter\";\r\n\r\n/**\r\n * @event\r\n */\r\nexport class Player {\r\n  static readonly version = version;\r\n  static readonly gitHash = gitHash;\r\n  /** 容器 */\r\n  readonly container?: HTMLElement;\r\n  /** 播放器元素 */\r\n  readonly $el: HTMLDivElement;\r\n  /** 播放器主要区域 */\r\n  readonly $main: HTMLDivElement;\r\n  /** 播放器视频区域 */\r\n  readonly $area: HTMLDivElement;\r\n  /** 播放器视频容器 */\r\n  readonly $content: HTMLDivElement;\r\n  /** hook */\r\n  readonly hook = new HookManager();\r\n  /** 媒体加载器 */\r\n  readonly loader: LoaderManager;\r\n  /** 插件 */\r\n  readonly plugins: PlayerPlugins = {};\r\n  /** 外部调用 */\r\n  readonly invokes: PlayerInvokes = {};\r\n  /** 插件管理 */\r\n  readonly plugin: PluginManager;\r\n  /** 视频控制 */\r\n  protected _videoController: VideoController;\r\n  /** 事件机制 */\r\n  protected _eventEmitter = new EventEmitter();\r\n  /** Player类 */\r\n  readonly Player = Player;\r\n\r\n  constructor(options: PlayerOptions) {\r\n    this.container = options.container;\r\n\r\n    this.$el = createElement(\"div\", { class: `${classPrefix} mpui` });\r\n    this.$main = this.$el.appendChild(createElement(\"div\", { class: `${classPrefix}-main` }));\r\n    this.$area = this.$main.appendChild(createElement(\"div\", { class: `${classPrefix}-area` }));\r\n    this.$content = this.$area.appendChild(\r\n      createElement(\"div\", { class: `${classPrefix}-content` })\r\n    );\r\n    this.invokes = options.invokes ?? {};\r\n\r\n    this.plugin = new PluginManager(this);\r\n    this._videoController = new VideoController(this, options);\r\n    this.loader = new LoaderManager(this);\r\n\r\n    this.init(options);\r\n  }\r\n\r\n  /** 初始化播放器 */\r\n  private async init(options: PlayerOptions) {\r\n    // 状态事件\r\n    this.on(\"videoChange\", () => {\r\n      this.$el.classList.add(\"is-start\");\r\n    });\r\n    this.$el.classList.add(\"is-paused\");\r\n    this.on(\"play\", () => {\r\n      this.$el.classList.remove(\"is-start\");\r\n      this.$el.classList.remove(\"is-paused\");\r\n    });\r\n    this.on(\"pause\", () => {\r\n      this.$el.classList.add(\"is-paused\");\r\n    });\r\n    this.on(\"waiting\", () => {\r\n      this.$el.classList.add(\"is-loading\");\r\n    });\r\n    this.on(\"playing\", () => {\r\n      this.$el.classList.remove(\"is-loading\");\r\n    });\r\n\r\n    // 注册列表中的插件\r\n    this.plugin.init(options);\r\n\r\n    // 播放器挂载\r\n    this.container?.appendChild(this.$el);\r\n\r\n    this.emit(\"mounted\");\r\n\r\n    // 装载视频\r\n    this._videoController.set(options.video || {}, options.autoPlay, options.time);\r\n  }\r\n\r\n  /** 播放器视频元素 */\r\n  get $video(): HTMLVideoElement {\r\n    return this._videoController.$el;\r\n  }\r\n\r\n  /** 获取视频信息 */\r\n  getVideoInfo() {\r\n    return this._videoController.getVideoInfo();\r\n  }\r\n\r\n  /** 获取媒体信息 */\r\n  getMediaInfo() {\r\n    return this._videoController.getMediaInfo();\r\n  }\r\n\r\n  /** 获取播放器的媒体元素 */\r\n  getMediaElement(): HTMLVideoElement {\r\n    return this._videoController.$el;\r\n  }\r\n\r\n  /** 绑定媒体元素 */\r\n  attachMediaElement(el: HTMLVideoElement) {\r\n    this._videoController.bind(el);\r\n  }\r\n\r\n  /** 获取媒体控制实例 */\r\n  getMediaController(): MediaController | null {\r\n    return this._videoController.mediaController;\r\n  }\r\n\r\n  /** 绑定媒体控制实例 */\r\n  attachMediaController(controller: MediaController) {\r\n    this._videoController.mediaController = controller;\r\n    this._videoController.bind(controller.mediaElement);\r\n  }\r\n\r\n  /** 设置视频内容 */\r\n  setVideo(info: VideoInfo, play?: boolean, time?: number) {\r\n    return this._videoController.set(info, play, time);\r\n  }\r\n\r\n  /** 加载视频源 */\r\n  loadVideo(info: LoadInfo) {\r\n    return this._videoController.load(info);\r\n  }\r\n\r\n  // --- 播放切换控制 --- //\r\n\r\n  /** 切换上一个 */\r\n  public prev() {\r\n    this.hook.call(\"prev\");\r\n  }\r\n\r\n  /** 切换下一个 */\r\n  public next() {\r\n    this.hook.call(\"next\");\r\n  }\r\n\r\n  // --- 视频播放控制 --- //\r\n\r\n  /** 当前播放器暂停状态 */\r\n  get paused() {\r\n    return this.$video.paused;\r\n  }\r\n\r\n  /** 当前播放时间 */\r\n  public get currentTime() {\r\n    return this.$video.currentTime;\r\n  }\r\n\r\n  /** 当前播放总时间 */\r\n  public get duration() {\r\n    return this.$video.duration;\r\n  }\r\n\r\n  /** 当前播放音量 */\r\n  public get volume() {\r\n    return this.$video.volume;\r\n  }\r\n\r\n  /** 当前静音状态 */\r\n  public get muted() {\r\n    return this.$video.muted;\r\n  }\r\n\r\n  /** 当前播放速度 */\r\n  public get playbackRate() {\r\n    return this.$video.playbackRate;\r\n  }\r\n\r\n  /** 当前视频循环 */\r\n  public get loop() {\r\n    return this.$video.loop;\r\n  }\r\n\r\n  /** 开始播放 */\r\n  public play() {\r\n    this.hook.call(\"play\").then((res) => {\r\n      if (res) this.$video.play();\r\n    });\r\n  }\r\n\r\n  /** 暂停播放 */\r\n  public pause() {\r\n    this.hook.call(\"pause\").then((res) => {\r\n      if (res) this.$video.pause();\r\n    });\r\n  }\r\n\r\n  /** 跳转\r\n   * @param time 跳转时间点（秒）\r\n   */\r\n  public seek(time: number) {\r\n    this.hook.call(\"seek\").then((res) => {\r\n      if (res) {\r\n        this.$video.currentTime = clamp(time, 0, this.$video.duration);\r\n      }\r\n    });\r\n  }\r\n\r\n  /** 设置音量\r\n   * @param volume 音量（0-1）\r\n   */\r\n  public setVolume(volume: number) {\r\n    this.$video.volume = clamp(volume, 0, 1);\r\n  }\r\n\r\n  /** 静音 */\r\n  public setMuted(flag: boolean) {\r\n    this.$video.muted = flag;\r\n  }\r\n\r\n  /** 设置倍速 */\r\n  public setPlaybackRate(value: number) {\r\n    this.$video.playbackRate = value;\r\n  }\r\n\r\n  /** 设置视频循环 */\r\n  public setLoop(flag: boolean) {\r\n    this.$video.loop = flag;\r\n    this.emit(\"loopChange\", flag);\r\n  }\r\n\r\n  // --- 事件 --- //\r\n\r\n  /** 监听事件 */\r\n  public on<T extends keyof PlayerEventMap>(name: T, listener: PlayerEventMap[T]) {\r\n    this._eventEmitter.on(name, listener);\r\n  }\r\n\r\n  /** 取消监听事件 */\r\n  public off<T extends keyof PlayerEventMap>(name: T, listener: PlayerEventMap[T]) {\r\n    this._eventEmitter.off(name, listener);\r\n  }\r\n\r\n  /** 一次性监听事件 */\r\n  public once<T extends keyof PlayerEventMap>(name: T, listener: PlayerEventMap[T]) {\r\n    this._eventEmitter.once(name, listener);\r\n  }\r\n\r\n  /** 发送事件 */\r\n  public emit<T extends keyof PlayerEventMap>(name: T, ...args: Parameters<PlayerEventMap[T]>) {\r\n    this._eventEmitter.emit(name, ...args);\r\n  }\r\n\r\n  /** 定义属性或方法 */\r\n  public define<T extends keyof Player>(\r\n    name: Player[T] extends Function | undefined ? T : never,\r\n    item: Function\r\n  ): void;\r\n  public define<T extends keyof Player>(name: T, item: PlayerPropertyDescriptor<Player[T]>): void;\r\n  public define(name: string, item: Function | PropertyDescriptor) {\r\n    Object.defineProperty(this, name, typeof item == \"function\" ? { value: item } : item);\r\n  }\r\n\r\n  /** 抛出错误 */\r\n  public throw(err: Error) {\r\n    console.error(err);\r\n    this.emit(\"error\", err);\r\n  }\r\n\r\n  /** 播放器销毁 */\r\n  public destroy() {\r\n    // 所有插件执行destroy函数\r\n    this.plugin.destroy();\r\n  }\r\n}\r\n\r\nexport default Player;\r\n","import { PlayerOptions, PluginItem } from \"@/types\";\r\nimport { Player } from \"@/player\";\r\n\r\n/** 基础插件 */\r\nexport abstract class BasePlugin implements PluginItem {\r\n  static pluginName: string;\r\n  protected readonly player: Player;\r\n  protected readonly plugins: Player[\"plugins\"];\r\n  /** 抛出错误 */\r\n  protected readonly throw: Player[\"throw\"];\r\n  constructor(player: Player) {\r\n    this.player = player;\r\n    this.plugins = player.plugins;\r\n    this.throw = player.throw;\r\n  }\r\n  /** 插件创建后 */\r\n  init?(player: Player): void;\r\n  /** 作为插件注册 */\r\n  apply?(player: Player, options: PlayerOptions): void;\r\n  /** 所有插件加载后 */\r\n  ready?(player: Player): void;\r\n  /** 播放器挂载后 */\r\n  mounted?(player: Player): void;\r\n  /** 执行销毁 */\r\n  destroy?(): void;\r\n}\r\n\r\n/** UI组件 */\r\nexport interface UIItem extends PluginItem {\r\n  /** 组件元素 */\r\n  $el: HTMLElement;\r\n  /** 组件标题 */\r\n  title?: string;\r\n  /** 忽略该组件，用于不支持的情况 */\r\n  ignored?: boolean;\r\n}\r\n\r\n/** 可挂载组件 */\r\nexport interface MountableItem extends UIItem {\r\n  /** 将组件挂载到父元素 */\r\n  mount(\r\n    /** 挂载的容器元素 */\r\n    el: HTMLElement,\r\n    opt?: {\r\n      /** 挂载组件时执行的逻辑 */\r\n      onToggle?: (flag: boolean) => void;\r\n      /** 卸载组件时执行的逻辑 */\r\n      onUnmount?: () => void;\r\n    }\r\n  ): void;\r\n  /** 卸载组件 */\r\n  unmount(): void;\r\n}\r\n\r\n/** 控制组件 */\r\nexport interface ControlsItem extends UIItem {}\r\n\r\n/** 面板组件 */\r\nexport interface PanelItem extends MountableItem {\r\n  toggle?(flag?: boolean): void;\r\n}\r\n\r\n/** 菜单项组件 */\r\nexport interface MenuItem extends PluginItem {\r\n  icon?: HTMLElement | ((player: Player) => HTMLElement);\r\n  content: string | HTMLElement | ((player: Player) => string | HTMLElement);\r\n  onClick?: (player: Player) => void;\r\n}\r\n\r\n/** 界面插件 */\r\nexport abstract class UIPlugin extends BasePlugin {\r\n  $el: HTMLElement;\r\n  $<T extends HTMLElement>(selectors: string) {\r\n    return this.$el.querySelector<T>(selectors)!;\r\n  }\r\n  constructor(player: Player, el: HTMLElement) {\r\n    super(player);\r\n    this.$el = el;\r\n  }\r\n}\r\n\r\n/** 可挂载组件插件 */\r\nexport abstract class MountablePlugin extends UIPlugin implements MountableItem {\r\n  title?: string;\r\n  #onUnmount?: () => void;\r\n  /** 挂载 */\r\n  mount(el: HTMLElement, opt?: { onUnmount?: () => void }) {\r\n    el.appendChild(this.$el);\r\n    this.unmount();\r\n    this.#onUnmount = opt?.onUnmount;\r\n  }\r\n  /** 卸载 */\r\n  unmount() {\r\n    this.#onUnmount?.();\r\n    this.#onUnmount = undefined;\r\n  }\r\n  show() {\r\n    this.$el.style.display = \"\";\r\n  }\r\n  hide() {\r\n    this.$el.style.display = \"none\";\r\n  }\r\n}\r\n\r\n/** 控制组件插件 */\r\nexport abstract class ControlsPlugin extends MountablePlugin implements ControlsItem {}\r\n\r\n/** 面板插件 */\r\nexport abstract class PanelPlugin extends MountablePlugin implements PanelItem {\r\n  title?: string;\r\n  container?: HTMLElement;\r\n  #onToggle?: (flag: boolean) => void;\r\n  shown = false;\r\n  constructor(player: Player, el: HTMLElement) {\r\n    super(player, el);\r\n  }\r\n  /** 挂载 */\r\n  mount(el: HTMLElement, opt?: { onToggle?: (flag: boolean) => void; onUnmount?: () => void }) {\r\n    super.mount(el, { onUnmount: opt?.onUnmount });\r\n    this.#onToggle = opt?.onToggle;\r\n  }\r\n  /** 卸载 */\r\n  unmount() {\r\n    this.toggle(false);\r\n    super.unmount();\r\n    this.#onToggle = undefined;\r\n  }\r\n  /** 切换显示隐藏状态 */\r\n  toggle(flag?: boolean) {\r\n    this.shown = flag ?? !this.shown;\r\n    this.#onToggle?.(this.shown);\r\n  }\r\n}\r\n\r\n/** 菜单项插件 */\r\nexport abstract class MenuPlugin extends BasePlugin implements MenuItem {\r\n  abstract name: string;\r\n  abstract content: string | HTMLElement | ((player: Player) => string | HTMLElement);\r\n}\r\n\r\nexport interface MountableContainer {\r\n  append(panel: MountablePlugin, position?: string): void;\r\n}\r\n\r\nexport type PluginFrom<T = PluginItem> = (new (player: Player) => T) | T | string;\r\n","import { createElement } from \"@/utils\";\n\nconst template = ({ divider }: { divider: number }) => /*html*/ `\n  <div\n    class=\"mpui-slider-track\"\n    style=\"\n    position: absolute;\n    width: 100%;\n    top: 50%;\n    transform: translateY(-50%);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  \"\n  >\n    <div class=\"mpui-slider-bar\" style=\"position: absolute; left: 0; height: 100%\"></div>\n    <div class=\"mpui-slider-thumb-track\" style=\"height: 0px\">\n      <div\n        class=\"mpui-slider-thumb\"\n        style=\"position: absolute; transform: translate(-50%, -50%)\"\n      ></div>\n      ${\n        divider\n          ? /*html*/ `\n            <div class=\"mpui-slider-divider\">\n              ${new Array(divider).fill(/*html*/ `<div class=\"mpui-slider-divider-dot\"></div>`).join(\"\")}\n            </div>\n          `\n          : \"\"\n      }\n    </div>\n  </div>\n`;\n\ninterface SliderOptions {\n  /** 挂载容器 */\n  container: HTMLElement;\n  /** 最小值 */\n  min: number;\n  /** 最大值 */\n  max: number;\n  /** 步长(若不填或为0，则没有步长限制) */\n  step?: number;\n  /** 分割线 */\n  divider?: number | boolean;\n  /** 默认值(不填的情况下默认值为0) */\n  value?: number;\n  /** 数值更改时触发 */\n  onChange?: (value: number) => void;\n  /** 拖动引发数值更改时触发 */\n  onDrag?: (value: number) => void;\n  /** 开始拖动时触发 */\n  onDragStart?: (value: number) => void;\n  /** 结束拖动时触发 */\n  onDragEnd?: (value: number) => void;\n}\n\n/** 横向滑动条 */\nexport class Slider implements SliderOptions {\n  readonly container: HTMLElement;\n  readonly min: number;\n  readonly max: number;\n  /** 步长 */\n  readonly step: number;\n  /** 分割线 */\n  readonly divider: number;\n  /** 数值 */\n  value: number;\n  onChange?: (value: number) => void;\n  onDragStart?: (value: number) => void;\n  onDragEnd?: (value: number) => void;\n  onDrag?: (value: number) => void;\n\n  // 部件\n  $el: HTMLElement;\n\n  $track: HTMLElement;\n\n  $bar: HTMLElement;\n\n  $thumbTrack: HTMLElement;\n\n  $thumb: HTMLElement;\n\n  constructor({\n    container,\n    min,\n    max,\n    step,\n    divider = 0,\n    value = 0,\n    onChange,\n    onDragStart,\n    onDragEnd,\n    onDrag,\n  }: SliderOptions) {\n    this.container = container;\n    this.min = min;\n    this.max = max;\n    this.step = step || 0;\n    this.divider = divider ? (typeof divider === \"boolean\" ? this.step : divider) : 0;\n    this.value = isNaN(value) ? value : Number(value);\n    this.onChange = onChange;\n    this.onDragStart = onDragStart;\n    this.onDragEnd = onDragEnd;\n    this.onDrag = onDrag;\n\n    this.$el = this.container.appendChild(\n      createElement(\n        \"div\",\n        {\n          class: `mpui-slider mpui-slider-horizontal`,\n          style: \"position: relative; width: 100%; height: 100%\",\n        },\n        template({ divider: this.divider })\n      )\n    );\n    this.$track = this.$el.querySelector(\".mpui-slider-track\")!; // 滑动条轨道\n    this.$bar = this.$track.querySelector(\".mpui-slider-bar\")!; // 滑动条痕迹\n    this.$thumbTrack = this.$track.querySelector(\".mpui-slider-thumb-track\")!; // 滑块轨道\n    this.$thumb = this.$track.querySelector(\".mpui-slider-thumb\")!; // 滑块\n\n    // 滑动条事件\n    this.$el.addEventListener(\"mousedown\", (event: MouseEvent) => {\n      const e: MouseEvent = event;\n      // 鼠标X位置\n      const { clientX } = e;\n      // 滑块长度\n      const trackLength = this.$track.offsetWidth;\n      // 滑块可滑动距离\n      let nMax = this.$thumbTrack.offsetWidth;\n      nMax = nMax || trackLength;\n      // 滑块轨道与总轨道距离差\n      const thumbTrackX = (trackLength - nMax) / 2;\n      // 滑动条位置\n      const nLeft = this.$el.getBoundingClientRect().left;\n      // 计算滑块位置\n      let nLength = clientX - nLeft - thumbTrackX;\n      // 限制滑块移动位置\n      nLength = nLength >= nMax ? nMax : nLength <= 0 ? 0 : nLength;\n      const value = this.step\n        ? Math.round(((nLength / nMax) * (this.max - this.min)) / this.step) * this.step + this.min\n        : (nLength / nMax) * (this.max - this.min) + this.min;\n      // 开始滑动事件\n      this.onDragStart?.(value);\n      // 监测数据更新并执行函数\n      if (this.value != value) {\n        this.drag(value);\n      }\n\n      const mousemoveEvent = (event: MouseEvent) => {\n        const e: MouseEvent = event;\n        // 鼠标X位置\n        const { clientX } = e;\n        // 鼠标移动时取消默认行为，避免选中其他元素或文字\n        e.preventDefault();\n        e.stopPropagation();\n        // 获取鼠标移动后滑块应该移动到的位置\n        let nLength = clientX - nLeft - thumbTrackX;\n        // 限制滑块移动位置\n        nLength = nLength >= nMax ? nMax : nLength <= 0 ? 0 : nLength;\n\n        const value = this.step\n          ? Math.round(((nLength / nMax) * (this.max - this.min)) / this.step) * this.step +\n            this.min\n          : (nLength / nMax) * (this.max - this.min) + this.min;\n        // 监测数据更新并执行函数\n        if (this.value != value) {\n          this.drag(value);\n        }\n        window.getSelection()?.removeAllRanges();\n      };\n\n      const removeEvent = (event: MouseEvent) => {\n        const e: MouseEvent = event;\n        e.stopPropagation();\n        window.getSelection()?.removeAllRanges();\n        document.removeEventListener(\"mousemove\", mousemoveEvent);\n        document.removeEventListener(\"mouseup\", removeEvent);\n        this.onDragEnd?.(value);\n      };\n\n      document.addEventListener(\"mousemove\", mousemoveEvent);\n      document.addEventListener(\"mouseup\", removeEvent);\n    });\n\n    // 设置滑块初始位置\n    this.setValue(this.value);\n  }\n\n  /** 设置滑动条值 */\n  public setValue(value: number) {\n    this.value = value <= this.min ? this.min : value >= this.max ? this.max : value;\n    // 计算滑块位置\n    const per = (this.value - this.min) / (this.max - this.min);\n    // 修改滑块位置\n    this.$thumb.style.left = `${per * 100}%`;\n    // 修改滑动痕迹高度\n    this.$bar.style.width = `${per * 100}%`;\n    // 触发数据更改事件\n    this.onChange?.(this.value);\n  }\n\n  /** 拖动滑动条到特定的值 */\n  public drag(value: number) {\n    this.setValue(value);\n    // 触发拖动事件\n    this.onDrag?.(this.value);\n  }\n}\n","import { createElement } from \"@/utils\";\r\n\r\nconst templateHTML = /*html*/ `\r\n  <div\r\n    class=\"mpui-slider-track\"\r\n    style=\"\r\n      position: absolute;\r\n      height: 100%;\r\n      left: 50%;\r\n      transform: translateX(-50%);\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center\r\n    \"\r\n  >\r\n    <div class=\"mpui-slider-bar\" style=\"position: absolute; bottom: 0; width: 100%\"></div>\r\n    <div class=\"mpui-slider-thumb-track\" style=\"width: 0px\">\r\n      <div\r\n        class=\"mpui-slider-thumb\"\r\n        style=\"position: absolute; transform: translate(-50%, -50%)\"\r\n      ></div>\r\n    </div>\r\n  </div>\r\n`;\r\n\r\ninterface SliderVerticalOptions {\r\n  /** 挂载容器 */\r\n  container: HTMLElement;\r\n  /** 最小值 */\r\n  min: number;\r\n  /** 最大值 */\r\n  max: number;\r\n  /** 步长(若不填或为0，则没有步长限制) */\r\n  step?: number;\r\n  /** 默认值(不填的情况下默认值为0) */\r\n  value?: number;\r\n  /** 数值更改时触发 */\r\n  onChange?: (value: number) => void;\r\n  /** 拖动引发数值更改时触发 */\r\n  onDrag?: (value: number) => void;\r\n  /** 开始拖动时触发 */\r\n  onDragStart?: (value: number) => void;\r\n  /** 结束拖动时触发 */\r\n  onDragEnd?: (value: number) => void;\r\n}\r\n\r\n/** 横向滑动条 */\r\nexport class SliderVertical implements SliderVerticalOptions {\r\n  readonly container: HTMLElement;\r\n  readonly min: number;\r\n  readonly max: number;\r\n  /** 步长 */\r\n  readonly step: number;\r\n  /** 数值 */\r\n  value: number;\r\n  onChange?: (value: number) => void;\r\n  onDragStart?: (value: number) => void;\r\n  onDragEnd?: (value: number) => void;\r\n  onDrag?: (value: number) => void;\r\n  // 部件\r\n  $el: HTMLElement;\r\n  $track: HTMLElement;\r\n  $bar: HTMLElement;\r\n  $thumbTrack: HTMLElement;\r\n  $thumb: HTMLElement;\r\n\r\n  constructor({\r\n    container,\r\n    min,\r\n    max,\r\n    step,\r\n    value = 0,\r\n    onChange,\r\n    onDragStart,\r\n    onDragEnd,\r\n    onDrag,\r\n  }: SliderVerticalOptions) {\r\n    this.container = container;\r\n    this.min = min;\r\n    this.max = max;\r\n    this.step = step || 0;\r\n    this.value = isNaN(value) ? value : Number(value);\r\n    this.onChange = onChange;\r\n    this.onDragStart = onDragStart;\r\n    this.onDragEnd = onDragEnd;\r\n    this.onDrag = onDrag;\r\n\r\n    this.$el = createElement(\r\n      \"div\",\r\n      {\r\n        class: \"mpui-slider mpui-slider-vertical\",\r\n        style: \"position: relative; width: 100%; height: 100%\",\r\n      },\r\n      templateHTML\r\n    );\r\n    this.$track = this.$el.querySelector(\".mpui-slider-track\")!; // 滑动条轨道\r\n    this.$bar = this.$track.querySelector(\".mpui-slider-bar\")!; // 滑动条痕迹\r\n    this.$thumbTrack = this.$track.querySelector(\".mpui-slider-thumb-track\")!; // 滑块轨道\r\n    this.$thumb = this.$track.querySelector(\".mpui-slider-thumb\")!; // 滑块\r\n\r\n    this.container.appendChild(this.$el);\r\n\r\n    // 滑动条事件\r\n    // 点击鼠标事件\r\n    this.$el.addEventListener(\"mousedown\", (event: MouseEvent) => {\r\n      const e: MouseEvent = event;\r\n      // 鼠标Y位置\r\n      const { clientY } = e;\r\n      // 滑块长度\r\n      const trackLength = this.$track.offsetHeight;\r\n      // 滑块可滑动距离\r\n      let nMax = this.$thumbTrack.offsetHeight;\r\n      nMax = nMax || trackLength;\r\n      // 滑块轨道与总轨道距离差\r\n      const thumbTrackY = (trackLength - nMax) / 2;\r\n      // 滑动条位置\r\n      const nTop = this.$el.getBoundingClientRect().top;\r\n      // 计算滑块位置\r\n      let nLength = nMax - (clientY - nTop - thumbTrackY);\r\n      // 限制滑块移动位置\r\n      nLength = nLength >= nMax ? nMax : nLength <= 0 ? 0 : nLength;\r\n      const value = this.step\r\n        ? Math.round(((nLength / nMax) * (this.max - this.min)) / this.step) * this.step + this.min\r\n        : (nLength / nMax) * (this.max - this.min) + this.min;\r\n      // 开始滑动事件\r\n      this.onDragStart?.(value);\r\n      // 监测数据更新并执行函数\r\n      if (this.value != value) {\r\n        this.drag(value);\r\n      }\r\n\r\n      const mousemoveEvent = (event: MouseEvent) => {\r\n        const e: MouseEvent = event;\r\n        // 鼠标X位置\r\n        const { clientY } = e;\r\n        // 鼠标移动时取消默认行为，避免选中其他元素或文字\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        // 获取鼠标移动后滑块应该移动到的位置\r\n        let nLength = nMax - (clientY - nTop - thumbTrackY);\r\n        // 限制滑块移动位置\r\n        nLength = nLength >= nMax ? nMax : nLength <= 0 ? 0 : nLength;\r\n\r\n        const value = this.step\r\n          ? Math.round(((nLength / nMax) * (this.max - this.min)) / this.step) * this.step +\r\n            this.min\r\n          : (nLength / nMax) * (this.max - this.min) + this.min;\r\n        // 监测数据更新并执行函数\r\n        if (this.value != value) {\r\n          this.drag(value);\r\n        }\r\n        window.getSelection()?.removeAllRanges();\r\n      };\r\n      const removeEvent = (event: MouseEvent) => {\r\n        const e: MouseEvent = event;\r\n        e.stopPropagation();\r\n        window.getSelection()?.removeAllRanges();\r\n        document.removeEventListener(\"mousemove\", mousemoveEvent);\r\n        document.removeEventListener(\"mouseup\", removeEvent);\r\n        this.onDragEnd?.(value);\r\n      };\r\n\r\n      document.addEventListener(\"mousemove\", mousemoveEvent);\r\n      document.addEventListener(\"mouseup\", removeEvent);\r\n    });\r\n    // 设置滑块初始位置\r\n    this.setValue(this.value);\r\n  }\r\n\r\n  /** 设置滑动条值 */\r\n  setValue(value: number) {\r\n    // this.value = value <= this.min ? this.min : value >= this.max ? this.max : value;\r\n    this.value = Math.max(Math.min(value, this.max), this.min);\r\n    // 计算滑块位置\r\n    const per = (this.value - this.min) / (this.max - this.min);\r\n    // 修改滑块位置\r\n    this.$thumb.style.top = `${(1 - per) * 100}%`;\r\n    // 修改滑动痕迹高度\r\n    this.$bar.style.height = `${Math.max(Math.min(per, 1), 0) * 100}%`;\r\n    // 执行相应函数\r\n    this.onChange?.(value);\r\n  }\r\n\r\n  /** 拖动滑动条到特定的值 */\r\n  private drag(value: number) {\r\n    this.setValue(value);\r\n    // 触发拖动事件\r\n    this.onDrag?.(this.value);\r\n  }\r\n}\r\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nvar t;const i=window,s=i.trustedTypes,e=s?s.createPolicy(\"lit-html\",{createHTML:t=>t}):void 0,o=\"$lit$\",n=`lit$${(Math.random()+\"\").slice(9)}$`,l=\"?\"+n,h=`<${l}>`,r=document,u=()=>r.createComment(\"\"),d=t=>null===t||\"object\"!=typeof t&&\"function\"!=typeof t,c=Array.isArray,v=t=>c(t)||\"function\"==typeof(null==t?void 0:t[Symbol.iterator]),a=\"[ \\t\\n\\f\\r]\",f=/<(?:(!--|\\/[^a-zA-Z])|(\\/?[a-zA-Z][^>\\s]*)|(\\/?$))/g,_=/-->/g,m=/>/g,p=RegExp(`>|${a}(?:([^\\\\s\"'>=/]+)(${a}*=${a}*(?:[^ \\t\\n\\f\\r\"'\\`<>=]|(\"|')|))|$)`,\"g\"),g=/'/g,$=/\"/g,y=/^(?:script|style|textarea|title)$/i,w=t=>(i,...s)=>({_$litType$:t,strings:i,values:s}),x=w(1),b=w(2),T=Symbol.for(\"lit-noChange\"),A=Symbol.for(\"lit-nothing\"),E=new WeakMap,C=r.createTreeWalker(r,129,null,!1);function P(t,i){if(!Array.isArray(t)||!t.hasOwnProperty(\"raw\"))throw Error(\"invalid template strings array\");return void 0!==e?e.createHTML(i):i}const V=(t,i)=>{const s=t.length-1,e=[];let l,r=2===i?\"<svg>\":\"\",u=f;for(let i=0;i<s;i++){const s=t[i];let d,c,v=-1,a=0;for(;a<s.length&&(u.lastIndex=a,c=u.exec(s),null!==c);)a=u.lastIndex,u===f?\"!--\"===c[1]?u=_:void 0!==c[1]?u=m:void 0!==c[2]?(y.test(c[2])&&(l=RegExp(\"</\"+c[2],\"g\")),u=p):void 0!==c[3]&&(u=p):u===p?\">\"===c[0]?(u=null!=l?l:f,v=-1):void 0===c[1]?v=-2:(v=u.lastIndex-c[2].length,d=c[1],u=void 0===c[3]?p:'\"'===c[3]?$:g):u===$||u===g?u=p:u===_||u===m?u=f:(u=p,l=void 0);const w=u===p&&t[i+1].startsWith(\"/>\")?\" \":\"\";r+=u===f?s+h:v>=0?(e.push(d),s.slice(0,v)+o+s.slice(v)+n+w):s+n+(-2===v?(e.push(void 0),i):w)}return[P(t,r+(t[s]||\"<?>\")+(2===i?\"</svg>\":\"\")),e]};class N{constructor({strings:t,_$litType$:i},e){let h;this.parts=[];let r=0,d=0;const c=t.length-1,v=this.parts,[a,f]=V(t,i);if(this.el=N.createElement(a,e),C.currentNode=this.el.content,2===i){const t=this.el.content,i=t.firstChild;i.remove(),t.append(...i.childNodes)}for(;null!==(h=C.nextNode())&&v.length<c;){if(1===h.nodeType){if(h.hasAttributes()){const t=[];for(const i of h.getAttributeNames())if(i.endsWith(o)||i.startsWith(n)){const s=f[d++];if(t.push(i),void 0!==s){const t=h.getAttribute(s.toLowerCase()+o).split(n),i=/([.?@])?(.*)/.exec(s);v.push({type:1,index:r,name:i[2],strings:t,ctor:\".\"===i[1]?H:\"?\"===i[1]?L:\"@\"===i[1]?z:k})}else v.push({type:6,index:r})}for(const i of t)h.removeAttribute(i)}if(y.test(h.tagName)){const t=h.textContent.split(n),i=t.length-1;if(i>0){h.textContent=s?s.emptyScript:\"\";for(let s=0;s<i;s++)h.append(t[s],u()),C.nextNode(),v.push({type:2,index:++r});h.append(t[i],u())}}}else if(8===h.nodeType)if(h.data===l)v.push({type:2,index:r});else{let t=-1;for(;-1!==(t=h.data.indexOf(n,t+1));)v.push({type:7,index:r}),t+=n.length-1}r++}}static createElement(t,i){const s=r.createElement(\"template\");return s.innerHTML=t,s}}function S(t,i,s=t,e){var o,n,l,h;if(i===T)return i;let r=void 0!==e?null===(o=s._$Co)||void 0===o?void 0:o[e]:s._$Cl;const u=d(i)?void 0:i._$litDirective$;return(null==r?void 0:r.constructor)!==u&&(null===(n=null==r?void 0:r._$AO)||void 0===n||n.call(r,!1),void 0===u?r=void 0:(r=new u(t),r._$AT(t,s,e)),void 0!==e?(null!==(l=(h=s)._$Co)&&void 0!==l?l:h._$Co=[])[e]=r:s._$Cl=r),void 0!==r&&(i=S(t,r._$AS(t,i.values),r,e)),i}class M{constructor(t,i){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){var i;const{el:{content:s},parts:e}=this._$AD,o=(null!==(i=null==t?void 0:t.creationScope)&&void 0!==i?i:r).importNode(s,!0);C.currentNode=o;let n=C.nextNode(),l=0,h=0,u=e[0];for(;void 0!==u;){if(l===u.index){let i;2===u.type?i=new R(n,n.nextSibling,this,t):1===u.type?i=new u.ctor(n,u.name,u.strings,this,t):6===u.type&&(i=new Z(n,this,t)),this._$AV.push(i),u=e[++h]}l!==(null==u?void 0:u.index)&&(n=C.nextNode(),l++)}return C.currentNode=r,o}v(t){let i=0;for(const s of this._$AV)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,i),i+=s.strings.length-2):s._$AI(t[i])),i++}}class R{constructor(t,i,s,e){var o;this.type=2,this._$AH=A,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=s,this.options=e,this._$Cp=null===(o=null==e?void 0:e.isConnected)||void 0===o||o}get _$AU(){var t,i;return null!==(i=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==i?i:this._$Cp}get parentNode(){let t=this._$AA.parentNode;const i=this._$AM;return void 0!==i&&11===(null==t?void 0:t.nodeType)&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=S(this,t,i),d(t)?t===A||null==t||\"\"===t?(this._$AH!==A&&this._$AR(),this._$AH=A):t!==this._$AH&&t!==T&&this._(t):void 0!==t._$litType$?this.g(t):void 0!==t.nodeType?this.$(t):v(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==A&&d(this._$AH)?this._$AA.nextSibling.data=t:this.$(r.createTextNode(t)),this._$AH=t}g(t){var i;const{values:s,_$litType$:e}=t,o=\"number\"==typeof e?this._$AC(t):(void 0===e.el&&(e.el=N.createElement(P(e.h,e.h[0]),this.options)),e);if((null===(i=this._$AH)||void 0===i?void 0:i._$AD)===o)this._$AH.v(s);else{const t=new M(o,this),i=t.u(this.options);t.v(s),this.$(i),this._$AH=t}}_$AC(t){let i=E.get(t.strings);return void 0===i&&E.set(t.strings,i=new N(t)),i}T(t){c(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let s,e=0;for(const o of t)e===i.length?i.push(s=new R(this.k(u()),this.k(u()),this,this.options)):s=i[e],s._$AI(o),e++;e<i.length&&(this._$AR(s&&s._$AB.nextSibling,e),i.length=e)}_$AR(t=this._$AA.nextSibling,i){var s;for(null===(s=this._$AP)||void 0===s||s.call(this,!1,!0,i);t&&t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){var i;void 0===this._$AM&&(this._$Cp=t,null===(i=this._$AP)||void 0===i||i.call(this,t))}}class k{constructor(t,i,s,e,o){this.type=1,this._$AH=A,this._$AN=void 0,this.element=t,this.name=i,this._$AM=e,this.options=o,s.length>2||\"\"!==s[0]||\"\"!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=A}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,i=this,s,e){const o=this.strings;let n=!1;if(void 0===o)t=S(this,t,i,0),n=!d(t)||t!==this._$AH&&t!==T,n&&(this._$AH=t);else{const e=t;let l,h;for(t=o[0],l=0;l<o.length-1;l++)h=S(this,e[s+l],i,l),h===T&&(h=this._$AH[l]),n||(n=!d(h)||h!==this._$AH[l]),h===A?t=A:t!==A&&(t+=(null!=h?h:\"\")+o[l+1]),this._$AH[l]=h}n&&!e&&this.j(t)}j(t){t===A?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:\"\")}}class H extends k{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===A?void 0:t}}const I=s?s.emptyScript:\"\";class L extends k{constructor(){super(...arguments),this.type=4}j(t){t&&t!==A?this.element.setAttribute(this.name,I):this.element.removeAttribute(this.name)}}class z extends k{constructor(t,i,s,e,o){super(t,i,s,e,o),this.type=5}_$AI(t,i=this){var s;if((t=null!==(s=S(this,t,i,0))&&void 0!==s?s:A)===T)return;const e=this._$AH,o=t===A&&e!==A||t.capture!==e.capture||t.once!==e.once||t.passive!==e.passive,n=t!==A&&(e===A||o);o&&this.element.removeEventListener(this.name,this,e),n&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var i,s;\"function\"==typeof this._$AH?this._$AH.call(null!==(s=null===(i=this.options)||void 0===i?void 0:i.host)&&void 0!==s?s:this.element,t):this._$AH.handleEvent(t)}}class Z{constructor(t,i,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){S(this,t)}}const j={O:o,P:n,A:l,C:1,M:V,L:M,R:v,D:S,I:R,V:k,H:L,N:z,U:H,F:Z},B=i.litHtmlPolyfillSupport;null==B||B(N,R),(null!==(t=i.litHtmlVersions)&&void 0!==t?t:i.litHtmlVersions=[]).push(\"2.8.0\");const D=(t,i,s)=>{var e,o;const n=null!==(e=null==s?void 0:s.renderBefore)&&void 0!==e?e:i;let l=n._$litPart$;if(void 0===l){const t=null!==(o=null==s?void 0:s.renderBefore)&&void 0!==o?o:null;n._$litPart$=l=new R(i.insertBefore(u(),t),t,void 0,null!=s?s:{})}return l._$AI(t),l};export{j as _$LH,x as html,T as noChange,A as nothing,D as render,b as svg};\n//# sourceMappingURL=lit-html.js.map\n","import { html, render, TemplateResult } from \"lit-html\";\r\n\r\nconst templateWrap = ({\r\n  list,\r\n  template,\r\n}: {\r\n  list: PickerOptionsItem[];\r\n  template?: PickerItemTemplate;\r\n}) => html`\r\n  <ul class=\"mpui-picker\">\r\n    ${list.map(\r\n      (item, index) => html`\r\n        <li class=\"mpui-picker-item\" data-value=\"${item.value}\">\r\n          ${template?.(item, index) || item.label || item.value}\r\n        </li>\r\n      `\r\n    )}\r\n  </ul>\r\n`;\r\n\r\n/** 选择器函数 */\r\ntype PickerItemTemplate = (item: PickerOptionsItem, index?: number) => string | TemplateResult;\r\n\r\ninterface PickerOptionsItem {\r\n  value: string | number;\r\n  label?: string;\r\n  disabled?: boolean;\r\n  [key: string]: any;\r\n}\r\n\r\ninterface PickerOptions {\r\n  /** 挂载容器 */\r\n  container: HTMLElement;\r\n  /** 选择列表 */\r\n  list: PickerOptionsItem[];\r\n  /** 选择项标签模板 */\r\n  template?: PickerItemTemplate;\r\n  /** 默认值(不填的情况下默认值为undefined) */\r\n  value?: string | number;\r\n  /** 值更改时触发 */\r\n  onChange?: (value?: string | number) => void;\r\n  /** 选择某一项时触发 */\r\n  onPick?: (value?: string | number) => void;\r\n  /** 相等条件 */\r\n  condition?: (item: string, value?: string | number) => boolean;\r\n}\r\n\r\n/** 单选选择器 */\r\nexport class Picker implements PickerOptions {\r\n  readonly container: HTMLElement;\r\n\r\n  readonly template?: PickerItemTemplate;\r\n\r\n  list: PickerOptionsItem[];\r\n\r\n  /** 已选值 */\r\n  value?: string | number;\r\n\r\n  onChange?: (value?: string | number) => void;\r\n\r\n  onPick?: (value?: string | number) => void;\r\n\r\n  $el!: HTMLElement;\r\n\r\n  /** 相等条件 */\r\n  condition?: (item: string, value?: string | number) => boolean;\r\n\r\n  /** 选择项标签集合 */\r\n  private $items!: NodeListOf<HTMLElement>;\r\n\r\n  constructor({ container, value, onChange, onPick, list, template, condition }: PickerOptions) {\r\n    this.container = container;\r\n    this.list = list;\r\n    this.value = value;\r\n    this.onChange = onChange; // 更新数据时需要执行的函数\r\n    this.onPick = onPick; // 更新数据时需要执行的函数\r\n    this.template = template;\r\n    this.condition = condition;\r\n    this.reload();\r\n  }\r\n\r\n  /** 重载，一般用于列表项更改 */\r\n  public reload(value?: string | number) {\r\n    render(templateWrap({ list: this.list, template: this.template }), this.container);\r\n    this.$el = this.container.querySelector(\".mpui-picker\")!;\r\n    this.$items = this.$el.querySelectorAll(\".mpui-picker-item\"); // 标签集合\r\n    this.$items.forEach((item) => {\r\n      item.addEventListener(\"click\", () => {\r\n        this.pick(item.getAttribute(\"data-value\") || undefined);\r\n      });\r\n    });\r\n    this.setValue(value ?? this.value);\r\n  }\r\n\r\n  /** 设置值 */\r\n  public setValue(value?: string | number) {\r\n    this.$items.forEach((n, i) => {\r\n      if (\r\n        this.condition\r\n          ? this.condition(n.getAttribute(\"data-value\")!, value)\r\n          : n.getAttribute(\"data-value\") == value\r\n      ) {\r\n        n.classList.add(\"is-checked\");\r\n      } else {\r\n        n.classList.remove(\"is-checked\");\r\n      }\r\n    });\r\n    this.value = value;\r\n    this.onChange?.(value);\r\n  }\r\n\r\n  /** 点选一个选项 */\r\n  public pick(value?: string) {\r\n    this.setValue(value);\r\n    this.onPick?.(value);\r\n  }\r\n}\r\n","import { html, render, TemplateResult } from \"lit-html\";\r\n\r\nconst templateWrap = ({\r\n  list,\r\n  template,\r\n}: {\r\n  list: PickerOptionsItem[];\r\n  template?: PickerItemTemplate;\r\n}) => html`\r\n  <ul class=\"mpui-picker\">\r\n    ${list.map(\r\n      (item, index) => html`\r\n        <li class=\"mpui-picker-item\" data-value=\"${item.value}\">\r\n          ${template?.(item, index) || item.label || item.value}\r\n        </li>\r\n      `\r\n    )}\r\n  </ul>\r\n`;\r\n\r\n/** 选择器函数 */\r\ntype PickerItemTemplate = (item: PickerOptionsItem, index?: number) => string | TemplateResult;\r\n\r\ninterface PickerOptionsItem {\r\n  value: string;\r\n  label?: string;\r\n  disabled?: boolean;\r\n  [key: string]: any;\r\n}\r\n\r\ninterface MultiPickerOptions {\r\n  /** 绑定的dom对象 */\r\n  container: HTMLElement;\r\n  /** 选择列表 */\r\n  list: PickerOptionsItem[];\r\n  /** 选择项标签模板 */\r\n  template?: PickerItemTemplate;\r\n  /** 默认值(不填的情况下默认值为[]) */\r\n  value?: string[];\r\n  /** 值更改时触发 */\r\n  onChange?: (value: string[]) => void;\r\n  /** 选择/取消选择某一项时触发 */\r\n  onToggle?: (value: string, flag: boolean) => void;\r\n}\r\n\r\n/** 多项选择器 */\r\nexport class MultiPicker implements MultiPickerOptions {\r\n  readonly container: HTMLElement;\r\n\r\n  readonly template?: PickerItemTemplate;\r\n\r\n  list: PickerOptionsItem[];\r\n\r\n  valueSet: Set<string>;\r\n\r\n  /** 已选值 */\r\n  get value() {\r\n    return [...this.valueSet];\r\n  }\r\n\r\n  onChange?: (value: string[]) => void;\r\n\r\n  onToggle?: (value: string, flag: boolean) => void;\r\n\r\n  $el!: HTMLElement;\r\n\r\n  /** 选择项标签集合 */\r\n  private $items!: NodeListOf<HTMLElement>;\r\n\r\n  constructor({ container, value = [], list, onChange, onToggle }: MultiPickerOptions) {\r\n    this.container = container;\r\n    this.list = list;\r\n    this.valueSet = new Set(value);\r\n    this.onChange = onChange; // 更新数据时需要执行的函数\r\n    this.onToggle = onToggle; // 更新数据时需要执行的函数\r\n    this.reload();\r\n  }\r\n\r\n  /** 重载，一般用于列表项更改 */\r\n  public reload(value?: string[]) {\r\n    render(templateWrap({ list: this.list, template: this.template }), this.container);\r\n    this.$el = this.container.querySelector(\".mpui-picker\")!;\r\n    this.$items = this.$el.querySelectorAll(\".mpui-picker-item\"); // 标签集合\r\n    this.$items.forEach((item) => {\r\n      item.addEventListener(\"click\", () => {\r\n        this.toggle(item.getAttribute(\"data-value\")!);\r\n      });\r\n    });\r\n    this.setValue(value ?? this.value);\r\n  }\r\n\r\n  /** 设置值 */\r\n  public setValue(value: string[]) {\r\n    this.valueSet = new Set(value);\r\n    this.$items.forEach((n, i) => {\r\n      if (this.valueSet.has(n.getAttribute(\"data-value\")!)) {\r\n        n.classList.add(\"is-checked\");\r\n      } else {\r\n        n.classList.remove(\"is-checked\");\r\n      }\r\n    });\r\n    this.onChange?.(value);\r\n  }\r\n\r\n  /** 切换一个选项的选择状态 */\r\n  public toggle(value: string, flag?: boolean) {\r\n    const b = flag == null ? !this.valueSet.has(value) : flag;\r\n    if (b) {\r\n      this.valueSet.add(value);\r\n    } else {\r\n      this.valueSet.delete(value);\r\n    }\r\n    this.$items.forEach((n, i) => {\r\n      if (n.getAttribute(\"data-value\") == value) {\r\n        n.classList.toggle(\"is-checked\", b);\r\n      }\r\n    });\r\n    this.onChange?.(this.value);\r\n    this.onToggle?.(value, b);\r\n  }\r\n}\r\n","import { createElement } from \"@/utils\";\r\n\r\ninterface SwitchOptions {\r\n  /** 挂载容器 */\r\n  container: HTMLElement;\r\n  /** 标签 */\r\n  label?: string;\r\n  /** 不可点选 */\r\n  disabled?: boolean;\r\n  /** 默认值(不填的情况下默认值为false) */\r\n  value?: boolean;\r\n  /** 值更改时触发 */\r\n  onChange?: (value: boolean) => void;\r\n  /** 切换状态时触发 */\r\n  onToggle?: (value: boolean) => void;\r\n}\r\n\r\n/** 开关 */\r\nexport class Switch implements SwitchOptions {\r\n  readonly container: HTMLElement;\r\n\r\n  onChange?: (value: boolean) => void;\r\n\r\n  onToggle?: (value: boolean) => void;\r\n\r\n  label?: string;\r\n\r\n  /** 当前值 */\r\n  value: boolean;\r\n\r\n  $el: HTMLElement;\r\n\r\n  constructor({ container, value = false, onChange, onToggle }: SwitchOptions) {\r\n    this.container = container;\r\n    this.value = value;\r\n    this.onChange = onChange; // 更新数据时需要执行的函数\r\n    this.onToggle = onToggle;\r\n\r\n    this.$el = createElement(\"div\", { class: `mpui-switch` }, this.label);\r\n\r\n    this.$el = this.container.querySelector(\".mpui-switch\")!;\r\n    this.$el.addEventListener(\"click\", () => {\r\n      this.toggle(!this.value);\r\n    });\r\n\r\n    this.setValue(this.value);\r\n  }\r\n\r\n  /** 设置开关状态 */\r\n  public setValue(value: boolean) {\r\n    this.value = value;\r\n    this.$el.classList.toggle(\"is-checked\", value);\r\n    this.onChange?.(value);\r\n  }\r\n\r\n  /** 点按开关 */\r\n  public toggle(value = !this.value) {\r\n    this.setValue(value);\r\n    this.onToggle?.(value);\r\n  }\r\n}\r\n","import { createElement } from \"@/utils\";\r\n\r\ninterface CheckboxOptions {\r\n  /** 挂载容器 */\r\n  container: HTMLElement;\r\n  /** 标签 */\r\n  label?: string;\r\n  /** 不可点选 */\r\n  disabled?: boolean;\r\n  /** 默认值(不填的情况下默认值为false) */\r\n  value?: boolean;\r\n  /** 值更改时触发 */\r\n  onChange?: (value: boolean) => void;\r\n  /** 切换状态时触发 */\r\n  onToggle?: (value: boolean) => void;\r\n}\r\n\r\n/** 开关 */\r\nexport class Checkbox implements CheckboxOptions {\r\n  readonly container: HTMLElement;\r\n\r\n  onChange?: (value: boolean) => void;\r\n\r\n  onToggle?: (value: boolean) => void;\r\n\r\n  label?: string;\r\n\r\n  /** 当前值 */\r\n  value: boolean;\r\n\r\n  $el: HTMLElement;\r\n\r\n  constructor({ container, value = false, onChange, onToggle, label }: CheckboxOptions) {\r\n    this.container = container;\r\n    this.value = value;\r\n    this.onChange = onChange; // 更新数据时需要执行的函数\r\n    this.onToggle = onToggle;\r\n    this.label = label;\r\n\r\n    this.$el = this.container.appendChild(\r\n      createElement(\r\n        \"div\",\r\n        { class: \"mpui-checkbox\" },\r\n        /*html*/ `\r\n          <div class=\"mpui-checkbox-icon\"></div>\r\n          <div class=\"mpui-checkbox-label\">${label}</div>\r\n        `\r\n      )\r\n    );\r\n\r\n    this.$el.addEventListener(\"click\", () => {\r\n      this.toggle();\r\n    });\r\n\r\n    this.setValue(this.value);\r\n  }\r\n\r\n  /** 设置开关状态 */\r\n  public setValue(value: boolean) {\r\n    this.value = value;\r\n    this.$el.classList.toggle(\"is-checked\", value);\r\n    this.onChange?.(value);\r\n  }\r\n\r\n  /** 点按开关 */\r\n  public toggle(value = !this.value) {\r\n    this.setValue(value);\r\n    this.onToggle?.(value);\r\n  }\r\n}\r\n","export { Player } from \"@/player\";\nexport * from \"@/plugin\";\nexport * from \"@/config\";\nexport * as Utils from \"@/utils\";\nexport * as Components from \"@/components\";\nimport { Player } from \"@core\";\nimport \"@css/index.scss\";\n\nconsole.log(\n  `${\"\\n\"} %c mfunsPlayer v${Player.version} ${Player.gitHash} %c https://github.com/Mfuns-cn ${\"\\n\"}${\"\\n\"}`,\n  \"color: #fff; background: #7b7ff7; padding:5px 0;\",\n  \"background: #f5f5f5; padding:5px 0;\"\n);\n"],"names":["isMobile","fullScreenEnabled","pictureInPictureEnabled","createElement","tagName","attributes","children","el","name","replaceChildren","element","debounce","fn","delay","immediate","timer","isInvoke","args","throttle","wait","random","lower","upper","clamp","number","timeToSecond","time","arr","sec","min","hour","day","secondToTime","second","level","join","num","minute","HexColorToNumber","color","numberToHexColor","dateFormatMap","d","dateFormat","date","format","match","_a","classPrefix","version","gitHash","repositoryLink","developers","videoEventMap","v","VideoController","player","options","res","info","play","_b","url","type","live","loadInfo","video","eventName","values","_c","PluginManager","pluginItem","_d","plugin","item","HookManager","func","before","hook","index","ctx","defaultFunc","f","LoaderManager","loader","controller","t","EventEmitter","listener","i","_Player","volume","flag","value","err","Player","BasePlugin","UIPlugin","selectors","_onUnmount","MountablePlugin","__privateAdd","opt","__privateSet","__privateGet","ControlsPlugin","_onToggle","PanelPlugin","MenuPlugin","template","divider","Slider","container","max","step","onChange","onDragStart","onDragEnd","onDrag","event","e","clientX","trackLength","nMax","thumbTrackX","nLeft","nLength","mousemoveEvent","removeEvent","per","templateHTML","SliderVertical","clientY","thumbTrackY","nTop","s","o","n","l","h","r","u","c","a","_","m","p","g","$","y","w","x","T","A","E","C","P","V","N","H","L","z","k","S","M","R","Z","I","B","D","templateWrap","list","html","Picker","onPick","condition","render","MultiPicker","onToggle","b","Switch","Checkbox","label"],"mappings":"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","x_google_ignoreList":[11]}