{"version":3,"file":"core-player.umd.js","sources":["../src/core/utils/index.ts","../src/core/config.ts","../src/core/module/videoController.ts","../src/core/module/pluginManager.ts","../src/core/module/hookManager.ts","../src/core/module/controlsManager.ts","../src/core/module/panelManager.ts","../src/core/module/menuManager.ts","../src/core/module/loaderManager.ts","../src/core/module/eventEmitter.ts","../src/core/player.ts","../src/core/plugin.ts","../node_modules/lit-html/lit-html.js","../src/core/components/Slider.ts","../src/core/components/SliderVertical.ts","../src/core/components/Picker.ts","../src/core/components/MultiPicker.ts","../src/core/components/Switch.ts","../src/core/components/Checkbox.ts","../player/core-player.ts"],"sourcesContent":["export const isMobile = /mobile/i.test(window.navigator.userAgent);\n\n/** 是否支持全屏 */\nexport const fullScreenEnabled =\n  document.fullscreenEnabled ||\n  (document as any).webkitFullscreenEnabled ||\n  (document as any).mozFullScreenEnabled ||\n  (document as any).msFullscreenEnabled ||\n  false;\n\n/** 是否支持画中画 */\nexport const pictureInPictureEnabled = document.pictureInPictureEnabled || false;\n\n/**\n * 创建元素\n * @param tagName 元素标签名\n * @param attributes 元素属性\n * @param children 子元素\n */\nexport function createElement<T extends keyof HTMLElementTagNameMap>(\n  tagName: T,\n  attributes?: Record<string, string>,\n  children?: Node | string | { html?: string; text?: string }\n) {\n  const el = document.createElement(tagName);\n  if (attributes) {\n    for (const name in attributes) {\n      el.setAttribute(name, attributes[name]);\n    }\n  }\n  if (typeof children == \"string\") {\n    el.innerText = children;\n  } else if (children instanceof Node) {\n    el.appendChild(children);\n  } else if (children?.html) {\n    el.innerHTML = children.html;\n    el.normalize();\n  } else if (children?.text) {\n    el.innerText = children.text;\n  }\n  return el;\n}\n\n/**\n * 替换子元素\n * @param element 父元素\n * @param children 要替换的子节点或字符串\n */\nexport function replaceChildren(element: HTMLElement, children: Node | string) {\n  element.innerHTML = \"\";\n  if (typeof children == \"string\") {\n    element.innerText = children;\n  } else {\n    element.appendChild(children);\n  }\n}\n/**\n * 防抖\n * @param fn 需要防抖处理的函数\n * @param delay 防抖延迟执行时间\n * @param immediate 是否立即执行一次\n */\nexport const debounce = (\n  fn: (...args: unknown[]) => void,\n  delay: number,\n  immediate: boolean = false\n) => {\n  let timer: ReturnType<typeof setTimeout> | null = null;\n  let isInvoke = false;\n  const f = function (this: unknown, ...args: unknown[]) {\n    if (timer) clearTimeout(timer);\n    if (immediate && !isInvoke) {\n      fn.apply(this, args);\n      isInvoke = true;\n    } else {\n      timer = setTimeout(() => {\n        fn.apply(this, args);\n        clearTimeout(timer!);\n        timer = null;\n        isInvoke = false;\n      }, delay);\n    }\n  };\n  /*   f.clear = () => {\n    if (timer) clearTimeout(timer);\n  }; */\n  return f;\n};\n\n/**\n * 节流\n * @param fn 需要节流处理的函数\n * @param wait 执行一次后需要等待的时间\n */\nexport const throttle = (fn: (...args: unknown[]) => void, wait: number) => {\n  let timer: ReturnType<typeof setTimeout> | null = null;\n  return function (this: unknown, ...args: unknown[]) {\n    if (!timer) {\n      timer = setTimeout(() => {\n        fn.apply(this, args);\n        clearTimeout(timer!);\n        timer = null;\n      }, wait);\n    }\n  };\n};\n\n/** 生成一个范围内的随机数\n * @param lower 最小值\n * @param upper 最大值\n * @returns 生成的随机数\n */\nexport function random(lower: number, upper: number): number {\n  return lower + Math.random() * (upper - lower);\n}\n\n/** 钳制数值\n * @param number 传入数值\n * @param lower 最小值\n * @param upper 最大值\n * @returns 钳制后的数值\n */\nexport function clamp(number: number, lower: number, upper: number): number {\n  return number > lower ? (number < upper ? number : upper) : lower;\n}\n\n/**\n * 将时间文本转换为秒数\n *\n * @param time 冒号分隔的时间文本\n * @return 秒数\n */\nexport function timeToSecond(time: string): number {\n  const arr = time.split(\":\").slice(-3);\n  const sec = parseInt(arr[arr.length - 1]) || 0;\n  const min = parseInt(arr[arr.length - 2]) || 0;\n  const hour = parseInt(arr[arr.length - 3]) || 0;\n  const day = parseInt(arr[arr.length - 4]) || 0;\n  return sec + min * 60 + hour * 3600 + day * 86400;\n}\n\n/**\n * 将秒数转换为时间文本\n *\n * @param second 秒数\n * @param level 转换等级(二进制位属性，表示可转换的时间格式，4-天时分秒，3-时分秒，2-分秒, 1-秒)\n * @return 时间文本\n */\nexport function secondToTime(second: number, level: number = 0b0110): string {\n  second = Number.isFinite(second) ? Math.floor(second) : 0;\n  if (!(level & 0b1111)) return second.toString();\n  const join = (...args: number[]) =>\n    args.map((num) => (num < 10 ? `0${num}` : `${num}`)).join(\":\");\n  let minute: number, hour: number, day: number;\n  if (level & 0b0001 && second < 60) {\n    return second.toString();\n  }\n  minute = Math.floor(second / 60);\n  second = second % 60;\n  if (level & 0b0010 && minute < 60) {\n    return join(minute, second);\n  }\n  hour = Math.floor(minute / 60);\n  minute = minute % 60;\n  if (level & 0b0100 && hour < 24) {\n    return join(hour, minute, second);\n  }\n  day = Math.floor(hour / 60);\n  hour = hour % 24;\n  return join(day, hour, minute, second);\n}\n\n/** 十六进制颜色转数字\n * @param color 颜色字符串，可以省略#符号\n * @return 数值\n */\nexport function HexColorToNumber(color: string): number {\n  if (color[0] === \"#\") {\n    color = color.substring(1);\n  }\n  if (color.length === 3) {\n    color = `${color[0]}${color[0]}${color[1]}${color[1]}${color[2]}${color[2]}`;\n  }\n  return (parseInt(color, 16) + 0x000000) & 0xffffff;\n}\n\n/**\n * 数字转十六进制颜色\n * @param number 传入的数字\n * @return 十六进制颜色\n */\nexport function numberToHexColor(number: number): string {\n  return `#${`00000${number.toString(16)}`.slice(-6)}`;\n}\n\nconst dateFormatMap = {\n  yyyy: (d: Date) => d.getFullYear().toString(),\n  yy: (d: Date) => d.getFullYear().toString().slice(-2),\n  MM: (d: Date) => (d.getMonth() + 1).toString().padStart(2, \"0\"),\n  dd: (d: Date) => d.getDate().toString().padStart(2, \"0\"),\n  HH: (d: Date) => d.getHours().toString().padStart(2, \"0\"),\n  mm: (d: Date) => d.getMinutes().toString().padStart(2, \"0\"),\n  ss: (d: Date) => d.getSeconds().toString().padStart(2, \"0\"),\n};\n\n/**\n * 格式化时间\n * @param date 时间对象\n * @param format 日期格式\n * @return 格式化后的字符串\n */\nexport function dateFormat(date: Date, format: string): string {\n  return format.replace(/yyyy|yy|MM|dd|HH|mm|ss/g, (match) =>\n    dateFormatMap[match as keyof typeof dateFormatMap]?.(date)\n  );\n}\n","export const classPrefix = \"mfuns-player\";\r\n\r\nexport const version = __MFUNSPLAYER_VERSION__;\r\nexport const gitHash = __MFUNSPLAYER_GIT_HASH__;\r\n\r\n/** 项目链接 */\r\nexport const repositoryLink = \"https://github.com/Mfuns-cn/mfunsPlayer/tree/v3-beta\";\r\n\r\n/** 开发者列表 */\r\nexport const developers = [\r\n  { name: \"Minteea\", id: \"Minteea\", link: \"https://github.com/Minteea\" },\r\n  { name: \"鲁迪钨丝\", id: \"Rudiusu\", link: \"https://github.com/Rudiusu\" },\r\n];\r\n","import { LoadInfo, MediaController, PlayerOptions, VideoInfo } from \"@/types\";\r\nimport { Player } from \"@/player\";\r\nimport { PlayerEventMap } from \"@/types/PlayerEventMap\";\r\nimport { createElement } from \"@/utils\";\r\nimport { classPrefix } from \"@/config\";\r\n\r\nconst videoEventMap: {\r\n  [k in keyof PlayerEventMap & keyof HTMLVideoElementEventMap]?: (\r\n    v: HTMLVideoElement\r\n  ) => Parameters<PlayerEventMap[k]>;\r\n} = {\r\n  play: () => [],\r\n  pause: () => [],\r\n  ended: () => [],\r\n\r\n  loadeddata: () => [],\r\n  loadedmetadata: () => [],\r\n  waiting: () => [],\r\n  playing: () => [],\r\n  canplay: () => [],\r\n  canplaythrough: () => [],\r\n\r\n  timeupdate: (v) => [v.currentTime],\r\n  durationchange: (v) => [v.duration],\r\n  progress: (v) => [v.buffered],\r\n  seeking: (v) => [v.currentTime],\r\n  seeked: (v) => [v.currentTime],\r\n  volumechange: (v) => [v.volume, v.muted],\r\n  ratechange: (v) => [v.playbackRate],\r\n\r\n  enterpictureinpicture: () => [],\r\n  leavepictureinpicture: () => [],\r\n};\r\n\r\nexport default class VideoController {\r\n  /** 播放器主体 */\r\n  player: Player;\r\n  /** video对象 */\r\n  $el: HTMLVideoElement;\r\n\r\n  ratio: [number, number] | null = null;\r\n\r\n  /** 视频信息 */\r\n  info: VideoInfo = {};\r\n\r\n  mediaController: MediaController | null = null;\r\n\r\n  private detachEventController?: AbortController;\r\n\r\n  constructor(player: Player, options: PlayerOptions) {\r\n    this.player = player;\r\n\r\n    this.$el = this.player.$content.appendChild(\r\n      createElement(\"video\", { class: `${classPrefix}-video` })\r\n    );\r\n\r\n    this._attachEvent(this.$el);\r\n\r\n    this.player.on(\"ended\", () => {\r\n      this.player.hook.call(\"end\").then((res) => {\r\n        if (res) this.player.emit(\"end\");\r\n      });\r\n    });\r\n  }\r\n\r\n  /** 设置视频 */\r\n  public set(info: VideoInfo, play?: boolean, time?: number) {\r\n    this.player.hook.call(\"video.set\", info).then(async (res) => {\r\n      if (res) {\r\n        // 销毁并丢弃原视频控制实例\r\n        this.mediaController?.destroy?.();\r\n        this.mediaController = null;\r\n        // 设置新视频信息\r\n        this.info = info;\r\n        this.player.emit(\"videoChange\", { ...info });\r\n        // 加载视频\r\n        let { url, type, live } = info;\r\n        const loadInfo = { url, type, play, time, live };\r\n        this.player.hook.call(\"video.beforeLoad\", loadInfo).then(() => {\r\n          if (loadInfo.url) {\r\n            this.load(loadInfo as LoadInfo);\r\n          } else {\r\n            this.player.throw(new Error(\"缺少视频播放信息\"));\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  /** 加载视频 */\r\n  public load(info: LoadInfo) {\r\n    this.player.hook.call(\"video.load\", info).then((res) => {\r\n      if (res) {\r\n        this.mediaController = this.player.loader.create(info, this.$el);\r\n        this.player.emit(\"videoLoad\", info);\r\n      } else {\r\n        this.player.throw(new Error(\"视频加载失败\"));\r\n      }\r\n    });\r\n  }\r\n\r\n  /** 添加视频事件 */\r\n  private _attachEvent(video: HTMLVideoElement) {\r\n    this.detachEventController = new AbortController();\r\n    for (const eventName in videoEventMap) {\r\n      const values =\r\n        videoEventMap[eventName as keyof HTMLVideoElementEventMap & keyof PlayerEventMap]!;\r\n      video.addEventListener(\r\n        eventName,\r\n        () => {\r\n          this.player.emit(\r\n            eventName as keyof HTMLVideoElementEventMap & keyof PlayerEventMap,\r\n            ...values(video)\r\n          );\r\n        },\r\n        { signal: this.detachEventController.signal }\r\n      );\r\n    }\r\n  }\r\n\r\n  public bind(el: HTMLVideoElement) {\r\n    this.$el = el;\r\n    this.detachEventController?.abort();\r\n    this._attachEvent(el);\r\n  }\r\n\r\n  /** 获取播放信息 */\r\n  getVideoInfo() {\r\n    return {\r\n      ...this.info,\r\n    };\r\n  }\r\n  /** 获取媒体信息 */\r\n  getMediaInfo() {\r\n    return {\r\n      url: this.mediaController?.url,\r\n      type: this.mediaController?.type || \"\",\r\n      live: this.mediaController?.live || false,\r\n    };\r\n  }\r\n}\r\n","import { Player } from \"@/player\";\r\nimport { PlayerOptions, PluginItem, PluginConstructor } from \"@/types\";\r\n\r\nexport default class PluginManager {\r\n  player: Player;\r\n  get plugin() {\r\n    return this.player.plugin as unknown as Record<string, PluginItem>;\r\n  }\r\n  private initialized = false;\r\n  constructor(player: Player) {\r\n    this.player = player;\r\n  }\r\n  /** 注册插件 */\r\n  register(pluginItem: PluginConstructor | PluginItem, options: PlayerOptions) {\r\n    const plugin: PluginItem =\r\n      typeof pluginItem == \"function\" ? new pluginItem(this.player) : pluginItem;\r\n    plugin.init?.(this.player);\r\n    if (pluginItem.pluginName) (this.player.plugin as any)[pluginItem.pluginName] = plugin;\r\n    console.log(pluginItem.pluginName);\r\n    plugin.apply?.(this.player, options);\r\n    if (this.initialized) {\r\n      plugin.ready?.(this.player);\r\n      plugin.mounted?.(this.player);\r\n    }\r\n  }\r\n  /** 批量注册插件 */\r\n  pluginsRegister(options: PlayerOptions) {\r\n    options.plugins?.forEach((pluginItem) => {\r\n      this.register(pluginItem, options);\r\n    });\r\n    this.pluginsReady();\r\n  }\r\n  /** 所有插件注册完毕后执行 */\r\n  pluginsReady() {\r\n    if (this.initialized) return;\r\n    for (const name in this.plugin) {\r\n      const plugin = this.plugin[name];\r\n      plugin.ready?.(this.player);\r\n    }\r\n    this.initialized = true;\r\n  }\r\n  /** 播放器挂载后执行 */\r\n  playerMounted() {\r\n    for (const name in this.plugin) {\r\n      const plugin = this.plugin[name];\r\n      plugin.mounted?.(this.player);\r\n    }\r\n  }\r\n  /** 销毁所有插件 */\r\n  destroy() {\r\n    for (const name in this.plugin) {\r\n      const plugin = this.plugin[name];\r\n      plugin.destroy?.();\r\n    }\r\n  }\r\n}\r\n","import { PlayerHookMap } from \"@/types\";\r\n\r\ntype MaybePromise<T> = T | Promise<T>;\r\n\r\nexport type HookFunction<T> = (ctx: T) => MaybePromise<void | boolean>;\r\n\r\nexport default class HookManager {\r\n  protected hooks: Record<string, HookFunction<any>[]> = {};\r\n\r\n  /** 注册钩子 */\r\n  register<T extends keyof PlayerHookMap>(\r\n    name: T,\r\n    func: HookFunction<PlayerHookMap[T]>,\r\n    before = false\r\n  ) {\r\n    let hook = this.hooks[name];\r\n    if (!hook) {\r\n      hook = [];\r\n      this.hooks[name] = hook;\r\n    }\r\n    before ? hook.unshift(func) : hook.push(func);\r\n  }\r\n\r\n  /** 移除钩子 */\r\n  unregister<T extends keyof PlayerHookMap>(name: T, func: HookFunction<PlayerHookMap[T]>) {\r\n    let hook = this.hooks[name];\r\n    if (!hook) {\r\n      hook = [];\r\n      this.hooks[name] = hook;\r\n    }\r\n    const index = hook.indexOf(func);\r\n    if (index > -1) hook.splice(index, 1);\r\n  }\r\n\r\n  call<T extends keyof PlayerHookMap>(\r\n    name: PlayerHookMap[T] extends void ? T : never,\r\n    ctx: void,\r\n    defaultFunc?: HookFunction<PlayerHookMap[T]>\r\n  ): Promise<boolean>;\r\n  call<T extends keyof PlayerHookMap>(\r\n    name: T,\r\n    ctx: PlayerHookMap[T],\r\n    defaultFunc?: HookFunction<PlayerHookMap[T]>\r\n  ): Promise<boolean>;\r\n  /** 调用钩子函数\r\n   * @param name 钩子名称\r\n   * @param ctx 钩子上下文\r\n   * @param defaultFunc 钩子在正常遍历完毕后最终执行的钩子函数\r\n   */\r\n  async call<T extends keyof PlayerHookMap>(\r\n    name: T,\r\n    ctx: PlayerHookMap[T],\r\n    defaultFunc?: HookFunction<PlayerHookMap[T]>\r\n  ) {\r\n    const hook = this.hooks[name];\r\n    if (hook?.length) {\r\n      for (const f of hook) {\r\n        const res = await f(ctx);\r\n        if (res == true) {\r\n          console.log(`钩子提前结束调用: ${name}`);\r\n          console.log(f);\r\n          return true;\r\n        } else if (res == false) {\r\n          console.log(`钩子被拦截: ${name}`);\r\n          console.log(f);\r\n          return false;\r\n        }\r\n      }\r\n    }\r\n    console.log(`钩子调用完毕: ${name}`);\r\n    console.log(ctx);\r\n    return defaultFunc?.(ctx as any) ?? true;\r\n  }\r\n}\r\n","import { Player } from \"@/player\";\r\nimport { ControlsPlugin, ControlsItem, UIOptionsItem } from \"../plugin\";\r\nimport { PlayerHookMap } from \"../types\";\r\n\r\nexport default class ControlsManager {\r\n  protected list = new Map<string, ControlsItem>();\r\n  player: Player;\r\n\r\n  constructor(player: Player) {\r\n    this.player = player;\r\n  }\r\n  /** 注册控制组件 */\r\n  register(name: string, controls: ControlsItem | (new (player: Player) => ControlsItem)) {\r\n    this.list.set(name, typeof controls == \"function\" ? this.build(controls) : controls);\r\n  }\r\n\r\n  /** 移除控制组件 */\r\n  unregister<T extends keyof PlayerHookMap>(name: T) {\r\n    this.list.delete(name);\r\n  }\r\n\r\n  /** 获取控制组件 */\r\n  get(item: UIOptionsItem<ControlsItem>): ControlsItem | undefined {\r\n    let controls: ControlsItem | undefined;\r\n    switch (typeof item) {\r\n      case \"object\":\r\n        controls = item;\r\n        break;\r\n      case \"function\":\r\n        controls = this.build(item);\r\n        break;\r\n      default:\r\n        controls = this.list.get(item);\r\n        break;\r\n    }\r\n    return controls?.ignored ? undefined : controls;\r\n  }\r\n\r\n  /** 创建控制组件 */\r\n  build(func: new (player: Player) => ControlsItem) {\r\n    const controls = new func(this.player);\r\n    controls.init?.(this.player);\r\n    controls.ready?.(this.player);\r\n    controls.mounted?.(this.player);\r\n    return controls;\r\n  }\r\n}\r\n","import { Player } from \"@/player\";\r\nimport { PanelItem, UIOptionsItem } from \"@/plugin\";\r\nimport { PlayerHookMap } from \"@/types\";\r\n\r\nexport default class PanelManager {\r\n  protected list = new Map<string, PanelItem>();\r\n  player: Player;\r\n\r\n  constructor(player: Player) {\r\n    this.player = player;\r\n  }\r\n  /** 注册面板 */\r\n  register(name: string, panel: PanelItem | (new (player: Player) => PanelItem)) {\r\n    this.list.set(name, typeof panel == \"function\" ? this.build(panel) : panel);\r\n  }\r\n\r\n  /** 移除面板 */\r\n  unregister<T extends keyof PlayerHookMap>(name: T) {\r\n    this.list.delete(name);\r\n  }\r\n\r\n  /** 获取面板 */\r\n  get(panel: UIOptionsItem<PanelItem>): PanelItem | undefined {\r\n    switch (typeof panel) {\r\n      case \"object\":\r\n        return panel;\r\n      case \"function\":\r\n        return this.build(panel);\r\n      default:\r\n        return this.list.get(panel);\r\n    }\r\n  }\r\n\r\n  /** 创建面板 */\r\n  build(func: new (player: Player) => PanelItem) {\r\n    const panel = new func(this.player);\r\n    panel.init?.(this.player);\r\n    panel.ready?.(this.player);\r\n    panel.mounted?.(this.player);\r\n    return panel;\r\n  }\r\n}\r\n","import { Player } from \"@/player\";\r\nimport { MenuItem, UIOptionsItem } from \"@/plugin\";\r\nimport { PlayerHookMap } from \"@/types\";\r\n\r\nexport default class MenuManager {\r\n  protected list = new Map<string, MenuItem>();\r\n  player: Player;\r\n\r\n  constructor(player: Player) {\r\n    this.player = player;\r\n  }\r\n  /** 注册菜单项 */\r\n  register(name: string, item: MenuItem | (new (player: Player) => MenuItem)) {\r\n    this.list.set(name, typeof item == \"function\" ? this.build(item) : item);\r\n  }\r\n\r\n  /** 移除菜单项 */\r\n  unregister<T extends keyof PlayerHookMap>(name: T) {\r\n    this.list.delete(name);\r\n  }\r\n\r\n  /** 获取菜单项 */\r\n  get(item: UIOptionsItem<MenuItem>): MenuItem | undefined {\r\n    switch (typeof item) {\r\n      case \"object\":\r\n        return item;\r\n      case \"function\":\r\n        return this.build(item);\r\n      default:\r\n        return this.list.get(item);\r\n    }\r\n  }\r\n\r\n  /** 创建菜单项 */\r\n  build(func: new (player: Player) => MenuItem) {\r\n    const item = new func(this.player);\r\n    item.init?.(this.player);\r\n    item.ready?.(this.player);\r\n    item.mounted?.(this.player);\r\n    return item;\r\n  }\r\n}\r\n","import { Player } from \"@/player\";\r\nimport { LoadInfo, MediaController, MediaLoader, PlayerHookMap } from \"@/types\";\r\n\r\nexport default class LoaderManager {\r\n  protected list = new Map<string, MediaLoader>();\r\n  protected player: Player;\r\n\r\n  constructor(player: Player) {\r\n    this.player = player;\r\n  }\r\n\r\n  /** 注册加载器 */\r\n  register(name: string, loader: MediaLoader) {\r\n    this.list.set(name, loader);\r\n  }\r\n\r\n  /** 移除加载器 */\r\n  unregister<T extends keyof PlayerHookMap>(name: T) {\r\n    this.list.delete(name);\r\n  }\r\n\r\n  /** 创建媒体控制实例 */\r\n  create(info: LoadInfo, video: HTMLVideoElement) {\r\n    for (const [name, loader] of this.list) {\r\n      if (loader.check(info)) return loader.create(info, video);\r\n    }\r\n    return this.createDefault(info, video);\r\n  }\r\n\r\n  /** 常规方式创建实例 */\r\n  createDefault(info: LoadInfo, video: HTMLVideoElement): MediaController {\r\n    const { type, url, live, play, time } = info;\r\n    const controller: MediaController = {\r\n      type: type || \"\",\r\n      url: url,\r\n      live: live || false,\r\n      mediaElement: video,\r\n      destroy() {\r\n        this.mediaElement.src = \"\";\r\n      },\r\n    };\r\n    const t = time === true ? this.player.currentTime : time;\r\n    video.src = url;\r\n    video.addEventListener(\r\n      \"loadeddata\",\r\n      () => {\r\n        if (t) {\r\n          this.player.seek(t);\r\n        }\r\n        if (play) {\r\n          this.player.play();\r\n        }\r\n      },\r\n      { once: true }\r\n    );\r\n    return controller;\r\n  }\r\n}\r\n","import { PlayerEventMap } from \"@/types\";\r\n\r\nexport default class EventEmitter {\r\n  protected listeners: Record<string, ((...args: any[]) => void)[]> = {};\r\n  protected onceListeners: Record<string, ((...args: any[]) => void)[]> = {};\r\n\r\n  readonly customEventList: string[] = [];\r\n\r\n  /** 添加监听 */\r\n  on<T extends keyof PlayerEventMap>(name: T, listener: PlayerEventMap[T]) {\r\n    if (!this.listeners[name]) {\r\n      this.listeners[name] = [];\r\n    }\r\n    this.listeners[name].push(listener);\r\n  }\r\n\r\n  /** 添加一次性监听 */\r\n  once<T extends keyof PlayerEventMap>(name: T, listener: PlayerEventMap[T]) {\r\n    if (!this.onceListeners[name]) {\r\n      this.onceListeners[name] = [];\r\n    }\r\n    this.onceListeners[name].push(listener);\r\n  }\r\n\r\n  /** 移除监听 */\r\n  off<T extends keyof PlayerEventMap>(name: T, listener: PlayerEventMap[T]) {\r\n    if (!this.listeners[name]) {\r\n      this.listeners[name] = [];\r\n    }\r\n    const index = this.listeners[name].indexOf(listener);\r\n    if (index > -1) this.listeners[name].splice(index, 1);\r\n  }\r\n\r\n  /** 触发事件 */\r\n  emit<T extends keyof PlayerEventMap>(name: T, ...args: Parameters<PlayerEventMap[T]>) {\r\n    if (this.listeners[name]?.length) {\r\n      for (let i = 0; i < this.listeners[name].length; i++) {\r\n        this.listeners[name][i](...args);\r\n      }\r\n    }\r\n    if (this.onceListeners[name]?.length) {\r\n      for (let i = 0; i < this.onceListeners[name].length; i++) {\r\n        this.onceListeners[name][i](...args);\r\n      }\r\n      this.onceListeners[name] = [];\r\n    }\r\n  }\r\n}\r\n","import {\r\n  LoadInfo,\r\n  MediaController,\r\n  PlayerPlugins,\r\n  PlayerPropertyDescriptor,\r\n  VideoInfo,\r\n} from \"./types\";\r\nimport { PlayerOptions } from \"@/types\";\r\nimport { PlayerEventMap } from \"./types/PlayerEventMap\";\r\nimport { clamp, createElement } from \"./utils\";\r\nimport { classPrefix, gitHash, version } from \"./config\";\r\nimport VideoController from \"./module/videoController\";\r\nimport PluginManager from \"./module/pluginManager\";\r\nimport HookManager from \"./module/hookManager\";\r\nimport ControlsManager from \"./module/controlsManager\";\r\nimport PanelManager from \"./module/panelManager\";\r\nimport MenuManager from \"./module/menuManager\";\r\nimport LoaderManager from \"./module/loaderManager\";\r\nimport EventEmitter from \"./module/eventEmitter\";\r\n\r\n/**\r\n * @event\r\n */\r\nexport class Player {\r\n  static readonly version = version;\r\n  static readonly gitHash = gitHash;\r\n  /** 容器 */\r\n  readonly container: HTMLElement;\r\n  /** 播放器元素 */\r\n  readonly $el: HTMLDivElement;\r\n  /** 播放器主要区域 */\r\n  readonly $main: HTMLDivElement;\r\n  /** 播放器视频区域 */\r\n  readonly $area: HTMLDivElement;\r\n  /** 播放器视频容器 */\r\n  readonly $content: HTMLDivElement;\r\n  /** hook */\r\n  readonly hook = new HookManager();\r\n  /** 控制组件 */\r\n  readonly controls: ControlsManager;\r\n  /** 面板 */\r\n  readonly panel: PanelManager;\r\n  /** 菜单项 */\r\n  readonly menu: MenuManager;\r\n  /** 媒体加载器 */\r\n  readonly loader: LoaderManager;\r\n  /** 插件 */\r\n  readonly plugin: PlayerPlugins = {};\r\n  /** 视频控制 */\r\n  protected _videoController: VideoController;\r\n  /** 插件管理 */\r\n  protected _pluginManager: PluginManager;\r\n  /** 事件机制 */\r\n  protected _eventEmitter = new EventEmitter();\r\n  /** Player类 */\r\n  readonly Player = Player;\r\n\r\n  constructor(options: PlayerOptions) {\r\n    this.container = options.container;\r\n\r\n    this.$el = createElement(\"div\", { class: `${classPrefix} mpui` });\r\n    this.$main = this.$el.appendChild(createElement(\"div\", { class: `${classPrefix}-main` }));\r\n    this.$area = this.$main.appendChild(createElement(\"div\", { class: `${classPrefix}-area` }));\r\n    this.$content = this.$area.appendChild(\r\n      createElement(\"div\", { class: `${classPrefix}-content` })\r\n    );\r\n\r\n    this._pluginManager = new PluginManager(this);\r\n    this._videoController = new VideoController(this, options);\r\n    this.loader = new LoaderManager(this);\r\n    this.controls = new ControlsManager(this);\r\n    this.panel = new PanelManager(this);\r\n    this.menu = new MenuManager(this);\r\n\r\n    this.init(options);\r\n  }\r\n\r\n  /** 初始化播放器 */\r\n  private async init(options: PlayerOptions) {\r\n    // 状态事件\r\n    this.on(\"videoChange\", () => {\r\n      this.$el.classList.add(\"is-start\");\r\n    });\r\n    this.$el.classList.add(\"is-paused\");\r\n    this.on(\"play\", () => {\r\n      this.$el.classList.remove(\"is-start\");\r\n      this.$el.classList.remove(\"is-paused\");\r\n    });\r\n    this.on(\"pause\", () => {\r\n      this.$el.classList.add(\"is-paused\");\r\n    });\r\n    this.on(\"waiting\", () => {\r\n      this.$el.classList.add(\"is-loading\");\r\n    });\r\n    this.on(\"playing\", () => {\r\n      this.$el.classList.remove(\"is-loading\");\r\n    });\r\n\r\n    // 注册列表中的插件\r\n    this._pluginManager.pluginsRegister(options);\r\n\r\n    // 播放器挂载\r\n    this.container.appendChild(this.$el);\r\n    this._pluginManager.playerMounted();\r\n\r\n    this.emit(\"mounted\");\r\n\r\n    // 装载视频\r\n    this._videoController.set(options.video, options.autoPlay, options.time);\r\n  }\r\n\r\n  /** 播放器视频元素 */\r\n  get $video(): HTMLVideoElement {\r\n    return this._videoController.$el;\r\n  }\r\n\r\n  /** 获取视频信息 */\r\n  getVideoInfo() {\r\n    return this._videoController.getVideoInfo();\r\n  }\r\n\r\n  /** 获取媒体信息 */\r\n  getMediaInfo() {\r\n    return this._videoController.getMediaInfo();\r\n  }\r\n\r\n  /** 获取播放器的媒体元素 */\r\n  getMediaElement(): HTMLVideoElement {\r\n    return this._videoController.$el;\r\n  }\r\n\r\n  /** 绑定媒体元素 */\r\n  attachMediaElement(el: HTMLVideoElement) {\r\n    this._videoController.bind(el);\r\n  }\r\n\r\n  /** 获取媒体控制实例 */\r\n  getMediaController(): MediaController | null {\r\n    return this._videoController.mediaController;\r\n  }\r\n\r\n  /** 绑定媒体控制实例 */\r\n  attachMediaController(controller: MediaController) {\r\n    this._videoController.mediaController = controller;\r\n    this._videoController.bind(controller.mediaElement);\r\n  }\r\n\r\n  /** 设置视频内容 */\r\n  setVideo(info: VideoInfo, play?: boolean, time?: number) {\r\n    return this._videoController.set(info, play, time);\r\n  }\r\n\r\n  /** 加载视频源 */\r\n  loadVideo(info: LoadInfo) {\r\n    return this._videoController.load(info);\r\n  }\r\n\r\n  // --- 播放切换控制 --- //\r\n\r\n  /** 切换上一个 */\r\n  public prev() {\r\n    this.hook.call(\"prev\");\r\n  }\r\n\r\n  /** 切换下一个 */\r\n  public next() {\r\n    this.hook.call(\"next\");\r\n  }\r\n\r\n  // --- 视频播放控制 --- //\r\n\r\n  /** 当前播放器暂停状态 */\r\n  get paused() {\r\n    return this.$video.paused;\r\n  }\r\n\r\n  /** 当前播放时间 */\r\n  public get currentTime() {\r\n    return this.$video.currentTime;\r\n  }\r\n\r\n  /** 当前播放总时间 */\r\n  public get duration() {\r\n    return this.$video.duration;\r\n  }\r\n\r\n  /** 当前播放音量 */\r\n  public get volume() {\r\n    return this.$video.volume;\r\n  }\r\n\r\n  /** 当前静音状态 */\r\n  public get muted() {\r\n    return this.$video.muted;\r\n  }\r\n\r\n  /** 当前播放速度 */\r\n  public get playbackRate() {\r\n    return this.$video.playbackRate;\r\n  }\r\n\r\n  /** 当前视频循环 */\r\n  public get loop() {\r\n    return this.$video.loop;\r\n  }\r\n\r\n  /** 开始播放 */\r\n  public play() {\r\n    this.hook.call(\"play\").then((res) => {\r\n      if (res) this.$video.play();\r\n    });\r\n  }\r\n\r\n  /** 暂停播放 */\r\n  public pause() {\r\n    this.hook.call(\"pause\").then((res) => {\r\n      if (res) this.$video.pause();\r\n    });\r\n  }\r\n\r\n  /** 跳转\r\n   * @param time 跳转时间点（秒）\r\n   */\r\n  public seek(time: number) {\r\n    this.hook.call(\"seek\").then((res) => {\r\n      if (res) {\r\n        this.$video.currentTime = clamp(time, 0, this.$video.duration);\r\n      }\r\n    });\r\n  }\r\n\r\n  /** 设置音量\r\n   * @param volume 音量（0-1）\r\n   */\r\n  public setVolume(volume: number) {\r\n    this.$video.volume = clamp(volume, 0, 1);\r\n  }\r\n\r\n  /** 静音 */\r\n  public setMuted(flag: boolean) {\r\n    this.$video.muted = flag;\r\n  }\r\n\r\n  /** 设置倍速 */\r\n  public setPlaybackRate(value: number) {\r\n    this.$video.playbackRate = value;\r\n  }\r\n\r\n  /** 设置视频循环 */\r\n  public setLoop(flag: boolean) {\r\n    this.$video.loop = flag;\r\n    this.emit(\"loopChange\", flag);\r\n  }\r\n\r\n  // --- 事件 --- //\r\n\r\n  /** 监听事件 */\r\n  public on<T extends keyof PlayerEventMap>(name: T, listener: PlayerEventMap[T]) {\r\n    this._eventEmitter.on(name, listener);\r\n  }\r\n\r\n  /** 取消监听事件 */\r\n  public off<T extends keyof PlayerEventMap>(name: T, listener: PlayerEventMap[T]) {\r\n    this._eventEmitter.off(name, listener);\r\n  }\r\n\r\n  /** 一次性监听事件 */\r\n  public once<T extends keyof PlayerEventMap>(name: T, listener: PlayerEventMap[T]) {\r\n    this._eventEmitter.once(name, listener);\r\n  }\r\n\r\n  /** 发送事件 */\r\n  public emit<T extends keyof PlayerEventMap>(name: T, ...args: Parameters<PlayerEventMap[T]>) {\r\n    this._eventEmitter.emit(name, ...args);\r\n  }\r\n\r\n  /** 定义属性或方法 */\r\n  public define<T extends keyof Player>(\r\n    name: Player[T] extends Function | undefined ? T : never,\r\n    item: Function\r\n  ): void;\r\n  public define<T extends keyof Player>(name: T, item: PlayerPropertyDescriptor<Player[T]>): void;\r\n  public define(name: string, item: Function | PropertyDescriptor) {\r\n    Object.defineProperty(this, name, typeof item == \"function\" ? { value: item } : item);\r\n  }\r\n\r\n  /** 抛出错误 */\r\n  public throw(err: Error) {\r\n    console.error(err);\r\n    this.emit(\"error\", err);\r\n  }\r\n\r\n  /** 播放器销毁 */\r\n  public destroy() {\r\n    // 所有插件执行destroy函数\r\n    this._pluginManager.destroy();\r\n  }\r\n}\r\n\r\nexport default Player;\r\n","import { PlayerOptions, PluginItem } from \"@/types\";\r\nimport { Player } from \"@/player\";\r\n\r\n/** 基础插件 */\r\nexport abstract class BasePlugin implements PluginItem {\r\n  static pluginName: string;\r\n  protected readonly player: Player;\r\n  /** 播放器插件 @deprecated */\r\n  protected readonly plugin: Player[\"plugin\"];\r\n  /** 抛出错误 */\r\n  protected readonly throw: Player[\"throw\"];\r\n  constructor(player: Player) {\r\n    this.player = player;\r\n    this.plugin = player.plugin;\r\n    this.throw = player.throw;\r\n  }\r\n  /** 插件创建后 */\r\n  init?(player: Player): void;\r\n  /** 作为插件注册 */\r\n  apply?(player: Player, options: PlayerOptions): void;\r\n  /** 所有插件加载后 */\r\n  ready?(player: Player): void;\r\n  /** 播放器挂载后 */\r\n  mounted?(player: Player): void;\r\n  /** 执行销毁 */\r\n  destroy?(): void;\r\n}\r\n\r\n/** 控制组件 */\r\nexport interface ControlsItem extends PluginItem {\r\n  $el: HTMLElement;\r\n  ignored?: boolean;\r\n}\r\n\r\n/** 面板组件 */\r\nexport interface PanelItem extends PluginItem {\r\n  $el: HTMLElement;\r\n  title?: string;\r\n  mount(\r\n    el: HTMLElement,\r\n    opt?: { onToggle?: (flag: boolean) => void; onUnmount?: () => void }\r\n  ): void;\r\n  unmount(): void;\r\n  toggle(flag?: boolean): void;\r\n}\r\n\r\n/** 菜单项组件 */\r\nexport interface MenuItem extends PluginItem {\r\n  icon?: HTMLElement | ((player: Player) => HTMLElement);\r\n  content: string | HTMLElement | ((player: Player) => string | HTMLElement);\r\n  onClick?: (player: Player) => void;\r\n}\r\n\r\n/** 界面插件 */\r\nexport abstract class UIPlugin extends BasePlugin {\r\n  $el: HTMLElement;\r\n  $<T extends Element>(selectors: string) {\r\n    return this.$el.querySelector<T>(selectors);\r\n  }\r\n  constructor(player: Player, el: HTMLElement) {\r\n    super(player);\r\n    this.$el = el;\r\n  }\r\n}\r\n\r\n/** 控制组件插件 */\r\nexport abstract class ControlsPlugin extends UIPlugin implements ControlsItem {\r\n  abstract name: string;\r\n  apply(player: Player, options: PlayerOptions) {\r\n    player.controls.register(this.name, this);\r\n  }\r\n  show() {\r\n    this.$el.style.display = \"\";\r\n  }\r\n  hide() {\r\n    this.$el.style.display = \"none\";\r\n  }\r\n}\r\n\r\n/** 面板插件 */\r\nexport abstract class PanelPlugin extends UIPlugin implements PanelItem {\r\n  abstract name: string;\r\n  abstract title?: string;\r\n  container?: HTMLElement;\r\n  onUnmount?: () => void;\r\n  onToggle?: (flag: boolean) => void;\r\n  shown = false;\r\n  constructor(player: Player, el: HTMLElement) {\r\n    super(player, el);\r\n  }\r\n  apply(player: Player, options: PlayerOptions): void {\r\n    player.panel.register(this.name, this);\r\n  }\r\n  /** 挂载 */\r\n  mount(el: HTMLElement, opt?: { onToggle?: (flag: boolean) => void; onUnmount?: () => void }) {\r\n    el.appendChild(this.$el);\r\n    this.unmount();\r\n    this.onToggle = opt?.onToggle;\r\n    this.onUnmount = opt?.onUnmount;\r\n  }\r\n  /** 卸载 */\r\n  unmount() {\r\n    this.toggle(false);\r\n    this.onUnmount?.();\r\n    this.onToggle = undefined;\r\n    this.onUnmount = undefined;\r\n  }\r\n  /** 切换显示隐藏状态 */\r\n  toggle(flag?: boolean) {\r\n    this.shown = flag ?? !this.shown;\r\n    this.onToggle?.(this.shown);\r\n  }\r\n}\r\n\r\n/** 菜单项插件 */\r\nexport abstract class MenuPlugin extends BasePlugin implements MenuItem {\r\n  abstract name: string;\r\n  abstract content: string | HTMLElement | ((player: Player) => string | HTMLElement);\r\n  apply(player: Player) {\r\n    player.menu.register(this.name, this);\r\n  }\r\n}\r\n\r\nexport interface PanelContainer {\r\n  mount: (panel: PanelPlugin) => void;\r\n}\r\n\r\nexport type UIOptionsItem<T> = (new (player: Player) => T) | T | string;\r\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nvar t;const i=window,s=i.trustedTypes,e=s?s.createPolicy(\"lit-html\",{createHTML:t=>t}):void 0,o=\"$lit$\",n=`lit$${(Math.random()+\"\").slice(9)}$`,l=\"?\"+n,h=`<${l}>`,r=document,u=()=>r.createComment(\"\"),d=t=>null===t||\"object\"!=typeof t&&\"function\"!=typeof t,c=Array.isArray,v=t=>c(t)||\"function\"==typeof(null==t?void 0:t[Symbol.iterator]),a=\"[ \\t\\n\\f\\r]\",f=/<(?:(!--|\\/[^a-zA-Z])|(\\/?[a-zA-Z][^>\\s]*)|(\\/?$))/g,_=/-->/g,m=/>/g,p=RegExp(`>|${a}(?:([^\\\\s\"'>=/]+)(${a}*=${a}*(?:[^ \\t\\n\\f\\r\"'\\`<>=]|(\"|')|))|$)`,\"g\"),g=/'/g,$=/\"/g,y=/^(?:script|style|textarea|title)$/i,w=t=>(i,...s)=>({_$litType$:t,strings:i,values:s}),x=w(1),b=w(2),T=Symbol.for(\"lit-noChange\"),A=Symbol.for(\"lit-nothing\"),E=new WeakMap,C=r.createTreeWalker(r,129,null,!1);function P(t,i){if(!Array.isArray(t)||!t.hasOwnProperty(\"raw\"))throw Error(\"invalid template strings array\");return void 0!==e?e.createHTML(i):i}const V=(t,i)=>{const s=t.length-1,e=[];let l,r=2===i?\"<svg>\":\"\",u=f;for(let i=0;i<s;i++){const s=t[i];let d,c,v=-1,a=0;for(;a<s.length&&(u.lastIndex=a,c=u.exec(s),null!==c);)a=u.lastIndex,u===f?\"!--\"===c[1]?u=_:void 0!==c[1]?u=m:void 0!==c[2]?(y.test(c[2])&&(l=RegExp(\"</\"+c[2],\"g\")),u=p):void 0!==c[3]&&(u=p):u===p?\">\"===c[0]?(u=null!=l?l:f,v=-1):void 0===c[1]?v=-2:(v=u.lastIndex-c[2].length,d=c[1],u=void 0===c[3]?p:'\"'===c[3]?$:g):u===$||u===g?u=p:u===_||u===m?u=f:(u=p,l=void 0);const w=u===p&&t[i+1].startsWith(\"/>\")?\" \":\"\";r+=u===f?s+h:v>=0?(e.push(d),s.slice(0,v)+o+s.slice(v)+n+w):s+n+(-2===v?(e.push(void 0),i):w)}return[P(t,r+(t[s]||\"<?>\")+(2===i?\"</svg>\":\"\")),e]};class N{constructor({strings:t,_$litType$:i},e){let h;this.parts=[];let r=0,d=0;const c=t.length-1,v=this.parts,[a,f]=V(t,i);if(this.el=N.createElement(a,e),C.currentNode=this.el.content,2===i){const t=this.el.content,i=t.firstChild;i.remove(),t.append(...i.childNodes)}for(;null!==(h=C.nextNode())&&v.length<c;){if(1===h.nodeType){if(h.hasAttributes()){const t=[];for(const i of h.getAttributeNames())if(i.endsWith(o)||i.startsWith(n)){const s=f[d++];if(t.push(i),void 0!==s){const t=h.getAttribute(s.toLowerCase()+o).split(n),i=/([.?@])?(.*)/.exec(s);v.push({type:1,index:r,name:i[2],strings:t,ctor:\".\"===i[1]?H:\"?\"===i[1]?L:\"@\"===i[1]?z:k})}else v.push({type:6,index:r})}for(const i of t)h.removeAttribute(i)}if(y.test(h.tagName)){const t=h.textContent.split(n),i=t.length-1;if(i>0){h.textContent=s?s.emptyScript:\"\";for(let s=0;s<i;s++)h.append(t[s],u()),C.nextNode(),v.push({type:2,index:++r});h.append(t[i],u())}}}else if(8===h.nodeType)if(h.data===l)v.push({type:2,index:r});else{let t=-1;for(;-1!==(t=h.data.indexOf(n,t+1));)v.push({type:7,index:r}),t+=n.length-1}r++}}static createElement(t,i){const s=r.createElement(\"template\");return s.innerHTML=t,s}}function S(t,i,s=t,e){var o,n,l,h;if(i===T)return i;let r=void 0!==e?null===(o=s._$Co)||void 0===o?void 0:o[e]:s._$Cl;const u=d(i)?void 0:i._$litDirective$;return(null==r?void 0:r.constructor)!==u&&(null===(n=null==r?void 0:r._$AO)||void 0===n||n.call(r,!1),void 0===u?r=void 0:(r=new u(t),r._$AT(t,s,e)),void 0!==e?(null!==(l=(h=s)._$Co)&&void 0!==l?l:h._$Co=[])[e]=r:s._$Cl=r),void 0!==r&&(i=S(t,r._$AS(t,i.values),r,e)),i}class M{constructor(t,i){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){var i;const{el:{content:s},parts:e}=this._$AD,o=(null!==(i=null==t?void 0:t.creationScope)&&void 0!==i?i:r).importNode(s,!0);C.currentNode=o;let n=C.nextNode(),l=0,h=0,u=e[0];for(;void 0!==u;){if(l===u.index){let i;2===u.type?i=new R(n,n.nextSibling,this,t):1===u.type?i=new u.ctor(n,u.name,u.strings,this,t):6===u.type&&(i=new Z(n,this,t)),this._$AV.push(i),u=e[++h]}l!==(null==u?void 0:u.index)&&(n=C.nextNode(),l++)}return C.currentNode=r,o}v(t){let i=0;for(const s of this._$AV)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,i),i+=s.strings.length-2):s._$AI(t[i])),i++}}class R{constructor(t,i,s,e){var o;this.type=2,this._$AH=A,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=s,this.options=e,this._$Cp=null===(o=null==e?void 0:e.isConnected)||void 0===o||o}get _$AU(){var t,i;return null!==(i=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==i?i:this._$Cp}get parentNode(){let t=this._$AA.parentNode;const i=this._$AM;return void 0!==i&&11===(null==t?void 0:t.nodeType)&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=S(this,t,i),d(t)?t===A||null==t||\"\"===t?(this._$AH!==A&&this._$AR(),this._$AH=A):t!==this._$AH&&t!==T&&this._(t):void 0!==t._$litType$?this.g(t):void 0!==t.nodeType?this.$(t):v(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==A&&d(this._$AH)?this._$AA.nextSibling.data=t:this.$(r.createTextNode(t)),this._$AH=t}g(t){var i;const{values:s,_$litType$:e}=t,o=\"number\"==typeof e?this._$AC(t):(void 0===e.el&&(e.el=N.createElement(P(e.h,e.h[0]),this.options)),e);if((null===(i=this._$AH)||void 0===i?void 0:i._$AD)===o)this._$AH.v(s);else{const t=new M(o,this),i=t.u(this.options);t.v(s),this.$(i),this._$AH=t}}_$AC(t){let i=E.get(t.strings);return void 0===i&&E.set(t.strings,i=new N(t)),i}T(t){c(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let s,e=0;for(const o of t)e===i.length?i.push(s=new R(this.k(u()),this.k(u()),this,this.options)):s=i[e],s._$AI(o),e++;e<i.length&&(this._$AR(s&&s._$AB.nextSibling,e),i.length=e)}_$AR(t=this._$AA.nextSibling,i){var s;for(null===(s=this._$AP)||void 0===s||s.call(this,!1,!0,i);t&&t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){var i;void 0===this._$AM&&(this._$Cp=t,null===(i=this._$AP)||void 0===i||i.call(this,t))}}class k{constructor(t,i,s,e,o){this.type=1,this._$AH=A,this._$AN=void 0,this.element=t,this.name=i,this._$AM=e,this.options=o,s.length>2||\"\"!==s[0]||\"\"!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=A}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,i=this,s,e){const o=this.strings;let n=!1;if(void 0===o)t=S(this,t,i,0),n=!d(t)||t!==this._$AH&&t!==T,n&&(this._$AH=t);else{const e=t;let l,h;for(t=o[0],l=0;l<o.length-1;l++)h=S(this,e[s+l],i,l),h===T&&(h=this._$AH[l]),n||(n=!d(h)||h!==this._$AH[l]),h===A?t=A:t!==A&&(t+=(null!=h?h:\"\")+o[l+1]),this._$AH[l]=h}n&&!e&&this.j(t)}j(t){t===A?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:\"\")}}class H extends k{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===A?void 0:t}}const I=s?s.emptyScript:\"\";class L extends k{constructor(){super(...arguments),this.type=4}j(t){t&&t!==A?this.element.setAttribute(this.name,I):this.element.removeAttribute(this.name)}}class z extends k{constructor(t,i,s,e,o){super(t,i,s,e,o),this.type=5}_$AI(t,i=this){var s;if((t=null!==(s=S(this,t,i,0))&&void 0!==s?s:A)===T)return;const e=this._$AH,o=t===A&&e!==A||t.capture!==e.capture||t.once!==e.once||t.passive!==e.passive,n=t!==A&&(e===A||o);o&&this.element.removeEventListener(this.name,this,e),n&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var i,s;\"function\"==typeof this._$AH?this._$AH.call(null!==(s=null===(i=this.options)||void 0===i?void 0:i.host)&&void 0!==s?s:this.element,t):this._$AH.handleEvent(t)}}class Z{constructor(t,i,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){S(this,t)}}const j={O:o,P:n,A:l,C:1,M:V,L:M,R:v,D:S,I:R,V:k,H:L,N:z,U:H,F:Z},B=i.litHtmlPolyfillSupport;null==B||B(N,R),(null!==(t=i.litHtmlVersions)&&void 0!==t?t:i.litHtmlVersions=[]).push(\"2.8.0\");const D=(t,i,s)=>{var e,o;const n=null!==(e=null==s?void 0:s.renderBefore)&&void 0!==e?e:i;let l=n._$litPart$;if(void 0===l){const t=null!==(o=null==s?void 0:s.renderBefore)&&void 0!==o?o:null;n._$litPart$=l=new R(i.insertBefore(u(),t),t,void 0,null!=s?s:{})}return l._$AI(t),l};export{j as _$LH,x as html,T as noChange,A as nothing,D as render,b as svg};\n//# sourceMappingURL=lit-html.js.map\n","import { html, render } from \"lit-html\";\n\nconst template = ({ divider }: { divider: number }) =>\n  html` <div\n    class=\"mpui-slider mpui-slider-horizontal\"\n    style=\"position: relative; width: 100%; height: 100%\"\n  >\n    <div\n      class=\"mpui-slider-track\"\n      style=\"\n      position: absolute;\n      width: 100%;\n      top: 50%;\n      transform: translateY(-50%);\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    \"\n    >\n      <div class=\"mpui-slider-bar\" style=\"position: absolute; left: 0; height: 100%\"></div>\n      <div class=\"mpui-slider-thumb-track\" style=\"height: 0px\">\n        <div\n          class=\"mpui-slider-thumb\"\n          style=\"position: absolute; transform: translate(-50%, -50%)\"\n        ></div>\n        ${divider\n          ? html`\n              <div class=\"mpui-slider-divider\">\n                ${new Array(divider).fill(html`<div class=\"mpui-slider-divider-dot\"></div>`)}\n              </div>\n            `\n          : \"\"}\n      </div>\n    </div>\n  </div>`;\n\ninterface SliderOptions {\n  /** 挂载容器 */\n  container: HTMLElement;\n  /** 最小值 */\n  min: number;\n  /** 最大值 */\n  max: number;\n  /** 步长(若不填或为0，则没有步长限制) */\n  step?: number;\n  /** 分割线 */\n  divider?: number | boolean;\n  /** 默认值(不填的情况下默认值为0) */\n  value?: number;\n  /** 数值更改时触发 */\n  onChange?: (value: number) => void;\n  /** 拖动引发数值更改时触发 */\n  onDrag?: (value: number) => void;\n  /** 开始拖动时触发 */\n  onDragStart?: (value: number) => void;\n  /** 结束拖动时触发 */\n  onDragEnd?: (value: number) => void;\n}\n\n/** 横向滑动条 */\nexport class Slider implements SliderOptions {\n  readonly container: HTMLElement;\n  readonly min: number;\n  readonly max: number;\n  /** 步长 */\n  readonly step: number;\n  /** 分割线 */\n  readonly divider: number;\n  /** 数值 */\n  value: number;\n  onChange?: (value: number) => void;\n  onDragStart?: (value: number) => void;\n  onDragEnd?: (value: number) => void;\n  onDrag?: (value: number) => void;\n\n  // 部件\n  $el: HTMLElement;\n\n  $track: HTMLElement;\n\n  $bar: HTMLElement;\n\n  $thumbTrack: HTMLElement;\n\n  $thumb: HTMLElement;\n\n  constructor({\n    container,\n    min,\n    max,\n    step,\n    divider = 0,\n    value = 0,\n    onChange,\n    onDragStart,\n    onDragEnd,\n    onDrag,\n  }: SliderOptions) {\n    this.container = container;\n    this.min = min;\n    this.max = max;\n    this.step = step || 0;\n    this.divider = divider ? (typeof divider === \"boolean\" ? this.step : divider) : 0;\n    this.value = isNaN(value) ? value : Number(value);\n    this.onChange = onChange;\n    this.onDragStart = onDragStart;\n    this.onDragEnd = onDragEnd;\n    this.onDrag = onDrag;\n\n    render(template({ divider: this.divider }), container);\n\n    this.$el = this.container.querySelector(\".mpui-slider\")!;\n    this.$track = this.$el.querySelector(\".mpui-slider-track\")!; // 滑动条轨道\n    this.$bar = this.$track.querySelector(\".mpui-slider-bar\")!; // 滑动条痕迹\n    this.$thumbTrack = this.$track.querySelector(\".mpui-slider-thumb-track\")!; // 滑块轨道\n    this.$thumb = this.$track.querySelector(\".mpui-slider-thumb\")!; // 滑块\n\n    // 滑动条事件\n    this.$el.addEventListener(\"mousedown\", (event: MouseEvent) => {\n      const e: MouseEvent = event;\n      // 鼠标X位置\n      const { clientX } = e;\n      // 滑块长度\n      const trackLength = this.$track.offsetWidth;\n      // 滑块可滑动距离\n      let nMax = this.$thumbTrack.offsetWidth;\n      nMax = nMax || trackLength;\n      // 滑块轨道与总轨道距离差\n      const thumbTrackX = (trackLength - nMax) / 2;\n      // 滑动条位置\n      const nLeft = this.$el.getBoundingClientRect().left;\n      // 计算滑块位置\n      let nLength = clientX - nLeft - thumbTrackX;\n      // 限制滑块移动位置\n      nLength = nLength >= nMax ? nMax : nLength <= 0 ? 0 : nLength;\n      const value = this.step\n        ? Math.round(((nLength / nMax) * (this.max - this.min)) / this.step) * this.step + this.min\n        : (nLength / nMax) * (this.max - this.min) + this.min;\n      // 开始滑动事件\n      this.onDragStart?.(value);\n      // 监测数据更新并执行函数\n      if (this.value != value) {\n        this.drag(value);\n      }\n\n      const mousemoveEvent = (event: MouseEvent) => {\n        const e: MouseEvent = event;\n        // 鼠标X位置\n        const { clientX } = e;\n        // 鼠标移动时取消默认行为，避免选中其他元素或文字\n        e.preventDefault();\n        e.stopPropagation();\n        // 获取鼠标移动后滑块应该移动到的位置\n        let nLength = clientX - nLeft - thumbTrackX;\n        // 限制滑块移动位置\n        nLength = nLength >= nMax ? nMax : nLength <= 0 ? 0 : nLength;\n\n        const value = this.step\n          ? Math.round(((nLength / nMax) * (this.max - this.min)) / this.step) * this.step +\n            this.min\n          : (nLength / nMax) * (this.max - this.min) + this.min;\n        // 监测数据更新并执行函数\n        if (this.value != value) {\n          this.drag(value);\n        }\n        window.getSelection()?.removeAllRanges();\n      };\n\n      const removeEvent = (event: MouseEvent) => {\n        const e: MouseEvent = event;\n        e.stopPropagation();\n        window.getSelection()?.removeAllRanges();\n        document.removeEventListener(\"mousemove\", mousemoveEvent);\n        document.removeEventListener(\"mouseup\", removeEvent);\n        this.onDragEnd?.(value);\n      };\n\n      document.addEventListener(\"mousemove\", mousemoveEvent);\n      document.addEventListener(\"mouseup\", removeEvent);\n    });\n\n    // 设置滑块初始位置\n    this.setValue(this.value);\n  }\n\n  /** 设置滑动条值 */\n  public setValue(value: number) {\n    this.value = value <= this.min ? this.min : value >= this.max ? this.max : value;\n    // 计算滑块位置\n    const per = (this.value - this.min) / (this.max - this.min);\n    // 修改滑块位置\n    this.$thumb.style.left = `${per * 100}%`;\n    // 修改滑动痕迹高度\n    this.$bar.style.width = `${per * 100}%`;\n    // 触发数据更改事件\n    this.onChange?.(this.value);\n  }\n\n  /** 拖动滑动条到特定的值 */\n  public drag(value: number) {\n    this.setValue(value);\n    // 触发拖动事件\n    this.onDrag?.(this.value);\n  }\n}\n","import { html, render } from \"lit-html\";\r\n\r\nconst template = () => html`\r\n  <div\r\n    class=\"mpui-slider mpui-slider-vertical\"\r\n    style=\"position: relative; width: 100%; height: 100%\"\r\n  >\r\n    <div\r\n      class=\"mpui-slider-track\"\r\n      style=\"\r\n        position: absolute;\r\n        height: 100%;\r\n        left: 50%;\r\n        transform: translateX(-50%);\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center\r\n      \"\r\n    >\r\n      <div class=\"mpui-slider-bar\" style=\"position: absolute; bottom: 0; width: 100%\"></div>\r\n      <div class=\"mpui-slider-thumb-track\" style=\"width: 0px\">\r\n        <div\r\n          class=\"mpui-slider-thumb\"\r\n          style=\"position: absolute; transform: translate(-50%, -50%)\"\r\n        ></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n`;\r\n\r\ninterface SliderVerticalOptions {\r\n  /** 挂载容器 */\r\n  container: HTMLElement;\r\n  /** 最小值 */\r\n  min: number;\r\n  /** 最大值 */\r\n  max: number;\r\n  /** 步长(若不填或为0，则没有步长限制) */\r\n  step?: number;\r\n  /** 默认值(不填的情况下默认值为0) */\r\n  value?: number;\r\n  /** 数值更改时触发 */\r\n  onChange?: (value: number) => void;\r\n  /** 拖动引发数值更改时触发 */\r\n  onDrag?: (value: number) => void;\r\n  /** 开始拖动时触发 */\r\n  onDragStart?: (value: number) => void;\r\n  /** 结束拖动时触发 */\r\n  onDragEnd?: (value: number) => void;\r\n}\r\n\r\n/** 横向滑动条 */\r\nexport class SliderVertical implements SliderVerticalOptions {\r\n  readonly container: HTMLElement;\r\n  readonly min: number;\r\n  readonly max: number;\r\n  /** 步长 */\r\n  readonly step: number;\r\n  /** 数值 */\r\n  value: number;\r\n  onChange?: (value: number) => void;\r\n  onDragStart?: (value: number) => void;\r\n  onDragEnd?: (value: number) => void;\r\n  onDrag?: (value: number) => void;\r\n  // 部件\r\n  $el: HTMLElement;\r\n  $track: HTMLElement;\r\n  $bar: HTMLElement;\r\n  $thumbTrack: HTMLElement;\r\n  $thumb: HTMLElement;\r\n\r\n  constructor({\r\n    container,\r\n    min,\r\n    max,\r\n    step,\r\n    value = 0,\r\n    onChange,\r\n    onDragStart,\r\n    onDragEnd,\r\n    onDrag,\r\n  }: SliderVerticalOptions) {\r\n    this.container = container;\r\n    this.min = min;\r\n    this.max = max;\r\n    this.step = step || 0;\r\n    this.value = isNaN(value) ? value : Number(value);\r\n    this.onChange = onChange;\r\n    this.onDragStart = onDragStart;\r\n    this.onDragEnd = onDragEnd;\r\n    this.onDrag = onDrag;\r\n\r\n    render(template(), container);\r\n\r\n    this.$el = this.container.querySelector(\".mpui-slider\")!;\r\n    this.$track = this.$el.querySelector(\".mpui-slider-track\")!; // 滑动条轨道\r\n    this.$bar = this.$track.querySelector(\".mpui-slider-bar\")!; // 滑动条痕迹\r\n    this.$thumbTrack = this.$track.querySelector(\".mpui-slider-thumb-track\")!; // 滑块轨道\r\n    this.$thumb = this.$track.querySelector(\".mpui-slider-thumb\")!; // 滑块\r\n\r\n    // 滑动条事件\r\n    // 点击鼠标事件\r\n    this.$el.addEventListener(\"mousedown\", (event: MouseEvent) => {\r\n      const e: MouseEvent = event;\r\n      // 鼠标Y位置\r\n      const { clientY } = e;\r\n      // 滑块长度\r\n      const trackLength = this.$track.offsetHeight;\r\n      // 滑块可滑动距离\r\n      let nMax = this.$thumbTrack.offsetHeight;\r\n      nMax = nMax || trackLength;\r\n      // 滑块轨道与总轨道距离差\r\n      const thumbTrackY = (trackLength - nMax) / 2;\r\n      // 滑动条位置\r\n      const nTop = this.$el.getBoundingClientRect().top;\r\n      // 计算滑块位置\r\n      let nLength = nMax - (clientY - nTop - thumbTrackY);\r\n      // 限制滑块移动位置\r\n      nLength = nLength >= nMax ? nMax : nLength <= 0 ? 0 : nLength;\r\n      const value = this.step\r\n        ? Math.round(((nLength / nMax) * (this.max - this.min)) / this.step) * this.step + this.min\r\n        : (nLength / nMax) * (this.max - this.min) + this.min;\r\n      // 开始滑动事件\r\n      this.onDragStart?.(value);\r\n      // 监测数据更新并执行函数\r\n      if (this.value != value) {\r\n        this.drag(value);\r\n      }\r\n\r\n      const mousemoveEvent = (event: MouseEvent) => {\r\n        const e: MouseEvent = event;\r\n        // 鼠标X位置\r\n        const { clientY } = e;\r\n        // 鼠标移动时取消默认行为，避免选中其他元素或文字\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        // 获取鼠标移动后滑块应该移动到的位置\r\n        let nLength = nMax - (clientY - nTop - thumbTrackY);\r\n        // 限制滑块移动位置\r\n        nLength = nLength >= nMax ? nMax : nLength <= 0 ? 0 : nLength;\r\n\r\n        const value = this.step\r\n          ? Math.round(((nLength / nMax) * (this.max - this.min)) / this.step) * this.step +\r\n            this.min\r\n          : (nLength / nMax) * (this.max - this.min) + this.min;\r\n        // 监测数据更新并执行函数\r\n        if (this.value != value) {\r\n          this.drag(value);\r\n        }\r\n        window.getSelection()?.removeAllRanges();\r\n      };\r\n      const removeEvent = (event: MouseEvent) => {\r\n        const e: MouseEvent = event;\r\n        e.stopPropagation();\r\n        window.getSelection()?.removeAllRanges();\r\n        document.removeEventListener(\"mousemove\", mousemoveEvent);\r\n        document.removeEventListener(\"mouseup\", removeEvent);\r\n        this.onDragEnd?.(value);\r\n      };\r\n\r\n      document.addEventListener(\"mousemove\", mousemoveEvent);\r\n      document.addEventListener(\"mouseup\", removeEvent);\r\n    });\r\n    // 设置滑块初始位置\r\n    this.setValue(this.value);\r\n  }\r\n\r\n  /** 设置滑动条值 */\r\n  setValue(value: number) {\r\n    // this.value = value <= this.min ? this.min : value >= this.max ? this.max : value;\r\n    this.value = Math.max(Math.min(value, this.max), this.min);\r\n    // 计算滑块位置\r\n    const per = (this.value - this.min) / (this.max - this.min);\r\n    // 修改滑块位置\r\n    this.$thumb.style.top = `${(1 - per) * 100}%`;\r\n    // 修改滑动痕迹高度\r\n    this.$bar.style.height = `${Math.max(Math.min(per, 1), 0) * 100}%`;\r\n    // 执行相应函数\r\n    this.onChange?.(value);\r\n  }\r\n\r\n  /** 拖动滑动条到特定的值 */\r\n  private drag(value: number) {\r\n    this.setValue(value);\r\n    // 触发拖动事件\r\n    this.onDrag?.(this.value);\r\n  }\r\n}\r\n","import { html, render, TemplateResult } from \"lit-html\";\r\n\r\nconst templateWrap = ({\r\n  list,\r\n  template,\r\n}: {\r\n  list: PickerOptionsItem[];\r\n  template?: PickerItemTemplate;\r\n}) => html`\r\n  <ul class=\"mpui-picker\">\r\n    ${list.map(\r\n      (item, index) => html`\r\n        <li class=\"mpui-picker-item\" data-value=\"${item.value}\">\r\n          ${template?.(item, index) || item.label || item.value}\r\n        </li>\r\n      `\r\n    )}\r\n  </ul>\r\n`;\r\n\r\n/** 选择器函数 */\r\ntype PickerItemTemplate = (item: PickerOptionsItem, index?: number) => string | TemplateResult;\r\n\r\ninterface PickerOptionsItem {\r\n  value: string | number;\r\n  label?: string;\r\n  disabled?: boolean;\r\n  [key: string]: any;\r\n}\r\n\r\ninterface PickerOptions {\r\n  /** 挂载容器 */\r\n  container: HTMLElement;\r\n  /** 选择列表 */\r\n  list: PickerOptionsItem[];\r\n  /** 选择项标签模板 */\r\n  template?: PickerItemTemplate;\r\n  /** 默认值(不填的情况下默认值为undefined) */\r\n  value?: string | number;\r\n  /** 值更改时触发 */\r\n  onChange?: (value?: string | number) => void;\r\n  /** 选择某一项时触发 */\r\n  onPick?: (value?: string | number) => void;\r\n  /** 相等条件 */\r\n  condition?: (item: string, value?: string | number) => boolean;\r\n}\r\n\r\n/** 单选选择器 */\r\nexport class Picker implements PickerOptions {\r\n  readonly container: HTMLElement;\r\n\r\n  readonly template?: PickerItemTemplate;\r\n\r\n  list: PickerOptionsItem[];\r\n\r\n  /** 已选值 */\r\n  value?: string | number;\r\n\r\n  onChange?: (value?: string | number) => void;\r\n\r\n  onPick?: (value?: string | number) => void;\r\n\r\n  $el!: HTMLElement;\r\n\r\n  /** 相等条件 */\r\n  condition?: (item: string, value?: string | number) => boolean;\r\n\r\n  /** 选择项标签集合 */\r\n  private $items!: NodeListOf<HTMLElement>;\r\n\r\n  constructor({ container, value, onChange, onPick, list, template, condition }: PickerOptions) {\r\n    this.container = container;\r\n    this.list = list;\r\n    this.value = value;\r\n    this.onChange = onChange; // 更新数据时需要执行的函数\r\n    this.onPick = onPick; // 更新数据时需要执行的函数\r\n    this.template = template;\r\n    this.condition = condition;\r\n    this.reload();\r\n  }\r\n\r\n  /** 重载，一般用于列表项更改 */\r\n  public reload(value?: string | number) {\r\n    render(templateWrap({ list: this.list, template: this.template }), this.container);\r\n    this.$el = this.container.querySelector(\".mpui-picker\")!;\r\n    this.$items = this.$el.querySelectorAll(\".mpui-picker-item\"); // 标签集合\r\n    this.$items.forEach((item) => {\r\n      item.addEventListener(\"click\", () => {\r\n        this.pick(item.getAttribute(\"data-value\") || undefined);\r\n      });\r\n    });\r\n    this.setValue(value ?? this.value);\r\n  }\r\n\r\n  /** 设置值 */\r\n  public setValue(value?: string | number) {\r\n    this.$items.forEach((n, i) => {\r\n      if (\r\n        this.condition\r\n          ? this.condition(n.getAttribute(\"data-value\")!, value)\r\n          : n.getAttribute(\"data-value\") == value\r\n      ) {\r\n        n.classList.add(\"is-checked\");\r\n      } else {\r\n        n.classList.remove(\"is-checked\");\r\n      }\r\n    });\r\n    this.value = value;\r\n    this.onChange?.(value);\r\n  }\r\n\r\n  /** 点选一个选项 */\r\n  public pick(value?: string) {\r\n    this.setValue(value);\r\n    this.onPick?.(value);\r\n  }\r\n}\r\n","import { html, render, TemplateResult } from \"lit-html\";\r\n\r\nconst templateWrap = ({\r\n  list,\r\n  template,\r\n}: {\r\n  list: PickerOptionsItem[];\r\n  template?: PickerItemTemplate;\r\n}) => html`\r\n  <ul class=\"mpui-picker\">\r\n    ${list.map(\r\n      (item, index) => html`\r\n        <li class=\"mpui-picker-item\" data-value=\"${item.value}\">\r\n          ${template?.(item, index) || item.label || item.value}\r\n        </li>\r\n      `\r\n    )}\r\n  </ul>\r\n`;\r\n\r\n/** 选择器函数 */\r\ntype PickerItemTemplate = (item: PickerOptionsItem, index?: number) => string | TemplateResult;\r\n\r\ninterface PickerOptionsItem {\r\n  value: string;\r\n  label?: string;\r\n  disabled?: boolean;\r\n  [key: string]: any;\r\n}\r\n\r\ninterface MultiPickerOptions {\r\n  /** 绑定的dom对象 */\r\n  container: HTMLElement;\r\n  /** 选择列表 */\r\n  list: PickerOptionsItem[];\r\n  /** 选择项标签模板 */\r\n  template?: PickerItemTemplate;\r\n  /** 默认值(不填的情况下默认值为[]) */\r\n  value?: string[];\r\n  /** 值更改时触发 */\r\n  onChange?: (value: string[]) => void;\r\n  /** 选择/取消选择某一项时触发 */\r\n  onToggle?: (value: string, flag: boolean) => void;\r\n}\r\n\r\n/** 多项选择器 */\r\nexport class MultiPicker implements MultiPickerOptions {\r\n  readonly container: HTMLElement;\r\n\r\n  readonly template?: PickerItemTemplate;\r\n\r\n  list: PickerOptionsItem[];\r\n\r\n  valueSet: Set<string>;\r\n\r\n  /** 已选值 */\r\n  get value() {\r\n    return [...this.valueSet];\r\n  }\r\n\r\n  onChange?: (value: string[]) => void;\r\n\r\n  onToggle?: (value: string, flag: boolean) => void;\r\n\r\n  $el!: HTMLElement;\r\n\r\n  /** 选择项标签集合 */\r\n  private $items!: NodeListOf<HTMLElement>;\r\n\r\n  constructor({ container, value = [], list, onChange, onToggle }: MultiPickerOptions) {\r\n    this.container = container;\r\n    this.list = list;\r\n    this.valueSet = new Set(value);\r\n    this.onChange = onChange; // 更新数据时需要执行的函数\r\n    this.onToggle = onToggle; // 更新数据时需要执行的函数\r\n    this.reload();\r\n  }\r\n\r\n  /** 重载，一般用于列表项更改 */\r\n  public reload(value?: string[]) {\r\n    render(templateWrap({ list: this.list, template: this.template }), this.container);\r\n    this.$el = this.container.querySelector(\".mpui-picker\")!;\r\n    this.$items = this.$el.querySelectorAll(\".mpui-picker-item\"); // 标签集合\r\n    this.$items.forEach((item) => {\r\n      item.addEventListener(\"click\", () => {\r\n        this.toggle(item.getAttribute(\"data-value\")!);\r\n      });\r\n    });\r\n    this.setValue(value ?? this.value);\r\n  }\r\n\r\n  /** 设置值 */\r\n  public setValue(value: string[]) {\r\n    this.valueSet = new Set(value);\r\n    this.$items.forEach((n, i) => {\r\n      if (this.valueSet.has(n.getAttribute(\"data-value\")!)) {\r\n        n.classList.add(\"is-checked\");\r\n      } else {\r\n        n.classList.remove(\"is-checked\");\r\n      }\r\n    });\r\n    this.onChange?.(value);\r\n  }\r\n\r\n  /** 切换一个选项的选择状态 */\r\n  public toggle(value: string, flag?: boolean) {\r\n    const b = flag == null ? !this.valueSet.has(value) : flag;\r\n    if (b) {\r\n      this.valueSet.add(value);\r\n    } else {\r\n      this.valueSet.delete(value);\r\n    }\r\n    this.$items.forEach((n, i) => {\r\n      if (n.getAttribute(\"data-value\") == value) {\r\n        n.classList.toggle(\"is-checked\", b);\r\n      }\r\n    });\r\n    this.onChange?.(this.value);\r\n    this.onToggle?.(value, b);\r\n  }\r\n}\r\n","import { html, render } from \"lit-html\";\r\n\r\nconst templateWrap = ({ label }: { label?: string }) =>\r\n  html` <div class=\"mpui-switch\">${label}</div> `;\r\n\r\ninterface SwitchOptions {\r\n  /** 挂载容器 */\r\n  container: HTMLElement;\r\n  /** 标签 */\r\n  label?: string;\r\n  /** 不可点选 */\r\n  disabled?: boolean;\r\n  /** 默认值(不填的情况下默认值为false) */\r\n  value?: boolean;\r\n  /** 值更改时触发 */\r\n  onChange?: (value: boolean) => void;\r\n  /** 切换状态时触发 */\r\n  onToggle?: (value: boolean) => void;\r\n}\r\n\r\n/** 开关 */\r\nexport class Switch implements SwitchOptions {\r\n  readonly container: HTMLElement;\r\n\r\n  onChange?: (value: boolean) => void;\r\n\r\n  onToggle?: (value: boolean) => void;\r\n\r\n  label?: string;\r\n\r\n  /** 当前值 */\r\n  value: boolean;\r\n\r\n  $el: HTMLElement;\r\n\r\n  constructor({ container, value = false, onChange, onToggle }: SwitchOptions) {\r\n    this.container = container;\r\n    this.value = value;\r\n    this.onChange = onChange; // 更新数据时需要执行的函数\r\n    this.onToggle = onToggle;\r\n    // 注入模板\r\n    render(templateWrap({ label: this.label }), this.container);\r\n\r\n    this.$el = this.container.querySelector(\".mpui-switch\")!;\r\n    this.$el.addEventListener(\"click\", () => {\r\n      this.toggle(!this.value);\r\n    });\r\n\r\n    this.setValue(this.value);\r\n  }\r\n\r\n  /** 设置开关状态 */\r\n  public setValue(value: boolean) {\r\n    this.value = value;\r\n    this.$el.classList.toggle(\"is-checked\", value);\r\n    this.onChange?.(value);\r\n  }\r\n\r\n  /** 点按开关 */\r\n  public toggle(value = !this.value) {\r\n    this.setValue(value);\r\n    this.onToggle?.(value);\r\n  }\r\n}\r\n","import { html, render } from \"lit-html\";\r\n\r\nconst templateWrap = ({ label }: { label?: string }) => html`\r\n  <div class=\"mpui-checkbox\">\r\n    <div class=\"mpui-checkbox-icon\"></div>\r\n    <div class=\"mpui-checkbox-label\">${label}</div>\r\n  </div>\r\n`;\r\n\r\ninterface CheckboxOptions {\r\n  /** 挂载容器 */\r\n  container: HTMLElement;\r\n  /** 标签 */\r\n  label?: string;\r\n  /** 不可点选 */\r\n  disabled?: boolean;\r\n  /** 默认值(不填的情况下默认值为false) */\r\n  value?: boolean;\r\n  /** 值更改时触发 */\r\n  onChange?: (value: boolean) => void;\r\n  /** 切换状态时触发 */\r\n  onToggle?: (value: boolean) => void;\r\n}\r\n\r\n/** 开关 */\r\nexport class Checkbox implements CheckboxOptions {\r\n  readonly container: HTMLElement;\r\n\r\n  onChange?: (value: boolean) => void;\r\n\r\n  onToggle?: (value: boolean) => void;\r\n\r\n  label?: string;\r\n\r\n  /** 当前值 */\r\n  value: boolean;\r\n\r\n  $el: HTMLElement;\r\n\r\n  constructor({ container, value = false, onChange, onToggle, label }: CheckboxOptions) {\r\n    this.container = container;\r\n    this.value = value;\r\n    this.onChange = onChange; // 更新数据时需要执行的函数\r\n    this.onToggle = onToggle;\r\n    this.label = label;\r\n    // 注入模板\r\n    render(templateWrap({ label: this.label }), this.container);\r\n\r\n    this.$el = this.container.querySelector(\".mpui-checkbox\")!;\r\n    this.$el.addEventListener(\"click\", () => {\r\n      this.toggle();\r\n    });\r\n\r\n    this.setValue(this.value);\r\n  }\r\n\r\n  /** 设置开关状态 */\r\n  public setValue(value: boolean) {\r\n    this.value = value;\r\n    this.$el.classList.toggle(\"is-checked\", value);\r\n    this.onChange?.(value);\r\n  }\r\n\r\n  /** 点按开关 */\r\n  public toggle(value = !this.value) {\r\n    this.setValue(value);\r\n    this.onToggle?.(value);\r\n  }\r\n}\r\n","export { Player } from \"@/player\";\nexport * from \"@/plugin\";\nexport * from \"@/config\";\nexport * as Utils from \"@/utils\";\nexport * as Components from \"@/components\";\nimport { Player } from \"@core\";\nimport \"@css/index.scss\";\n\nconsole.log(\n  `${\"\\n\"} %c mfunsPlayer v${Player.version} ${Player.gitHash} %c https://github.com/Mfuns-cn ${\"\\n\"}${\"\\n\"}`,\n  \"color: #fff; background: #7b7ff7; padding:5px 0;\",\n  \"background: #f5f5f5; padding:5px 0;\"\n);\n"],"names":["isMobile","fullScreenEnabled","pictureInPictureEnabled","createElement","tagName","attributes","children","el","name","replaceChildren","element","debounce","fn","delay","immediate","timer","isInvoke","args","throttle","wait","random","lower","upper","clamp","number","timeToSecond","time","arr","sec","min","hour","day","secondToTime","second","level","join","num","minute","HexColorToNumber","color","numberToHexColor","dateFormatMap","d","dateFormat","date","format","match","_a","classPrefix","version","gitHash","repositoryLink","developers","videoEventMap","v","VideoController","player","options","res","info","play","_b","url","type","live","loadInfo","video","eventName","values","_c","PluginManager","pluginItem","plugin","_d","HookManager","func","before","hook","index","ctx","defaultFunc","f","ControlsManager","controls","item","PanelManager","panel","MenuManager","LoaderManager","loader","controller","t","EventEmitter","listener","i","_Player","volume","flag","value","err","Player","BasePlugin","UIPlugin","selectors","ControlsPlugin","PanelPlugin","opt","MenuPlugin","s","e","o","n","l","h","r","u","c","a","_","m","p","g","$","y","w","x","T","A","E","C","P","V","N","H","L","z","k","S","M","R","Z","I","B","D","template","divider","html","Slider","container","max","step","onChange","onDragStart","onDragEnd","onDrag","render","event","clientX","trackLength","nMax","thumbTrackX","nLeft","nLength","mousemoveEvent","removeEvent","per","SliderVertical","clientY","thumbTrackY","nTop","templateWrap","list","Picker","onPick","condition","MultiPicker","onToggle","b","label","Switch","Checkbox"],"mappings":"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","x_google_ignoreList":[12]}