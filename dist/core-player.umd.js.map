{"version":3,"file":"core-player.umd.js","sources":["../src/core/utils/index.ts","../src/core/config.ts","../src/core/module/videoController.ts","../src/core/module/pluginManager.ts","../src/core/module/hookManager.ts","../src/core/module/loaderManager.ts","../src/core/module/eventEmitter.ts","../src/core/player.ts","../src/core/plugin.ts","../src/core/components/Slider.ts","../src/core/components/SliderVertical.ts","../node_modules/lit-html/lit-html.js","../src/core/components/Picker.ts","../src/core/components/MultiPicker.ts","../src/core/components/Switch.ts","../src/core/components/Checkbox.ts","../src/mfuns-player/core-player.ts"],"sourcesContent":["import { PlayerOptions } from \"@/types\";\n\nexport const isMobile = /mobile/i.test(window.navigator.userAgent);\n\n/** 是否支持全屏 */\nexport const fullScreenEnabled =\n  document.fullscreenEnabled ||\n  (document as any).webkitFullscreenEnabled ||\n  (document as any).mozFullScreenEnabled ||\n  (document as any).msFullscreenEnabled ||\n  false;\n\n/** 是否支持画中画 */\nexport const pictureInPictureEnabled = document.pictureInPictureEnabled || false;\n\n/**\n * 创建元素\n * @param tagName 元素标签名\n * @param attributes 元素属性\n * @param children 子元素/HTML字符串\n */\nexport function createElement<T extends keyof HTMLElementTagNameMap>(\n  tagName: T,\n  attributes?: Record<string, string>,\n  children?: Node | string\n) {\n  const el = document.createElement(tagName);\n  if (attributes) {\n    for (const name in attributes) {\n      el.setAttribute(name, attributes[name]);\n    }\n  }\n  if (typeof children == \"string\") {\n    el.innerHTML = children;\n  } else if (children instanceof Node) {\n    el.appendChild(children);\n  }\n  return el;\n}\n\n/**\n * 替换子元素\n * @param element 父元素\n * @param children 要替换的子节点或HTML字符串\n */\nexport function replaceChildren(element: HTMLElement, children: Node | string) {\n  if (typeof children == \"string\") {\n    element.innerHTML = children;\n  } else {\n    element.innerHTML = \"\";\n    element.appendChild(children);\n  }\n}\n/**\n * 防抖\n * @param fn 需要防抖处理的函数\n * @param delay 防抖延迟执行时间\n * @param immediate 是否立即执行一次\n */\nexport const debounce = <T extends any[]>(\n  fn: (...args: T) => void,\n  delay: number,\n  immediate: boolean = false\n) => {\n  let timer: ReturnType<typeof setTimeout> | null = null;\n  let isInvoke = false;\n  const f = function (this: unknown, ...args: T) {\n    if (timer) clearTimeout(timer);\n    if (immediate && !isInvoke) {\n      fn.apply(this, args);\n      isInvoke = true;\n    } else {\n      timer = setTimeout(() => {\n        fn.apply(this, args);\n        clearTimeout(timer!);\n        timer = null;\n        isInvoke = false;\n      }, delay);\n    }\n  };\n  /*   f.clear = () => {\n    if (timer) clearTimeout(timer);\n  }; */\n  return f;\n};\n\n/**\n * 节流\n * @param fn 需要节流处理的函数\n * @param wait 执行一次后需要等待的时间\n */\nexport const throttle = <T extends any[]>(fn: (...args: T) => void, wait: number) => {\n  let timer: ReturnType<typeof setTimeout> | null = null;\n  return function (this: unknown, ...args: T) {\n    if (!timer) {\n      timer = setTimeout(() => {\n        fn.apply(this, args);\n        clearTimeout(timer!);\n        timer = null;\n      }, wait);\n    }\n  };\n};\n\n/** 生成一个范围内的随机数\n * @param lower 最小值\n * @param upper 最大值\n * @returns 生成的随机数\n */\nexport function random(lower: number, upper: number): number {\n  return lower + Math.random() * (upper - lower);\n}\n\n/** 钳制数值\n * @param number 传入数值\n * @param lower 最小值\n * @param upper 最大值\n * @returns 钳制后的数值\n */\nexport function clamp(number: number, lower: number, upper: number): number {\n  return number > lower ? (number < upper ? number : upper) : lower;\n}\n\n/**\n * 将时间文本转换为秒数\n *\n * @param time 冒号分隔的时间文本\n * @return 秒数\n */\nexport function timeToSecond(time: string): number {\n  const arr = time.split(\":\").slice(-3);\n  const sec = parseInt(arr[arr.length - 1]) || 0;\n  const min = parseInt(arr[arr.length - 2]) || 0;\n  const hour = parseInt(arr[arr.length - 3]) || 0;\n  const day = parseInt(arr[arr.length - 4]) || 0;\n  return sec + min * 60 + hour * 3600 + day * 86400;\n}\n\n/**\n * 将秒数转换为时间文本\n *\n * @param second 秒数\n * @param level 转换等级(二进制位属性，表示可转换的时间格式，4-天时分秒，3-时分秒，2-分秒, 1-秒)\n * @return 时间文本\n */\nexport function secondToTime(second: number, level: number = 0b0110): string {\n  second = Number.isFinite(second) ? Math.floor(second) : 0;\n  if (!(level & 0b1111)) return second.toString();\n  const join = (...args: number[]) =>\n    args.map((num) => (num < 10 ? `0${num}` : `${num}`)).join(\":\");\n  let minute: number, hour: number, day: number;\n  if (level & 0b0001 && second < 60) {\n    return second.toString();\n  }\n  minute = Math.floor(second / 60);\n  second = second % 60;\n  if (level & 0b0010 && minute < 60) {\n    return join(minute, second);\n  }\n  hour = Math.floor(minute / 60);\n  minute = minute % 60;\n  if (level & 0b0100 && hour < 24) {\n    return join(hour, minute, second);\n  }\n  day = Math.floor(hour / 60);\n  hour = hour % 24;\n  return join(day, hour, minute, second);\n}\n\n/** 十六进制颜色转数字\n * @param color 颜色字符串，可以省略#符号\n * @return 数值\n */\nexport function HexColorToNumber(color: string): number {\n  if (color[0] === \"#\") {\n    color = color.substring(1);\n  }\n  if (color.length === 3) {\n    color = `${color[0]}${color[0]}${color[1]}${color[1]}${color[2]}${color[2]}`;\n  }\n  return (parseInt(color, 16) + 0x000000) & 0xffffff;\n}\n\n/**\n * 数字转十六进制颜色\n * @param number 传入的数字\n * @return 十六进制颜色\n */\nexport function numberToHexColor(number: number): string {\n  return `#${`00000${number.toString(16)}`.slice(-6)}`;\n}\n\nconst dateFormatMap = {\n  yyyy: (d: Date) => d.getFullYear().toString(),\n  yy: (d: Date) => d.getFullYear().toString().slice(-2),\n  MM: (d: Date) => (d.getMonth() + 1).toString().padStart(2, \"0\"),\n  dd: (d: Date) => d.getDate().toString().padStart(2, \"0\"),\n  HH: (d: Date) => d.getHours().toString().padStart(2, \"0\"),\n  mm: (d: Date) => d.getMinutes().toString().padStart(2, \"0\"),\n  ss: (d: Date) => d.getSeconds().toString().padStart(2, \"0\"),\n};\n\n/**\n * 格式化时间\n * @param date 时间对象\n * @param format 日期格式\n * @return 格式化后的字符串\n */\nexport function dateFormat(date: Date, format: string): string {\n  return format.replace(/yyyy|yy|MM|dd|HH|mm|ss/g, (match) =>\n    dateFormatMap[match as keyof typeof dateFormatMap]?.(date)\n  );\n}\n\n// 判断是否是纯粹对象\nexport function isPlainObject(obj: object) {\n  return Object.getPrototypeOf(obj) === Object.prototype;\n}\n\n// 深合并(不包括数组)\nexport function assignDeep(...args: Record<string, any>[]) {\n  if (args.length < 2) return args[0];\n  // 合并结果\n  let result = args[0];\n  args.shift();\n  args.forEach((item) => {\n    if (isPlainObject(item)) {\n      if (!isPlainObject(result)) result = {};\n      for (const key in item) {\n        if (result[key] && isPlainObject(item[key])) {\n          result[key] = assignDeep(result[key], item[key]);\n        } else {\n          result[key] = item[key];\n        }\n      }\n    }\n  });\n  return result;\n}\n\nexport function mergeOptions(...opts: PlayerOptions[]) {\n  let result = { ...opts[0] };\n  let plugins = opts[0].plugins || [];\n  opts.shift();\n  opts.forEach((op) => {\n    if (op.plugins) plugins = plugins.concat(plugins, op.plugins);\n    assignDeep(result, op);\n  });\n  result.plugins = plugins;\n  return result;\n}\n","export const classPrefix = \"mfuns-player\";\r\n\r\nexport const version = __MFUNSPLAYER_VERSION__;\r\nexport const gitHash = __MFUNSPLAYER_GIT_HASH__;\r\n\r\n/** 项目链接 */\r\nexport const repositoryLink = \"https://github.com/Mfuns-cn/mfunsPlayer/tree/v3-beta\";\r\n\r\n/** 开发者列表 */\r\nexport const developers = [\r\n  { name: \"Minteea\", id: \"Minteea\", link: \"https://github.com/Minteea\" },\r\n  { name: \"鲁迪钨丝\", id: \"Rudiusu\", link: \"https://github.com/Rudiusu\" },\r\n];\r\n","import { LoadInfo, MediaController, PlayerOptions, VideoInfo } from \"@/types\";\r\nimport { Player } from \"@/player\";\r\nimport { PlayerEventMap } from \"@/types/PlayerEventMap\";\r\nimport { createElement } from \"@/utils\";\r\nimport { classPrefix } from \"@/config\";\r\n\r\nconst videoEventMap: {\r\n  [k in keyof PlayerEventMap & keyof HTMLVideoElementEventMap]?: (\r\n    v: HTMLVideoElement\r\n  ) => Parameters<PlayerEventMap[k]>;\r\n} = {\r\n  play: () => [],\r\n  pause: () => [],\r\n  ended: () => [],\r\n\r\n  loadeddata: () => [],\r\n  loadedmetadata: () => [],\r\n  waiting: () => [],\r\n  playing: () => [],\r\n  canplay: () => [],\r\n  canplaythrough: () => [],\r\n\r\n  timeupdate: (v) => [v.currentTime],\r\n  durationchange: (v) => [v.duration],\r\n  progress: (v) => [v.buffered],\r\n  seeking: (v) => [v.currentTime],\r\n  seeked: (v) => [v.currentTime],\r\n  volumechange: (v) => [v.volume, v.muted],\r\n  ratechange: (v) => [v.playbackRate],\r\n\r\n  enterpictureinpicture: () => [],\r\n  leavepictureinpicture: () => [],\r\n};\r\n\r\nexport default class VideoController {\r\n  /** 播放器主体 */\r\n  player: Player;\r\n  /** video对象 */\r\n  $el: HTMLVideoElement;\r\n\r\n  ratio: [number, number] | null = null;\r\n\r\n  /** 视频信息 */\r\n  info: VideoInfo = {};\r\n\r\n  mediaController: MediaController | null = null;\r\n\r\n  private detachEventController?: AbortController;\r\n\r\n  constructor(player: Player, options: PlayerOptions) {\r\n    this.player = player;\r\n\r\n    this.$el = this.player.$content.appendChild(\r\n      createElement(\"video\", { class: `${classPrefix}-video` })\r\n    );\r\n\r\n    this._attachEvent(this.$el);\r\n\r\n    this.player.on(\"ended\", () => {\r\n      this.player.hook.call(\"end\").then((res) => {\r\n        if (res) this.player.emit(\"end\");\r\n      });\r\n    });\r\n  }\r\n\r\n  /** 设置视频 */\r\n  public set(info: VideoInfo, play?: boolean, time?: number) {\r\n    this.player.hook.call(\"video.set\", info).then(async (res) => {\r\n      if (res) {\r\n        // 销毁并丢弃原视频控制实例\r\n        this.mediaController?.destroy?.();\r\n        this.mediaController = null;\r\n        // 设置新视频信息\r\n        this.info = info;\r\n        this.player.emit(\"videoChange\", { ...info });\r\n        // 加载视频\r\n        let { url, type, live } = info;\r\n        const loadInfo = { url, type, play, time, live };\r\n        this.player.hook.call(\"video.beforeLoad\", loadInfo).then(() => {\r\n          if (loadInfo.url) {\r\n            this.load(loadInfo as LoadInfo);\r\n          } else {\r\n            this.player.throw(new Error(\"缺少视频播放信息\"));\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  /** 加载视频 */\r\n  public load(info: LoadInfo) {\r\n    this.player.hook.call(\"video.load\", info).then((res) => {\r\n      if (res) {\r\n        this.mediaController = this.player.loader.create(info, this.$el);\r\n        this.player.emit(\"videoLoad\", info);\r\n      } else {\r\n        this.player.throw(new Error(\"视频加载失败\"));\r\n      }\r\n    });\r\n  }\r\n\r\n  /** 添加视频事件 */\r\n  private _attachEvent(video: HTMLVideoElement) {\r\n    this.detachEventController = new AbortController();\r\n    for (const eventName in videoEventMap) {\r\n      const values =\r\n        videoEventMap[eventName as keyof HTMLVideoElementEventMap & keyof PlayerEventMap]!;\r\n      video.addEventListener(\r\n        eventName,\r\n        () => {\r\n          this.player.emit(\r\n            eventName as keyof HTMLVideoElementEventMap & keyof PlayerEventMap,\r\n            ...values(video)\r\n          );\r\n        },\r\n        { signal: this.detachEventController.signal }\r\n      );\r\n    }\r\n  }\r\n\r\n  public bind(el: HTMLVideoElement) {\r\n    this.$el = el;\r\n    this.detachEventController?.abort();\r\n    this._attachEvent(el);\r\n  }\r\n\r\n  /** 获取播放信息 */\r\n  getVideoInfo() {\r\n    return {\r\n      ...this.info,\r\n    };\r\n  }\r\n  /** 获取媒体信息 */\r\n  getMediaInfo() {\r\n    return {\r\n      url: this.mediaController?.url,\r\n      type: this.mediaController?.type || \"\",\r\n      live: this.mediaController?.live || false,\r\n    };\r\n  }\r\n}\r\n","import { Player } from \"@/player\";\r\nimport { PluginFrom } from \"@/plugin\";\r\nimport { PlayerOptions, PluginItem, PluginConstructor } from \"@/types\";\r\n\r\nexport default class PluginManager {\r\n  player: Player;\r\n  get list() {\r\n    return this.player.plugins as unknown as Record<string, PluginItem>;\r\n  }\r\n  private isInit = false;\r\n  private isReady = false;\r\n  private isMounted = false;\r\n  constructor(player: Player) {\r\n    this.player = player;\r\n  }\r\n\r\n  /** 插件模块初始化 @internal */\r\n  init(options: PlayerOptions) {\r\n    if (this.isInit) return;\r\n    this.isInit = true;\r\n    options.plugins?.forEach((pluginItem) => {\r\n      this.register(pluginItem, options);\r\n    });\r\n    this.pluginsReady();\r\n    this.player.emit(\"ready\");\r\n    this.player.once(\"mounted\", () => {\r\n      this.playerMounted();\r\n    });\r\n  }\r\n\r\n  /** 注册插件 */\r\n  register(pluginItem: PluginConstructor | PluginItem, options: PlayerOptions) {\r\n    const plugin: PluginItem =\r\n      typeof pluginItem == \"function\" ? new pluginItem(this.player) : pluginItem;\r\n    if (pluginItem.pluginName) this.list[pluginItem.pluginName] = plugin;\r\n    if (plugin.initialized) return;\r\n    plugin.init?.(this.player);\r\n    plugin.apply?.(this.player, options);\r\n    this.isReady && plugin.ready?.(this.player);\r\n    this.isMounted && plugin.mounted?.(this.player);\r\n    plugin.initialized = true;\r\n  }\r\n\r\n  /** 访问已安装插件实例 */\r\n  get(name: string): PluginItem | undefined {\r\n    return this.list[name];\r\n  }\r\n\r\n  /** 获取插件实例 */\r\n  from<T extends PluginItem>(item: PluginFrom<T>): T | undefined {\r\n    switch (typeof item) {\r\n      case \"object\":\r\n        return item;\r\n      case \"function\":\r\n        return this.build(item);\r\n      default:\r\n        return this.list[item] as T;\r\n    }\r\n  }\r\n\r\n  /** 初始化插件实例 */\r\n  build<T extends PluginItem>(\r\n    pluginItem: (new (player: Player) => T) | T,\r\n    options: PlayerOptions = {}\r\n  ): T {\r\n    const plugin: T = typeof pluginItem == \"function\" ? new pluginItem(this.player) : pluginItem;\r\n    if (plugin.initialized) return plugin;\r\n    plugin.init?.(this.player);\r\n    plugin.apply?.(this.player, options);\r\n    this.isReady\r\n      ? plugin.ready?.(this.player)\r\n      : this.player.once(\"ready\", () => plugin.mounted?.(this.player));\r\n    this.isMounted\r\n      ? plugin.mounted?.(this.player)\r\n      : this.player.once(\"mounted\", () => plugin.mounted?.(this.player));\r\n    plugin.initialized = true;\r\n    return plugin;\r\n  }\r\n\r\n  /** 所有插件注册完毕后执行 @internal */\r\n  protected pluginsReady() {\r\n    if (this.isReady) return;\r\n    for (const name in this.list) {\r\n      const plugin = this.list[name];\r\n      plugin.ready?.(this.player);\r\n    }\r\n    this.isReady = true;\r\n  }\r\n\r\n  /** 播放器挂载后执行 @internal */\r\n  protected playerMounted() {\r\n    if (this.isMounted) return;\r\n    for (const name in this.list) {\r\n      const plugin = this.list[name];\r\n      plugin.mounted?.(this.player);\r\n    }\r\n  }\r\n\r\n  /** 销毁所有插件 @internal */\r\n  destroy() {\r\n    for (const name in this.list) {\r\n      const plugin = this.list[name];\r\n      plugin.destroy?.();\r\n    }\r\n  }\r\n}\r\n","import { PlayerHookMap } from \"@/types\";\r\n\r\ntype MaybePromise<T> = T | Promise<T>;\r\n\r\nexport type HookFunction<T> = (ctx: T) => MaybePromise<void | boolean>;\r\n\r\nexport default class HookManager {\r\n  protected hooks: Record<string, HookFunction<any>[]> = {};\r\n\r\n  /** 注册钩子 */\r\n  register<T extends keyof PlayerHookMap>(\r\n    name: T,\r\n    func: HookFunction<PlayerHookMap[T]>,\r\n    before = false\r\n  ) {\r\n    let hook = this.hooks[name];\r\n    if (!hook) {\r\n      hook = [];\r\n      this.hooks[name] = hook;\r\n    }\r\n    before ? hook.unshift(func) : hook.push(func);\r\n  }\r\n\r\n  /** 移除钩子 */\r\n  unregister<T extends keyof PlayerHookMap>(name: T, func: HookFunction<PlayerHookMap[T]>) {\r\n    let hook = this.hooks[name];\r\n    if (!hook) {\r\n      hook = [];\r\n      this.hooks[name] = hook;\r\n    }\r\n    const index = hook.indexOf(func);\r\n    if (index > -1) hook.splice(index, 1);\r\n  }\r\n\r\n  call<T extends keyof PlayerHookMap>(\r\n    name: PlayerHookMap[T] extends void ? T : never,\r\n    ctx: void,\r\n    defaultFunc?: HookFunction<PlayerHookMap[T]>\r\n  ): Promise<boolean>;\r\n  call<T extends keyof PlayerHookMap>(\r\n    name: T,\r\n    ctx: PlayerHookMap[T],\r\n    defaultFunc?: HookFunction<PlayerHookMap[T]>\r\n  ): Promise<boolean>;\r\n  /** 调用钩子函数\r\n   * @param name 钩子名称\r\n   * @param ctx 钩子上下文\r\n   * @param defaultFunc 钩子在正常遍历完毕后最终执行的钩子函数\r\n   */\r\n  async call<T extends keyof PlayerHookMap>(\r\n    name: T,\r\n    ctx: PlayerHookMap[T],\r\n    defaultFunc?: HookFunction<PlayerHookMap[T]>\r\n  ) {\r\n    const hook = this.hooks[name];\r\n    if (hook?.length) {\r\n      for (const f of hook) {\r\n        const res = await f(ctx);\r\n        if (res == true) {\r\n          console.log(`钩子提前结束调用: ${name}`);\r\n          console.log(f);\r\n          return true;\r\n        } else if (res == false) {\r\n          console.log(`钩子被拦截: ${name}`);\r\n          console.log(f);\r\n          return false;\r\n        }\r\n      }\r\n    }\r\n    console.log(`钩子调用完毕: ${name}`);\r\n    console.log(ctx);\r\n    return defaultFunc?.(ctx as any) ?? true;\r\n  }\r\n}\r\n","import { Player } from \"@/player\";\r\nimport { LoadInfo, MediaController, MediaLoader, PlayerHookMap } from \"@/types\";\r\n\r\nexport default class LoaderManager {\r\n  protected list = new Map<string, MediaLoader>();\r\n  protected player: Player;\r\n\r\n  constructor(player: Player) {\r\n    this.player = player;\r\n  }\r\n\r\n  /** 注册加载器 */\r\n  register(name: string, loader: MediaLoader) {\r\n    this.list.set(name, loader);\r\n  }\r\n\r\n  /** 移除加载器 */\r\n  unregister<T extends keyof PlayerHookMap>(name: T) {\r\n    this.list.delete(name);\r\n  }\r\n\r\n  /** 创建媒体控制实例 */\r\n  create(info: LoadInfo, video: HTMLVideoElement) {\r\n    for (const [name, loader] of this.list) {\r\n      if (loader.check(info)) return loader.create(info, video);\r\n    }\r\n    return this.createDefault(info, video);\r\n  }\r\n\r\n  /** 常规方式创建实例 */\r\n  createDefault(info: LoadInfo, video: HTMLVideoElement): MediaController {\r\n    const { type, url, live, play, time } = info;\r\n    const controller: MediaController = {\r\n      type: type || \"\",\r\n      url: url,\r\n      live: live || false,\r\n      mediaElement: video,\r\n      destroy() {\r\n        this.mediaElement.src = \"\";\r\n      },\r\n    };\r\n    const t = time === true ? this.player.currentTime : time;\r\n    video.src = url;\r\n    video.addEventListener(\r\n      \"loadeddata\",\r\n      () => {\r\n        if (t) {\r\n          this.player.seek(t);\r\n        }\r\n        if (play) {\r\n          this.player.play();\r\n        }\r\n      },\r\n      { once: true }\r\n    );\r\n    return controller;\r\n  }\r\n}\r\n","import { PlayerEventMap } from \"@/types\";\r\n\r\nexport default class EventEmitter {\r\n  protected listeners: Record<string, ((...args: any[]) => void)[]> = {};\r\n  protected onceListeners: Record<string, ((...args: any[]) => void)[]> = {};\r\n\r\n  readonly customEventList: string[] = [];\r\n\r\n  /** 添加监听 */\r\n  on<T extends keyof PlayerEventMap>(name: T, listener: PlayerEventMap[T]) {\r\n    if (!this.listeners[name]) {\r\n      this.listeners[name] = [];\r\n    }\r\n    this.listeners[name].push(listener);\r\n  }\r\n\r\n  /** 添加一次性监听 */\r\n  once<T extends keyof PlayerEventMap>(name: T, listener: PlayerEventMap[T]) {\r\n    if (!this.onceListeners[name]) {\r\n      this.onceListeners[name] = [];\r\n    }\r\n    this.onceListeners[name].push(listener);\r\n  }\r\n\r\n  /** 移除监听 */\r\n  off<T extends keyof PlayerEventMap>(name: T, listener: PlayerEventMap[T]) {\r\n    if (!this.listeners[name]) {\r\n      this.listeners[name] = [];\r\n    }\r\n    const index = this.listeners[name].indexOf(listener);\r\n    if (index > -1) this.listeners[name].splice(index, 1);\r\n  }\r\n\r\n  /** 触发事件 */\r\n  emit<T extends keyof PlayerEventMap>(name: T, ...args: Parameters<PlayerEventMap[T]>) {\r\n    if (this.listeners[name]?.length) {\r\n      for (let i = 0; i < this.listeners[name].length; i++) {\r\n        this.listeners[name][i](...args);\r\n      }\r\n    }\r\n    if (this.onceListeners[name]?.length) {\r\n      for (let i = 0; i < this.onceListeners[name].length; i++) {\r\n        this.onceListeners[name][i](...args);\r\n      }\r\n      this.onceListeners[name] = [];\r\n    }\r\n  }\r\n}\r\n","import {\r\n  LoadInfo,\r\n  MediaController,\r\n  PlayerInvokes,\r\n  PlayerPlugins,\r\n  PlayerPropertyDescriptor,\r\n  VideoInfo,\r\n} from \"./types\";\r\nimport { PlayerOptions } from \"@/types\";\r\nimport { PlayerEventMap } from \"./types/PlayerEventMap\";\r\nimport { clamp, createElement } from \"./utils\";\r\nimport { classPrefix, gitHash, version } from \"./config\";\r\nimport VideoController from \"./module/videoController\";\r\nimport PluginManager from \"./module/pluginManager\";\r\nimport HookManager from \"./module/hookManager\";\r\nimport LoaderManager from \"./module/loaderManager\";\r\nimport EventEmitter from \"./module/eventEmitter\";\r\n\r\n/**\r\n * @event\r\n */\r\nexport class Player {\r\n  static readonly version = version;\r\n  static readonly gitHash = gitHash;\r\n  /** 容器 */\r\n  readonly container?: HTMLElement;\r\n  /** 播放器元素 */\r\n  readonly $el: HTMLDivElement;\r\n  /** 播放器主要区域 */\r\n  readonly $main: HTMLDivElement;\r\n  /** 播放器视频区域 */\r\n  readonly $area: HTMLDivElement;\r\n  /** 播放器视频容器 */\r\n  readonly $content: HTMLDivElement;\r\n  /** hook */\r\n  readonly hook = new HookManager();\r\n  /** 媒体加载器 */\r\n  readonly loader: LoaderManager;\r\n  /** 插件 */\r\n  readonly plugins: PlayerPlugins = {};\r\n  /** 外部调用 */\r\n  readonly invokes: PlayerInvokes = {};\r\n  /** 插件管理 */\r\n  readonly plugin: PluginManager;\r\n  /** 视频控制 */\r\n  protected _videoController: VideoController;\r\n  /** 事件机制 */\r\n  protected _eventEmitter = new EventEmitter();\r\n  /** Player类 */\r\n  readonly Player = Player;\r\n\r\n  constructor(options: PlayerOptions) {\r\n    this.container = options.container;\r\n\r\n    this.$el = createElement(\"div\", { class: `${classPrefix} mpui` });\r\n    this.$main = this.$el.appendChild(createElement(\"div\", { class: `${classPrefix}-main` }));\r\n    this.$area = this.$main.appendChild(createElement(\"div\", { class: `${classPrefix}-area` }));\r\n    this.$content = this.$area.appendChild(\r\n      createElement(\"div\", { class: `${classPrefix}-content` })\r\n    );\r\n    this.invokes = options.invokes ?? {};\r\n\r\n    this.plugin = new PluginManager(this);\r\n    this._videoController = new VideoController(this, options);\r\n    this.loader = new LoaderManager(this);\r\n\r\n    this.init(options);\r\n  }\r\n\r\n  /** 初始化播放器 */\r\n  private async init(options: PlayerOptions) {\r\n    // 状态事件\r\n    this.on(\"videoChange\", () => {\r\n      this.$el.classList.add(\"is-start\");\r\n    });\r\n    this.$el.classList.add(\"is-paused\");\r\n    this.on(\"play\", () => {\r\n      this.$el.classList.remove(\"is-start\");\r\n      this.$el.classList.remove(\"is-paused\");\r\n    });\r\n    this.on(\"pause\", () => {\r\n      this.$el.classList.add(\"is-paused\");\r\n    });\r\n    this.on(\"waiting\", () => {\r\n      this.$el.classList.add(\"is-loading\");\r\n    });\r\n    this.on(\"playing\", () => {\r\n      this.$el.classList.remove(\"is-loading\");\r\n    });\r\n\r\n    // 注册列表中的插件\r\n    this.plugin.init(options);\r\n\r\n    // 播放器挂载\r\n    this.container?.appendChild(this.$el);\r\n\r\n    this.emit(\"mounted\");\r\n\r\n    // 装载视频\r\n    this._videoController.set(options.video || {}, options.autoPlay, options.time);\r\n  }\r\n\r\n  /** 播放器视频元素 */\r\n  get $video(): HTMLVideoElement {\r\n    return this._videoController.$el;\r\n  }\r\n\r\n  /** 获取视频信息 */\r\n  getVideoInfo() {\r\n    return this._videoController.getVideoInfo();\r\n  }\r\n\r\n  /** 获取媒体信息 */\r\n  getMediaInfo() {\r\n    return this._videoController.getMediaInfo();\r\n  }\r\n\r\n  /** 获取播放器的媒体元素 */\r\n  getMediaElement(): HTMLVideoElement {\r\n    return this._videoController.$el;\r\n  }\r\n\r\n  /** 绑定媒体元素 */\r\n  attachMediaElement(el: HTMLVideoElement) {\r\n    this._videoController.bind(el);\r\n  }\r\n\r\n  /** 获取媒体控制实例 */\r\n  getMediaController(): MediaController | null {\r\n    return this._videoController.mediaController;\r\n  }\r\n\r\n  /** 绑定媒体控制实例 */\r\n  attachMediaController(controller: MediaController) {\r\n    this._videoController.mediaController = controller;\r\n    this._videoController.bind(controller.mediaElement);\r\n  }\r\n\r\n  /** 设置视频内容 */\r\n  setVideo(info: VideoInfo, play?: boolean, time?: number) {\r\n    return this._videoController.set(info, play, time);\r\n  }\r\n\r\n  /** 加载视频源 */\r\n  loadVideo(info: LoadInfo) {\r\n    return this._videoController.load(info);\r\n  }\r\n\r\n  // --- 播放切换控制 --- //\r\n\r\n  /** 切换上一个 */\r\n  public prev() {\r\n    this.hook.call(\"prev\");\r\n  }\r\n\r\n  /** 切换下一个 */\r\n  public next() {\r\n    this.hook.call(\"next\");\r\n  }\r\n\r\n  // --- 视频播放控制 --- //\r\n\r\n  /** 当前播放器暂停状态 */\r\n  get paused() {\r\n    return this.$video.paused;\r\n  }\r\n\r\n  /** 当前播放时间 */\r\n  public get currentTime() {\r\n    return this.$video.currentTime;\r\n  }\r\n\r\n  /** 当前播放总时间 */\r\n  public get duration() {\r\n    return this.$video.duration;\r\n  }\r\n\r\n  /** 当前播放音量 */\r\n  public get volume() {\r\n    return this.$video.volume;\r\n  }\r\n\r\n  /** 当前静音状态 */\r\n  public get muted() {\r\n    return this.$video.muted;\r\n  }\r\n\r\n  /** 当前播放速度 */\r\n  public get playbackRate() {\r\n    return this.$video.playbackRate;\r\n  }\r\n\r\n  /** 当前视频循环 */\r\n  public get loop() {\r\n    return this.$video.loop;\r\n  }\r\n\r\n  /** 开始播放 */\r\n  public play() {\r\n    this.hook.call(\"play\").then((res) => {\r\n      if (res) this.$video.play();\r\n    });\r\n  }\r\n\r\n  /** 暂停播放 */\r\n  public pause() {\r\n    this.hook.call(\"pause\").then((res) => {\r\n      if (res) this.$video.pause();\r\n    });\r\n  }\r\n\r\n  /** 跳转\r\n   * @param time 跳转时间点（秒）\r\n   */\r\n  public seek(time: number) {\r\n    this.hook.call(\"seek\").then((res) => {\r\n      if (res) {\r\n        this.$video.currentTime = clamp(time, 0, this.$video.duration);\r\n      }\r\n    });\r\n  }\r\n\r\n  /** 设置音量\r\n   * @param volume 音量（0-1）\r\n   */\r\n  public setVolume(volume: number) {\r\n    this.$video.volume = clamp(volume, 0, 1);\r\n  }\r\n\r\n  /** 静音 */\r\n  public setMuted(flag: boolean) {\r\n    this.$video.muted = flag;\r\n  }\r\n\r\n  /** 设置倍速 */\r\n  public setPlaybackRate(value: number) {\r\n    this.$video.playbackRate = value;\r\n  }\r\n\r\n  /** 设置视频循环 */\r\n  public setLoop(flag: boolean) {\r\n    this.$video.loop = flag;\r\n    this.emit(\"loopChange\", flag);\r\n  }\r\n\r\n  // --- 事件 --- //\r\n\r\n  /** 监听事件 */\r\n  public on<T extends keyof PlayerEventMap>(name: T, listener: PlayerEventMap[T]) {\r\n    this._eventEmitter.on(name, listener);\r\n  }\r\n\r\n  /** 取消监听事件 */\r\n  public off<T extends keyof PlayerEventMap>(name: T, listener: PlayerEventMap[T]) {\r\n    this._eventEmitter.off(name, listener);\r\n  }\r\n\r\n  /** 一次性监听事件 */\r\n  public once<T extends keyof PlayerEventMap>(name: T, listener: PlayerEventMap[T]) {\r\n    this._eventEmitter.once(name, listener);\r\n  }\r\n\r\n  /** 发送事件 */\r\n  public emit<T extends keyof PlayerEventMap>(name: T, ...args: Parameters<PlayerEventMap[T]>) {\r\n    this._eventEmitter.emit(name, ...args);\r\n  }\r\n\r\n  /** 定义属性或方法 */\r\n  public define<T extends keyof Player>(\r\n    name: Player[T] extends Function | undefined ? T : never,\r\n    item: Function\r\n  ): void;\r\n  public define<T extends keyof Player>(name: T, item: PlayerPropertyDescriptor<Player[T]>): void;\r\n  public define(name: string, item: Function | PropertyDescriptor) {\r\n    Object.defineProperty(this, name, typeof item == \"function\" ? { value: item } : item);\r\n  }\r\n\r\n  /** 抛出错误 */\r\n  public throw(err: Error) {\r\n    console.error(err);\r\n    this.emit(\"error\", err);\r\n  }\r\n\r\n  /** 播放器销毁 */\r\n  public destroy() {\r\n    // 所有插件执行destroy函数\r\n    this.plugin.destroy();\r\n  }\r\n}\r\n\r\nexport default Player;\r\n","import { PlayerOptions, PluginItem } from \"@/types\";\r\nimport { Player } from \"@/player\";\r\n\r\n/** 基础插件 */\r\nexport abstract class BasePlugin implements PluginItem {\r\n  static pluginName: string;\r\n  protected readonly player: Player;\r\n  protected readonly plugins: Player[\"plugins\"];\r\n  /** 抛出错误 */\r\n  protected readonly throw: Player[\"throw\"];\r\n  constructor(player: Player) {\r\n    this.player = player;\r\n    this.plugins = player.plugins;\r\n    this.throw = player.throw;\r\n  }\r\n  /** 插件创建后 */\r\n  init?(player: Player): void;\r\n  /** 作为插件注册 */\r\n  apply?(player: Player, options: PlayerOptions): void;\r\n  /** 所有插件加载后 */\r\n  ready?(player: Player): void;\r\n  /** 播放器挂载后 */\r\n  mounted?(player: Player): void;\r\n  /** 执行销毁 */\r\n  destroy?(): void;\r\n}\r\n\r\n/** UI组件 */\r\nexport interface UIItem extends PluginItem {\r\n  /** 组件元素 */\r\n  $el: HTMLElement;\r\n  /** 组件标题 */\r\n  title?: string;\r\n  /** 忽略该组件，用于不支持的情况 */\r\n  ignored?: boolean;\r\n}\r\n\r\n/** 可挂载组件 */\r\nexport interface MountableItem extends UIItem {\r\n  /** 将组件挂载到父元素 */\r\n  mount(\r\n    /** 挂载的容器元素 */\r\n    el: HTMLElement,\r\n    opt?: {\r\n      /** 挂载组件时执行的逻辑 */\r\n      onToggle?: (flag: boolean) => void;\r\n      /** 卸载组件时执行的逻辑 */\r\n      onUnmount?: () => void;\r\n    }\r\n  ): void;\r\n  /** 卸载组件 */\r\n  unmount(): void;\r\n}\r\n\r\n/** 控制组件 */\r\nexport interface ControlsItem extends UIItem {}\r\n\r\n/** 面板组件 */\r\nexport interface PanelItem extends MountableItem {\r\n  toggle?(flag?: boolean): void;\r\n}\r\n\r\n/** 菜单项组件 */\r\nexport interface MenuItem extends PluginItem {\r\n  icon?: HTMLElement | ((player: Player) => HTMLElement);\r\n  content: string | HTMLElement | ((player: Player) => string | HTMLElement);\r\n  onClick?: (player: Player) => void;\r\n}\r\n\r\n/** 界面插件 */\r\nexport abstract class UIPlugin extends BasePlugin {\r\n  $el: HTMLElement;\r\n  $<T extends HTMLElement>(selectors: string) {\r\n    return this.$el.querySelector<T>(selectors)!;\r\n  }\r\n  constructor(player: Player, el: HTMLElement) {\r\n    super(player);\r\n    this.$el = el;\r\n  }\r\n}\r\n\r\n/** 可挂载组件插件 */\r\nexport abstract class MountablePlugin extends UIPlugin implements MountableItem {\r\n  title?: string;\r\n  #onUnmount?: () => void;\r\n  /** 挂载 */\r\n  mount(el: HTMLElement, opt?: { onUnmount?: () => void }) {\r\n    el.appendChild(this.$el);\r\n    this.unmount();\r\n    this.#onUnmount = opt?.onUnmount;\r\n  }\r\n  /** 卸载 */\r\n  unmount() {\r\n    this.#onUnmount?.();\r\n    this.#onUnmount = undefined;\r\n  }\r\n  show() {\r\n    this.$el.style.display = \"\";\r\n  }\r\n  hide() {\r\n    this.$el.style.display = \"none\";\r\n  }\r\n}\r\n\r\n/** 控制组件插件 */\r\nexport abstract class ControlsPlugin extends MountablePlugin implements ControlsItem {}\r\n\r\n/** 面板插件 */\r\nexport abstract class PanelPlugin extends MountablePlugin implements PanelItem {\r\n  title?: string;\r\n  container?: HTMLElement;\r\n  #onToggle?: (flag: boolean) => void;\r\n  shown = false;\r\n  constructor(player: Player, el: HTMLElement) {\r\n    super(player, el);\r\n  }\r\n  /** 挂载 */\r\n  mount(el: HTMLElement, opt?: { onToggle?: (flag: boolean) => void; onUnmount?: () => void }) {\r\n    super.mount(el, { onUnmount: opt?.onUnmount });\r\n    this.#onToggle = opt?.onToggle;\r\n  }\r\n  /** 卸载 */\r\n  unmount() {\r\n    this.toggle(false);\r\n    super.unmount();\r\n    this.#onToggle = undefined;\r\n  }\r\n  /** 切换显示隐藏状态 */\r\n  toggle(flag?: boolean) {\r\n    this.shown = flag ?? !this.shown;\r\n    this.#onToggle?.(this.shown);\r\n  }\r\n}\r\n\r\n/** 菜单项插件 */\r\nexport abstract class MenuPlugin extends BasePlugin implements MenuItem {\r\n  abstract name: string;\r\n  abstract content: string | HTMLElement | ((player: Player) => string | HTMLElement);\r\n}\r\n\r\nexport interface MountableContainer {\r\n  append(panel: MountablePlugin, position?: string): void;\r\n}\r\n\r\nexport type PluginFrom<T = PluginItem> = (new (player: Player) => T) | T | string;\r\n","import { createElement } from \"@/utils\";\n\nconst template = ({ divider }: { divider: number }) => /*html*/ `\n  <div\n    class=\"mpui-slider-track\"\n    style=\"\n    position: absolute;\n    width: 100%;\n    top: 50%;\n    transform: translateY(-50%);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  \"\n  >\n    <div class=\"mpui-slider-bar\" style=\"position: absolute; left: 0; height: 100%\"></div>\n    <div class=\"mpui-slider-thumb-track\" style=\"height: 0px\">\n      <div\n        class=\"mpui-slider-thumb\"\n        style=\"position: absolute; transform: translate(-50%, -50%)\"\n      ></div>\n      ${\n        divider\n          ? /*html*/ `\n            <div class=\"mpui-slider-divider\">\n              ${new Array(divider).fill(/*html*/ `<div class=\"mpui-slider-divider-dot\"></div>`).join(\"\")}\n            </div>\n          `\n          : \"\"\n      }\n    </div>\n  </div>\n`;\n\ninterface SliderOptions {\n  /** 挂载容器 */\n  container: HTMLElement;\n  /** 最小值 */\n  min: number;\n  /** 最大值 */\n  max: number;\n  /** 步长(若不填或为0，则没有步长限制) */\n  step?: number;\n  /** 分割线 */\n  divider?: number | boolean;\n  /** 默认值(不填的情况下默认值为0) */\n  value?: number;\n  /** 数值更改时触发 */\n  onChange?: (value: number) => void;\n  /** 拖动引发数值更改时触发 */\n  onDrag?: (value: number) => void;\n  /** 开始拖动时触发 */\n  onDragStart?: (value: number) => void;\n  /** 结束拖动时触发 */\n  onDragEnd?: (value: number) => void;\n}\n\n/** 横向滑动条 */\nexport class Slider implements SliderOptions {\n  readonly container: HTMLElement;\n  readonly min: number;\n  readonly max: number;\n  /** 步长 */\n  readonly step: number;\n  /** 分割线 */\n  readonly divider: number;\n  /** 数值 */\n  value: number;\n  onChange?: (value: number) => void;\n  onDragStart?: (value: number) => void;\n  onDragEnd?: (value: number) => void;\n  onDrag?: (value: number) => void;\n\n  // 部件\n  $el: HTMLElement;\n\n  $track: HTMLElement;\n\n  $bar: HTMLElement;\n\n  $thumbTrack: HTMLElement;\n\n  $thumb: HTMLElement;\n\n  constructor({\n    container,\n    min,\n    max,\n    step,\n    divider = 0,\n    value = 0,\n    onChange,\n    onDragStart,\n    onDragEnd,\n    onDrag,\n  }: SliderOptions) {\n    this.container = container;\n    this.min = min;\n    this.max = max;\n    this.step = step || 0;\n    this.divider = divider ? (typeof divider === \"boolean\" ? this.step : divider) : 0;\n    this.value = isNaN(value) ? value : Number(value);\n    this.onChange = onChange;\n    this.onDragStart = onDragStart;\n    this.onDragEnd = onDragEnd;\n    this.onDrag = onDrag;\n\n    this.$el = this.container.appendChild(\n      createElement(\n        \"div\",\n        {\n          class: `mpui-slider mpui-slider-horizontal`,\n          style: \"position: relative; width: 100%; height: 100%\",\n        },\n        template({ divider: this.divider })\n      )\n    );\n    this.$track = this.$el.querySelector(\".mpui-slider-track\")!; // 滑动条轨道\n    this.$bar = this.$track.querySelector(\".mpui-slider-bar\")!; // 滑动条痕迹\n    this.$thumbTrack = this.$track.querySelector(\".mpui-slider-thumb-track\")!; // 滑块轨道\n    this.$thumb = this.$track.querySelector(\".mpui-slider-thumb\")!; // 滑块\n\n    // 滑动条事件\n    this.$el.addEventListener(\"mousedown\", (event: MouseEvent) => {\n      const e: MouseEvent = event;\n      // 鼠标X位置\n      const { clientX } = e;\n      // 滑块长度\n      const trackLength = this.$track.offsetWidth;\n      // 滑块可滑动距离\n      let nMax = this.$thumbTrack.offsetWidth;\n      nMax = nMax || trackLength;\n      // 滑块轨道与总轨道距离差\n      const thumbTrackX = (trackLength - nMax) / 2;\n      // 滑动条位置\n      const nLeft = this.$el.getBoundingClientRect().left;\n      // 计算滑块位置\n      let nLength = clientX - nLeft - thumbTrackX;\n      // 限制滑块移动位置\n      nLength = nLength >= nMax ? nMax : nLength <= 0 ? 0 : nLength;\n      const value = this.step\n        ? Math.round(((nLength / nMax) * (this.max - this.min)) / this.step) * this.step + this.min\n        : (nLength / nMax) * (this.max - this.min) + this.min;\n      // 开始滑动事件\n      this.onDragStart?.(value);\n      // 监测数据更新并执行函数\n      if (this.value != value) {\n        this.drag(value);\n      }\n\n      const mousemoveEvent = (event: MouseEvent) => {\n        const e: MouseEvent = event;\n        // 鼠标X位置\n        const { clientX } = e;\n        // 鼠标移动时取消默认行为，避免选中其他元素或文字\n        e.preventDefault();\n        e.stopPropagation();\n        // 获取鼠标移动后滑块应该移动到的位置\n        let nLength = clientX - nLeft - thumbTrackX;\n        // 限制滑块移动位置\n        nLength = nLength >= nMax ? nMax : nLength <= 0 ? 0 : nLength;\n\n        const value = this.step\n          ? Math.round(((nLength / nMax) * (this.max - this.min)) / this.step) * this.step +\n            this.min\n          : (nLength / nMax) * (this.max - this.min) + this.min;\n        // 监测数据更新并执行函数\n        if (this.value != value) {\n          this.drag(value);\n        }\n        window.getSelection()?.removeAllRanges();\n      };\n\n      const removeEvent = (event: MouseEvent) => {\n        const e: MouseEvent = event;\n        e.stopPropagation();\n        window.getSelection()?.removeAllRanges();\n        document.removeEventListener(\"mousemove\", mousemoveEvent);\n        document.removeEventListener(\"mouseup\", removeEvent);\n        this.onDragEnd?.(value);\n      };\n\n      document.addEventListener(\"mousemove\", mousemoveEvent);\n      document.addEventListener(\"mouseup\", removeEvent);\n    });\n\n    // 设置滑块初始位置\n    this.setValue(this.value);\n  }\n\n  /** 设置滑动条值 */\n  public setValue(value: number) {\n    this.value = value <= this.min ? this.min : value >= this.max ? this.max : value;\n    // 计算滑块位置\n    const per = (this.value - this.min) / (this.max - this.min);\n    // 修改滑块位置\n    this.$thumb.style.left = `${per * 100}%`;\n    // 修改滑动痕迹高度\n    this.$bar.style.width = `${per * 100}%`;\n    // 触发数据更改事件\n    this.onChange?.(this.value);\n  }\n\n  /** 拖动滑动条到特定的值 */\n  public drag(value: number) {\n    this.setValue(value);\n    // 触发拖动事件\n    this.onDrag?.(this.value);\n  }\n}\n","import { createElement } from \"@/utils\";\r\n\r\nconst templateHTML = /*html*/ `\r\n  <div\r\n    class=\"mpui-slider-track\"\r\n    style=\"\r\n      position: absolute;\r\n      height: 100%;\r\n      left: 50%;\r\n      transform: translateX(-50%);\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center\r\n    \"\r\n  >\r\n    <div class=\"mpui-slider-bar\" style=\"position: absolute; bottom: 0; width: 100%\"></div>\r\n    <div class=\"mpui-slider-thumb-track\" style=\"width: 0px\">\r\n      <div\r\n        class=\"mpui-slider-thumb\"\r\n        style=\"position: absolute; transform: translate(-50%, -50%)\"\r\n      ></div>\r\n    </div>\r\n  </div>\r\n`;\r\n\r\ninterface SliderVerticalOptions {\r\n  /** 挂载容器 */\r\n  container: HTMLElement;\r\n  /** 最小值 */\r\n  min: number;\r\n  /** 最大值 */\r\n  max: number;\r\n  /** 步长(若不填或为0，则没有步长限制) */\r\n  step?: number;\r\n  /** 默认值(不填的情况下默认值为0) */\r\n  value?: number;\r\n  /** 数值更改时触发 */\r\n  onChange?: (value: number) => void;\r\n  /** 拖动引发数值更改时触发 */\r\n  onDrag?: (value: number) => void;\r\n  /** 开始拖动时触发 */\r\n  onDragStart?: (value: number) => void;\r\n  /** 结束拖动时触发 */\r\n  onDragEnd?: (value: number) => void;\r\n}\r\n\r\n/** 横向滑动条 */\r\nexport class SliderVertical implements SliderVerticalOptions {\r\n  readonly container: HTMLElement;\r\n  readonly min: number;\r\n  readonly max: number;\r\n  /** 步长 */\r\n  readonly step: number;\r\n  /** 数值 */\r\n  value: number;\r\n  onChange?: (value: number) => void;\r\n  onDragStart?: (value: number) => void;\r\n  onDragEnd?: (value: number) => void;\r\n  onDrag?: (value: number) => void;\r\n  // 部件\r\n  $el: HTMLElement;\r\n  $track: HTMLElement;\r\n  $bar: HTMLElement;\r\n  $thumbTrack: HTMLElement;\r\n  $thumb: HTMLElement;\r\n\r\n  constructor({\r\n    container,\r\n    min,\r\n    max,\r\n    step,\r\n    value = 0,\r\n    onChange,\r\n    onDragStart,\r\n    onDragEnd,\r\n    onDrag,\r\n  }: SliderVerticalOptions) {\r\n    this.container = container;\r\n    this.min = min;\r\n    this.max = max;\r\n    this.step = step || 0;\r\n    this.value = isNaN(value) ? value : Number(value);\r\n    this.onChange = onChange;\r\n    this.onDragStart = onDragStart;\r\n    this.onDragEnd = onDragEnd;\r\n    this.onDrag = onDrag;\r\n\r\n    this.$el = createElement(\r\n      \"div\",\r\n      {\r\n        class: \"mpui-slider mpui-slider-vertical\",\r\n        style: \"position: relative; width: 100%; height: 100%\",\r\n      },\r\n      templateHTML\r\n    );\r\n    this.$track = this.$el.querySelector(\".mpui-slider-track\")!; // 滑动条轨道\r\n    this.$bar = this.$track.querySelector(\".mpui-slider-bar\")!; // 滑动条痕迹\r\n    this.$thumbTrack = this.$track.querySelector(\".mpui-slider-thumb-track\")!; // 滑块轨道\r\n    this.$thumb = this.$track.querySelector(\".mpui-slider-thumb\")!; // 滑块\r\n\r\n    this.container.appendChild(this.$el);\r\n\r\n    // 滑动条事件\r\n    // 点击鼠标事件\r\n    this.$el.addEventListener(\"mousedown\", (event: MouseEvent) => {\r\n      const e: MouseEvent = event;\r\n      // 鼠标Y位置\r\n      const { clientY } = e;\r\n      // 滑块长度\r\n      const trackLength = this.$track.offsetHeight;\r\n      // 滑块可滑动距离\r\n      let nMax = this.$thumbTrack.offsetHeight;\r\n      nMax = nMax || trackLength;\r\n      // 滑块轨道与总轨道距离差\r\n      const thumbTrackY = (trackLength - nMax) / 2;\r\n      // 滑动条位置\r\n      const nTop = this.$el.getBoundingClientRect().top;\r\n      // 计算滑块位置\r\n      let nLength = nMax - (clientY - nTop - thumbTrackY);\r\n      // 限制滑块移动位置\r\n      nLength = nLength >= nMax ? nMax : nLength <= 0 ? 0 : nLength;\r\n      const value = this.step\r\n        ? Math.round(((nLength / nMax) * (this.max - this.min)) / this.step) * this.step + this.min\r\n        : (nLength / nMax) * (this.max - this.min) + this.min;\r\n      // 开始滑动事件\r\n      this.onDragStart?.(value);\r\n      // 监测数据更新并执行函数\r\n      if (this.value != value) {\r\n        this.drag(value);\r\n      }\r\n\r\n      const mousemoveEvent = (event: MouseEvent) => {\r\n        const e: MouseEvent = event;\r\n        // 鼠标X位置\r\n        const { clientY } = e;\r\n        // 鼠标移动时取消默认行为，避免选中其他元素或文字\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        // 获取鼠标移动后滑块应该移动到的位置\r\n        let nLength = nMax - (clientY - nTop - thumbTrackY);\r\n        // 限制滑块移动位置\r\n        nLength = nLength >= nMax ? nMax : nLength <= 0 ? 0 : nLength;\r\n\r\n        const value = this.step\r\n          ? Math.round(((nLength / nMax) * (this.max - this.min)) / this.step) * this.step +\r\n            this.min\r\n          : (nLength / nMax) * (this.max - this.min) + this.min;\r\n        // 监测数据更新并执行函数\r\n        if (this.value != value) {\r\n          this.drag(value);\r\n        }\r\n        window.getSelection()?.removeAllRanges();\r\n      };\r\n      const removeEvent = (event: MouseEvent) => {\r\n        const e: MouseEvent = event;\r\n        e.stopPropagation();\r\n        window.getSelection()?.removeAllRanges();\r\n        document.removeEventListener(\"mousemove\", mousemoveEvent);\r\n        document.removeEventListener(\"mouseup\", removeEvent);\r\n        this.onDragEnd?.(value);\r\n      };\r\n\r\n      document.addEventListener(\"mousemove\", mousemoveEvent);\r\n      document.addEventListener(\"mouseup\", removeEvent);\r\n    });\r\n    // 设置滑块初始位置\r\n    this.setValue(this.value);\r\n  }\r\n\r\n  /** 设置滑动条值 */\r\n  setValue(value: number) {\r\n    // this.value = value <= this.min ? this.min : value >= this.max ? this.max : value;\r\n    this.value = Math.max(Math.min(value, this.max), this.min);\r\n    // 计算滑块位置\r\n    const per = (this.value - this.min) / (this.max - this.min);\r\n    // 修改滑块位置\r\n    this.$thumb.style.top = `${(1 - per) * 100}%`;\r\n    // 修改滑动痕迹高度\r\n    this.$bar.style.height = `${Math.max(Math.min(per, 1), 0) * 100}%`;\r\n    // 执行相应函数\r\n    this.onChange?.(value);\r\n  }\r\n\r\n  /** 拖动滑动条到特定的值 */\r\n  private drag(value: number) {\r\n    this.setValue(value);\r\n    // 触发拖动事件\r\n    this.onDrag?.(this.value);\r\n  }\r\n}\r\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nvar t;const i=window,s=i.trustedTypes,e=s?s.createPolicy(\"lit-html\",{createHTML:t=>t}):void 0,o=\"$lit$\",n=`lit$${(Math.random()+\"\").slice(9)}$`,l=\"?\"+n,h=`<${l}>`,r=document,u=()=>r.createComment(\"\"),d=t=>null===t||\"object\"!=typeof t&&\"function\"!=typeof t,c=Array.isArray,v=t=>c(t)||\"function\"==typeof(null==t?void 0:t[Symbol.iterator]),a=\"[ \\t\\n\\f\\r]\",f=/<(?:(!--|\\/[^a-zA-Z])|(\\/?[a-zA-Z][^>\\s]*)|(\\/?$))/g,_=/-->/g,m=/>/g,p=RegExp(`>|${a}(?:([^\\\\s\"'>=/]+)(${a}*=${a}*(?:[^ \\t\\n\\f\\r\"'\\`<>=]|(\"|')|))|$)`,\"g\"),g=/'/g,$=/\"/g,y=/^(?:script|style|textarea|title)$/i,w=t=>(i,...s)=>({_$litType$:t,strings:i,values:s}),x=w(1),b=w(2),T=Symbol.for(\"lit-noChange\"),A=Symbol.for(\"lit-nothing\"),E=new WeakMap,C=r.createTreeWalker(r,129,null,!1);function P(t,i){if(!Array.isArray(t)||!t.hasOwnProperty(\"raw\"))throw Error(\"invalid template strings array\");return void 0!==e?e.createHTML(i):i}const V=(t,i)=>{const s=t.length-1,e=[];let l,r=2===i?\"<svg>\":\"\",u=f;for(let i=0;i<s;i++){const s=t[i];let d,c,v=-1,a=0;for(;a<s.length&&(u.lastIndex=a,c=u.exec(s),null!==c);)a=u.lastIndex,u===f?\"!--\"===c[1]?u=_:void 0!==c[1]?u=m:void 0!==c[2]?(y.test(c[2])&&(l=RegExp(\"</\"+c[2],\"g\")),u=p):void 0!==c[3]&&(u=p):u===p?\">\"===c[0]?(u=null!=l?l:f,v=-1):void 0===c[1]?v=-2:(v=u.lastIndex-c[2].length,d=c[1],u=void 0===c[3]?p:'\"'===c[3]?$:g):u===$||u===g?u=p:u===_||u===m?u=f:(u=p,l=void 0);const w=u===p&&t[i+1].startsWith(\"/>\")?\" \":\"\";r+=u===f?s+h:v>=0?(e.push(d),s.slice(0,v)+o+s.slice(v)+n+w):s+n+(-2===v?(e.push(void 0),i):w)}return[P(t,r+(t[s]||\"<?>\")+(2===i?\"</svg>\":\"\")),e]};class N{constructor({strings:t,_$litType$:i},e){let h;this.parts=[];let r=0,d=0;const c=t.length-1,v=this.parts,[a,f]=V(t,i);if(this.el=N.createElement(a,e),C.currentNode=this.el.content,2===i){const t=this.el.content,i=t.firstChild;i.remove(),t.append(...i.childNodes)}for(;null!==(h=C.nextNode())&&v.length<c;){if(1===h.nodeType){if(h.hasAttributes()){const t=[];for(const i of h.getAttributeNames())if(i.endsWith(o)||i.startsWith(n)){const s=f[d++];if(t.push(i),void 0!==s){const t=h.getAttribute(s.toLowerCase()+o).split(n),i=/([.?@])?(.*)/.exec(s);v.push({type:1,index:r,name:i[2],strings:t,ctor:\".\"===i[1]?H:\"?\"===i[1]?L:\"@\"===i[1]?z:k})}else v.push({type:6,index:r})}for(const i of t)h.removeAttribute(i)}if(y.test(h.tagName)){const t=h.textContent.split(n),i=t.length-1;if(i>0){h.textContent=s?s.emptyScript:\"\";for(let s=0;s<i;s++)h.append(t[s],u()),C.nextNode(),v.push({type:2,index:++r});h.append(t[i],u())}}}else if(8===h.nodeType)if(h.data===l)v.push({type:2,index:r});else{let t=-1;for(;-1!==(t=h.data.indexOf(n,t+1));)v.push({type:7,index:r}),t+=n.length-1}r++}}static createElement(t,i){const s=r.createElement(\"template\");return s.innerHTML=t,s}}function S(t,i,s=t,e){var o,n,l,h;if(i===T)return i;let r=void 0!==e?null===(o=s._$Co)||void 0===o?void 0:o[e]:s._$Cl;const u=d(i)?void 0:i._$litDirective$;return(null==r?void 0:r.constructor)!==u&&(null===(n=null==r?void 0:r._$AO)||void 0===n||n.call(r,!1),void 0===u?r=void 0:(r=new u(t),r._$AT(t,s,e)),void 0!==e?(null!==(l=(h=s)._$Co)&&void 0!==l?l:h._$Co=[])[e]=r:s._$Cl=r),void 0!==r&&(i=S(t,r._$AS(t,i.values),r,e)),i}class M{constructor(t,i){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){var i;const{el:{content:s},parts:e}=this._$AD,o=(null!==(i=null==t?void 0:t.creationScope)&&void 0!==i?i:r).importNode(s,!0);C.currentNode=o;let n=C.nextNode(),l=0,h=0,u=e[0];for(;void 0!==u;){if(l===u.index){let i;2===u.type?i=new R(n,n.nextSibling,this,t):1===u.type?i=new u.ctor(n,u.name,u.strings,this,t):6===u.type&&(i=new Z(n,this,t)),this._$AV.push(i),u=e[++h]}l!==(null==u?void 0:u.index)&&(n=C.nextNode(),l++)}return C.currentNode=r,o}v(t){let i=0;for(const s of this._$AV)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,i),i+=s.strings.length-2):s._$AI(t[i])),i++}}class R{constructor(t,i,s,e){var o;this.type=2,this._$AH=A,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=s,this.options=e,this._$Cp=null===(o=null==e?void 0:e.isConnected)||void 0===o||o}get _$AU(){var t,i;return null!==(i=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==i?i:this._$Cp}get parentNode(){let t=this._$AA.parentNode;const i=this._$AM;return void 0!==i&&11===(null==t?void 0:t.nodeType)&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=S(this,t,i),d(t)?t===A||null==t||\"\"===t?(this._$AH!==A&&this._$AR(),this._$AH=A):t!==this._$AH&&t!==T&&this._(t):void 0!==t._$litType$?this.g(t):void 0!==t.nodeType?this.$(t):v(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==A&&d(this._$AH)?this._$AA.nextSibling.data=t:this.$(r.createTextNode(t)),this._$AH=t}g(t){var i;const{values:s,_$litType$:e}=t,o=\"number\"==typeof e?this._$AC(t):(void 0===e.el&&(e.el=N.createElement(P(e.h,e.h[0]),this.options)),e);if((null===(i=this._$AH)||void 0===i?void 0:i._$AD)===o)this._$AH.v(s);else{const t=new M(o,this),i=t.u(this.options);t.v(s),this.$(i),this._$AH=t}}_$AC(t){let i=E.get(t.strings);return void 0===i&&E.set(t.strings,i=new N(t)),i}T(t){c(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let s,e=0;for(const o of t)e===i.length?i.push(s=new R(this.k(u()),this.k(u()),this,this.options)):s=i[e],s._$AI(o),e++;e<i.length&&(this._$AR(s&&s._$AB.nextSibling,e),i.length=e)}_$AR(t=this._$AA.nextSibling,i){var s;for(null===(s=this._$AP)||void 0===s||s.call(this,!1,!0,i);t&&t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){var i;void 0===this._$AM&&(this._$Cp=t,null===(i=this._$AP)||void 0===i||i.call(this,t))}}class k{constructor(t,i,s,e,o){this.type=1,this._$AH=A,this._$AN=void 0,this.element=t,this.name=i,this._$AM=e,this.options=o,s.length>2||\"\"!==s[0]||\"\"!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=A}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,i=this,s,e){const o=this.strings;let n=!1;if(void 0===o)t=S(this,t,i,0),n=!d(t)||t!==this._$AH&&t!==T,n&&(this._$AH=t);else{const e=t;let l,h;for(t=o[0],l=0;l<o.length-1;l++)h=S(this,e[s+l],i,l),h===T&&(h=this._$AH[l]),n||(n=!d(h)||h!==this._$AH[l]),h===A?t=A:t!==A&&(t+=(null!=h?h:\"\")+o[l+1]),this._$AH[l]=h}n&&!e&&this.j(t)}j(t){t===A?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:\"\")}}class H extends k{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===A?void 0:t}}const I=s?s.emptyScript:\"\";class L extends k{constructor(){super(...arguments),this.type=4}j(t){t&&t!==A?this.element.setAttribute(this.name,I):this.element.removeAttribute(this.name)}}class z extends k{constructor(t,i,s,e,o){super(t,i,s,e,o),this.type=5}_$AI(t,i=this){var s;if((t=null!==(s=S(this,t,i,0))&&void 0!==s?s:A)===T)return;const e=this._$AH,o=t===A&&e!==A||t.capture!==e.capture||t.once!==e.once||t.passive!==e.passive,n=t!==A&&(e===A||o);o&&this.element.removeEventListener(this.name,this,e),n&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var i,s;\"function\"==typeof this._$AH?this._$AH.call(null!==(s=null===(i=this.options)||void 0===i?void 0:i.host)&&void 0!==s?s:this.element,t):this._$AH.handleEvent(t)}}class Z{constructor(t,i,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){S(this,t)}}const j={O:o,P:n,A:l,C:1,M:V,L:M,R:v,D:S,I:R,V:k,H:L,N:z,U:H,F:Z},B=i.litHtmlPolyfillSupport;null==B||B(N,R),(null!==(t=i.litHtmlVersions)&&void 0!==t?t:i.litHtmlVersions=[]).push(\"2.8.0\");const D=(t,i,s)=>{var e,o;const n=null!==(e=null==s?void 0:s.renderBefore)&&void 0!==e?e:i;let l=n._$litPart$;if(void 0===l){const t=null!==(o=null==s?void 0:s.renderBefore)&&void 0!==o?o:null;n._$litPart$=l=new R(i.insertBefore(u(),t),t,void 0,null!=s?s:{})}return l._$AI(t),l};export{j as _$LH,x as html,T as noChange,A as nothing,D as render,b as svg};\n//# sourceMappingURL=lit-html.js.map\n","import { html, render, TemplateResult } from \"lit-html\";\r\n\r\nconst templateWrap = ({\r\n  list,\r\n  template,\r\n}: {\r\n  list: PickerOptionsItem[];\r\n  template?: PickerItemTemplate;\r\n}) => html`\r\n  <ul class=\"mpui-picker\">\r\n    ${list.map(\r\n      (item, index) => html`\r\n        <li class=\"mpui-picker-item\" data-value=\"${item.value}\">\r\n          ${template?.(item, index) || item.label || item.value}\r\n        </li>\r\n      `\r\n    )}\r\n  </ul>\r\n`;\r\n\r\n/** 选择器函数 */\r\ntype PickerItemTemplate = (item: PickerOptionsItem, index?: number) => string | TemplateResult;\r\n\r\ninterface PickerOptionsItem {\r\n  value: string | number;\r\n  label?: string;\r\n  disabled?: boolean;\r\n  [key: string]: any;\r\n}\r\n\r\ninterface PickerOptions {\r\n  /** 挂载容器 */\r\n  container: HTMLElement;\r\n  /** 选择列表 */\r\n  list: PickerOptionsItem[];\r\n  /** 选择项标签模板 */\r\n  template?: PickerItemTemplate;\r\n  /** 默认值(不填的情况下默认值为undefined) */\r\n  value?: string | number;\r\n  /** 值更改时触发 */\r\n  onChange?: (value?: string | number) => void;\r\n  /** 选择某一项时触发 */\r\n  onPick?: (value?: string | number) => void;\r\n  /** 相等条件 */\r\n  condition?: (item: string, value?: string | number) => boolean;\r\n}\r\n\r\n/** 单选选择器 */\r\nexport class Picker implements PickerOptions {\r\n  readonly container: HTMLElement;\r\n\r\n  readonly template?: PickerItemTemplate;\r\n\r\n  list: PickerOptionsItem[];\r\n\r\n  /** 已选值 */\r\n  value?: string | number;\r\n\r\n  onChange?: (value?: string | number) => void;\r\n\r\n  onPick?: (value?: string | number) => void;\r\n\r\n  $el!: HTMLElement;\r\n\r\n  /** 相等条件 */\r\n  condition?: (item: string, value?: string | number) => boolean;\r\n\r\n  /** 选择项标签集合 */\r\n  private $items!: NodeListOf<HTMLElement>;\r\n\r\n  constructor({ container, value, onChange, onPick, list, template, condition }: PickerOptions) {\r\n    this.container = container;\r\n    this.list = list;\r\n    this.value = value;\r\n    this.onChange = onChange; // 更新数据时需要执行的函数\r\n    this.onPick = onPick; // 更新数据时需要执行的函数\r\n    this.template = template;\r\n    this.condition = condition;\r\n    this.reload();\r\n  }\r\n\r\n  /** 重载，一般用于列表项更改 */\r\n  public reload(value?: string | number) {\r\n    render(templateWrap({ list: this.list, template: this.template }), this.container);\r\n    this.$el = this.container.querySelector(\".mpui-picker\")!;\r\n    this.$items = this.$el.querySelectorAll(\".mpui-picker-item\"); // 标签集合\r\n    this.$items.forEach((item) => {\r\n      item.addEventListener(\"click\", () => {\r\n        this.pick(item.getAttribute(\"data-value\") || undefined);\r\n      });\r\n    });\r\n    this.setValue(value ?? this.value);\r\n  }\r\n\r\n  /** 设置值 */\r\n  public setValue(value?: string | number) {\r\n    this.$items.forEach((n, i) => {\r\n      if (\r\n        this.condition\r\n          ? this.condition(n.getAttribute(\"data-value\")!, value)\r\n          : n.getAttribute(\"data-value\") == value\r\n      ) {\r\n        n.classList.add(\"is-checked\");\r\n      } else {\r\n        n.classList.remove(\"is-checked\");\r\n      }\r\n    });\r\n    this.value = value;\r\n    this.onChange?.(value);\r\n  }\r\n\r\n  /** 点选一个选项 */\r\n  public pick(value?: string) {\r\n    this.setValue(value);\r\n    this.onPick?.(value);\r\n  }\r\n}\r\n","import { html, render, TemplateResult } from \"lit-html\";\r\n\r\nconst templateWrap = ({\r\n  list,\r\n  template,\r\n}: {\r\n  list: PickerOptionsItem[];\r\n  template?: PickerItemTemplate;\r\n}) => html`\r\n  <ul class=\"mpui-picker\">\r\n    ${list.map(\r\n      (item, index) => html`\r\n        <li class=\"mpui-picker-item\" data-value=\"${item.value}\">\r\n          ${template?.(item, index) || item.label || item.value}\r\n        </li>\r\n      `\r\n    )}\r\n  </ul>\r\n`;\r\n\r\n/** 选择器函数 */\r\ntype PickerItemTemplate = (item: PickerOptionsItem, index?: number) => string | TemplateResult;\r\n\r\ninterface PickerOptionsItem {\r\n  value: string;\r\n  label?: string;\r\n  disabled?: boolean;\r\n  [key: string]: any;\r\n}\r\n\r\ninterface MultiPickerOptions {\r\n  /** 绑定的dom对象 */\r\n  container: HTMLElement;\r\n  /** 选择列表 */\r\n  list: PickerOptionsItem[];\r\n  /** 选择项标签模板 */\r\n  template?: PickerItemTemplate;\r\n  /** 默认值(不填的情况下默认值为[]) */\r\n  value?: string[];\r\n  /** 值更改时触发 */\r\n  onChange?: (value: string[]) => void;\r\n  /** 选择/取消选择某一项时触发 */\r\n  onToggle?: (value: string, flag: boolean) => void;\r\n}\r\n\r\n/** 多项选择器 */\r\nexport class MultiPicker implements MultiPickerOptions {\r\n  readonly container: HTMLElement;\r\n\r\n  readonly template?: PickerItemTemplate;\r\n\r\n  list: PickerOptionsItem[];\r\n\r\n  valueSet: Set<string>;\r\n\r\n  /** 已选值 */\r\n  get value() {\r\n    return [...this.valueSet];\r\n  }\r\n\r\n  onChange?: (value: string[]) => void;\r\n\r\n  onToggle?: (value: string, flag: boolean) => void;\r\n\r\n  $el!: HTMLElement;\r\n\r\n  /** 选择项标签集合 */\r\n  private $items!: NodeListOf<HTMLElement>;\r\n\r\n  constructor({ container, value = [], list, onChange, onToggle }: MultiPickerOptions) {\r\n    this.container = container;\r\n    this.list = list;\r\n    this.valueSet = new Set(value);\r\n    this.onChange = onChange; // 更新数据时需要执行的函数\r\n    this.onToggle = onToggle; // 更新数据时需要执行的函数\r\n    this.reload();\r\n  }\r\n\r\n  /** 重载，一般用于列表项更改 */\r\n  public reload(value?: string[]) {\r\n    render(templateWrap({ list: this.list, template: this.template }), this.container);\r\n    this.$el = this.container.querySelector(\".mpui-picker\")!;\r\n    this.$items = this.$el.querySelectorAll(\".mpui-picker-item\"); // 标签集合\r\n    this.$items.forEach((item) => {\r\n      item.addEventListener(\"click\", () => {\r\n        this.toggle(item.getAttribute(\"data-value\")!);\r\n      });\r\n    });\r\n    this.setValue(value ?? this.value);\r\n  }\r\n\r\n  /** 设置值 */\r\n  public setValue(value: string[]) {\r\n    this.valueSet = new Set(value);\r\n    this.$items.forEach((n, i) => {\r\n      if (this.valueSet.has(n.getAttribute(\"data-value\")!)) {\r\n        n.classList.add(\"is-checked\");\r\n      } else {\r\n        n.classList.remove(\"is-checked\");\r\n      }\r\n    });\r\n    this.onChange?.(value);\r\n  }\r\n\r\n  /** 切换一个选项的选择状态 */\r\n  public toggle(value: string, flag?: boolean) {\r\n    const b = flag == null ? !this.valueSet.has(value) : flag;\r\n    if (b) {\r\n      this.valueSet.add(value);\r\n    } else {\r\n      this.valueSet.delete(value);\r\n    }\r\n    this.$items.forEach((n, i) => {\r\n      if (n.getAttribute(\"data-value\") == value) {\r\n        n.classList.toggle(\"is-checked\", b);\r\n      }\r\n    });\r\n    this.onChange?.(this.value);\r\n    this.onToggle?.(value, b);\r\n  }\r\n}\r\n","import { createElement } from \"@/utils\";\r\n\r\ninterface SwitchOptions {\r\n  /** 挂载容器 */\r\n  container: HTMLElement;\r\n  /** 标签 */\r\n  label?: string;\r\n  /** 不可点选 */\r\n  disabled?: boolean;\r\n  /** 默认值(不填的情况下默认值为false) */\r\n  value?: boolean;\r\n  /** 值更改时触发 */\r\n  onChange?: (value: boolean) => void;\r\n  /** 切换状态时触发 */\r\n  onToggle?: (value: boolean) => void;\r\n}\r\n\r\n/** 开关 */\r\nexport class Switch implements SwitchOptions {\r\n  readonly container: HTMLElement;\r\n\r\n  onChange?: (value: boolean) => void;\r\n\r\n  onToggle?: (value: boolean) => void;\r\n\r\n  label?: string;\r\n\r\n  /** 当前值 */\r\n  value: boolean;\r\n\r\n  $el: HTMLElement;\r\n\r\n  constructor({ container, value = false, onChange, onToggle }: SwitchOptions) {\r\n    this.container = container;\r\n    this.value = value;\r\n    this.onChange = onChange; // 更新数据时需要执行的函数\r\n    this.onToggle = onToggle;\r\n\r\n    this.$el = createElement(\"div\", { class: `mpui-switch` }, this.label);\r\n\r\n    this.$el = this.container.querySelector(\".mpui-switch\")!;\r\n    this.$el.addEventListener(\"click\", () => {\r\n      this.toggle(!this.value);\r\n    });\r\n\r\n    this.setValue(this.value);\r\n  }\r\n\r\n  /** 设置开关状态 */\r\n  public setValue(value: boolean) {\r\n    this.value = value;\r\n    this.$el.classList.toggle(\"is-checked\", value);\r\n    this.onChange?.(value);\r\n  }\r\n\r\n  /** 点按开关 */\r\n  public toggle(value = !this.value) {\r\n    this.setValue(value);\r\n    this.onToggle?.(value);\r\n  }\r\n}\r\n","import { createElement } from \"@/utils\";\r\n\r\ninterface CheckboxOptions {\r\n  /** 挂载容器 */\r\n  container: HTMLElement;\r\n  /** 标签 */\r\n  label?: string;\r\n  /** 不可点选 */\r\n  disabled?: boolean;\r\n  /** 默认值(不填的情况下默认值为false) */\r\n  value?: boolean;\r\n  /** 值更改时触发 */\r\n  onChange?: (value: boolean) => void;\r\n  /** 切换状态时触发 */\r\n  onToggle?: (value: boolean) => void;\r\n}\r\n\r\n/** 开关 */\r\nexport class Checkbox implements CheckboxOptions {\r\n  readonly container: HTMLElement;\r\n\r\n  onChange?: (value: boolean) => void;\r\n\r\n  onToggle?: (value: boolean) => void;\r\n\r\n  label?: string;\r\n\r\n  /** 当前值 */\r\n  value: boolean;\r\n\r\n  $el: HTMLElement;\r\n\r\n  constructor({ container, value = false, onChange, onToggle, label }: CheckboxOptions) {\r\n    this.container = container;\r\n    this.value = value;\r\n    this.onChange = onChange; // 更新数据时需要执行的函数\r\n    this.onToggle = onToggle;\r\n    this.label = label;\r\n\r\n    this.$el = this.container.appendChild(\r\n      createElement(\r\n        \"div\",\r\n        { class: \"mpui-checkbox\" },\r\n        /*html*/ `\r\n          <div class=\"mpui-checkbox-icon\"></div>\r\n          <div class=\"mpui-checkbox-label\">${label}</div>\r\n        `\r\n      )\r\n    );\r\n\r\n    this.$el.addEventListener(\"click\", () => {\r\n      this.toggle();\r\n    });\r\n\r\n    this.setValue(this.value);\r\n  }\r\n\r\n  /** 设置开关状态 */\r\n  public setValue(value: boolean) {\r\n    this.value = value;\r\n    this.$el.classList.toggle(\"is-checked\", value);\r\n    this.onChange?.(value);\r\n  }\r\n\r\n  /** 点按开关 */\r\n  public toggle(value = !this.value) {\r\n    this.setValue(value);\r\n    this.onToggle?.(value);\r\n  }\r\n}\r\n","export { Player } from \"@/player\";\nexport * from \"@/plugin\";\nexport * from \"@/config\";\nexport * as Utils from \"@/utils\";\nexport * as Components from \"@/components\";\nimport { Player } from \"@core\";\nimport \"@css/index.scss\";\n\nconsole.log(\n  `${\"\\n\"} %c mfunsPlayer v${Player.version} ${Player.gitHash} %c https://github.com/Mfuns-cn ${\"\\n\"}${\"\\n\"}`,\n  \"color: #fff; background: #7b7ff7; padding:5px 0;\",\n  \"background: #f5f5f5; padding:5px 0;\"\n);\n"],"names":["isMobile","fullScreenEnabled","pictureInPictureEnabled","createElement","tagName","attributes","children","el","name","replaceChildren","element","debounce","fn","delay","immediate","timer","isInvoke","args","throttle","wait","random","lower","upper","clamp","number","timeToSecond","time","arr","sec","min","hour","day","secondToTime","second","level","join","num","minute","HexColorToNumber","color","numberToHexColor","dateFormatMap","d","dateFormat","date","format","match","_a","isPlainObject","obj","assignDeep","result","item","key","mergeOptions","opts","plugins","op","classPrefix","version","gitHash","repositoryLink","developers","videoEventMap","v","VideoController","player","options","res","info","play","_b","url","type","live","loadInfo","video","eventName","values","_c","PluginManager","pluginItem","plugin","_d","HookManager","func","before","hook","index","ctx","defaultFunc","f","LoaderManager","loader","controller","t","EventEmitter","listener","i","_Player","volume","flag","value","err","Player","BasePlugin","UIPlugin","selectors","MountablePlugin","__privateAdd","_onUnmount","opt","__privateSet","__privateGet","ControlsPlugin","PanelPlugin","_onToggle","MenuPlugin","template","divider","Slider","container","max","step","onChange","onDragStart","onDragEnd","onDrag","event","e","clientX","trackLength","nMax","thumbTrackX","nLeft","nLength","mousemoveEvent","removeEvent","per","templateHTML","SliderVertical","clientY","thumbTrackY","nTop","s","o","n","l","h","r","u","c","a","_","m","p","g","$","y","w","x","T","A","E","C","P","V","N","H","L","z","k","S","M","R","Z","I","B","D","templateWrap","list","html","Picker","onPick","condition","render","MultiPicker","onToggle","b","Switch","Checkbox","label"],"mappings":"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","x_google_ignoreList":[11]}