{"version":3,"file":"danmaku-list.umd.js","sources":["../src/js/utils/index.ts","../src/js/const.ts","../node_modules/lit-html/lit-html.js","../plugins/danmaku-list/VirtualList.ts","../plugins/danmaku-list/DanmakuList.ts","../plugins/danmaku-list/index.ts"],"sourcesContent":["const isMobile = /mobile/i.test(window.navigator.userAgent)\n\n/** 创建特定长度的填充数组 */\nexport const createArray = <T>(count: number, val: T) => Array.from({ length: count }, () => val)\n\n/** 获取全屏元素 */\nexport const getFullscreenElement = (): HTMLElement | null =>\n  document.fullscreenElement ||\n  (document as any).mozFullScreenElement ||\n  (document as any).webkitFullscreenElement ||\n  (document as any).msFullscreenElement ||\n  null\n\n/** 是否支持全屏 */\nexport const fullScreenEnabled: boolean =\n  document.fullscreenEnabled ||\n  (document as any).webkitFullscreenEnabled ||\n  (document as any).mozFullScreenEnabled ||\n  (document as any).msFullscreenEnabled ||\n  false\n\n/** 是否支持画中画 */\nexport const pictureInPictureEnabled = document.pictureInPictureEnabled\n\n/**\n * 将时间文本转换为秒数\n *\n * @param {String} str 冒号分隔的时间文本，支持全角冒号\n * @return {Number} second\n */\nexport const timeToSecond = (str: string): number => {\n  const arr = str.split(/[:：]/).slice(-3)\n  const sec = parseInt(arr[arr.length - 1]) || 0\n  const min = parseInt(arr[arr.length - 2]) || 0\n  const hour = parseInt(arr[arr.length - 3]) || 0\n  return sec + min * 60 + hour * 3600\n}\n\n/**\n * 防抖\n * @param {Function} fn 需要防抖处理的函数\n * @param {number} delay 防抖延迟执行时间\n * @param {boolean} immediate 是否立即执行一次\n */\nexport const debounce = (fn: (...args: unknown[]) => void, delay: number, immediate = false) => {\n  let timer: ReturnType<typeof setTimeout> | null = null\n  let isInvoke = false\n  return function (this: unknown, ...args: unknown[]) {\n    if (timer) clearTimeout(timer)\n    if (immediate && !isInvoke) {\n      fn.apply(this, args)\n      isInvoke = true\n    } else {\n      timer = setTimeout(() => {\n        fn.apply(this, args)\n        clearTimeout(timer!)\n        timer = null\n        isInvoke = false\n      }, delay)\n    }\n  }\n}\n\n/**\n * 节流\n * @param {Function} fn 需要节流处理的函数\n * @param {number} wait 执行一次后需要等待的时间\n */\nexport const throttle = (fn: (...args: unknown[]) => void, wait: number) => {\n  let timer: ReturnType<typeof setTimeout> | null = null\n  return function (this: unknown, ...args: unknown[]) {\n    if (!timer) {\n      timer = setTimeout(() => {\n        fn.apply(this, args)\n        clearTimeout(timer!)\n        timer = null\n      }, wait)\n    }\n  }\n}\n\n// === 未完全重构 ==========\n\n/**\n * 将秒数转换为时间文本\n *\n * @param {Number} second\n * @param {Boolean} showHour\n * @return {String} 00:00 or 00:00:00\n */\nexport const secondToTime = (second: number, showHour = true) => {\n  second = second || 0\n  if (second === 0 || second === Infinity || second.toString() === \"NaN\") {\n    return \"00:00\"\n  }\n  const add0 = (num: number) => (num < 10 ? `0${num}` : `${num}`)\n  const hour = Math.floor(second / 3600)\n  const min = Math.floor((second - hour * 3600) / 60)\n  const sec = Math.floor(second - hour * 3600 - min * 60)\n  if (showHour) {\n    return (hour > 0 ? [hour, min, sec] : [min, sec]).map(add0).join(\":\")\n  }\n  return [hour * 60 + min, sec].map(add0).join(\":\")\n}\n\nexport const storage = {\n  set: (key: string, value: any) => {\n    localStorage.setItem(key, value)\n  },\n\n  get: (key: string) => localStorage.getItem(key),\n}\n\nexport const nameMap = {\n  dragStart: isMobile ? \"touchstart\" : \"mousedown\",\n  dragMove: isMobile ? \"touchmove\" : \"mousemove\",\n  dragEnd: isMobile ? \"touchend\" : \"mouseup\",\n}\nexport const colorLuminance = (hex: string, lum: number) => {\n  // validate hex string\n  hex = String(hex).replace(/[^0-9a-f]/gi, \"\")\n  if (hex.length < 6) {\n    hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2]\n  }\n  lum = lum || 0\n\n  // convert to decimal and change luminosity\n  let rgb = \"#\"\n  let c\n  let i\n  for (i = 0; i < 3; i++) {\n    c = parseInt(hex.substr(i * 2, 2), 16)\n    c = Math.round(Math.min(Math.max(0, c + c * lum), 255)).toString(16)\n    rgb += `00${c}`.substr(c.length)\n  }\n\n  return rgb\n}\n\nexport const hex2Rgb = (str: string, opacity: number) => {\n  // 16进制转rgb\n  const reg = /^#([0-9A-Fa-f]{3}|[0-9A-Fa-f]{6})$/\n  if (!reg.test(str)) {\n    return\n  }\n  let newStr = str.toLowerCase().replace(/#/g, \"\")\n  const len = newStr.length\n  if (len == 3) {\n    let t = \"\"\n    for (let i = 0; i < len; i++) {\n      t += newStr.slice(i, i + 1).concat(newStr.slice(i, i + 1))\n    }\n    newStr = t\n  }\n  const arr = [] // 将字符串分隔，两个两个的分隔\n  for (let i = 0; i < 6; i += 2) {\n    const s = newStr.slice(i, i + 2)\n    arr.push(parseInt(`0x${s}`))\n  }\n  if (opacity) return `rgba(${arr.join(\",\")},${opacity})`\n  return `rgb(${arr.join(\",\")})`\n}\nexport const rgb2Hex = (str: string) => {\n  // rgb转16进制\n  const reg = /^(rgb|RGB)/\n  if (!reg.test(str)) {\n    return\n  }\n  const arr = str.slice(4, str.length - 1).split(\",\")\n  let color = \"#\"\n  for (let i = 0; i < arr.length; i++) {\n    let t = Number(arr[i]).toString(16)\n    if (t == \"0\") {\n      // 如果为“0”的话，需要补0操作,否则只有5位数\n      t += \"0\"\n    }\n    color += t\n  }\n  return color\n}\nexport const color2Number = (color: string) => {\n  if (color[0] === \"#\") {\n    color = color.substr(1)\n  }\n  if (color.length === 3) {\n    color = `${color[0]}${color[0]}${color[1]}${color[1]}${color[2]}${color[2]}`\n  }\n  return (parseInt(color, 16) + 0x000000) & 0xffffff\n}\n\nexport const number2Color = (number: number) => `#${`00000${number.toString(16)}`.slice(-6)}`\nexport const initHash = () => {\n  let count = 100\n\n  return function (hashLength: number) {\n    if (!hashLength || typeof Number(hashLength) !== \"number\") {\n      return\n    }\n    const ar = [\n      \"1\",\n      \"2\",\n      \"3\",\n      \"4\",\n      \"5\",\n      \"6\",\n      \"7\",\n      \"8\",\n      \"9\",\n      \"0\",\n      \"a\",\n      \"b\",\n      \"c\",\n      \"d\",\n      \"e\",\n      \"f\",\n      \"g\",\n      \"h\",\n      \"i\",\n      \"j\",\n      \"k\",\n      \"l\",\n      \"m\",\n      \"n\",\n      \"o\",\n      \"p\",\n      \"q\",\n      \"r\",\n      \"s\",\n      \"t\",\n      \"u\",\n      \"v\",\n      \"w\",\n      \"x\",\n      \"y\",\n      \"z\",\n    ]\n    const hs = []\n    const hl = Number(hashLength)\n    const al = ar.length\n    for (let i = 0; i < hl; i++) {\n      hs.push(ar[Math.floor(Math.random() * al)])\n    }\n    count++\n    return `${hs.join(\"\")}${count}`\n  }\n}\nexport const randomFontsize = (range: number) => {\n  const allSize = [16, 18, 25, 36, 45, 64]\n  const random = Math.floor(Math.random() * range)\n  return allSize[random]\n}\n\nconst dateFormatMap = {\n  yyyy: (d: Date) => d.getFullYear().toString(),\n  yy: (d: Date) => d.getFullYear().toString().slice(-2),\n  MM: (d: Date) => (d.getMonth() + 1).toString().padStart(2, \"0\"),\n  dd: (d: Date) => d.getDate().toString().padStart(2, \"0\"),\n  HH: (d: Date) => d.getHours().toString().padStart(2, \"0\"),\n  mm: (d: Date) => d.getMinutes().toString().padStart(2, \"0\"),\n  ss: (d: Date) => d.getSeconds().toString().padStart(2, \"0\"),\n}\n\n// date: 时间对象, pattern: 日期格式\nexport const dateFormat = (date: Date, format: string) => {\n  return format.replace(/yy|yyyy|MM|dd|HH|mm|ss/g, (match) =>\n    dateFormatMap[match as keyof typeof dateFormatMap]?.(date)\n  )\n}\n","export const classPrefix = \"mfuns-player\"\n\n/** 项目链接 */\nexport const repositoryLink = \"https://github.com/Mfuns-cn/mfunsPlayer/tree/v3-beta\"\n\n/** 开发者列表 */\nexport const developers = [\n  { name: \"Minteea\", id: \"Minteea\", link: \"https://github.com/Minteea\" },\n  { name: \"鲁迪钨丝\", id: \"Rudiusu\", link: \"https://github.com/Rudiusu\" },\n]\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nvar t;const i=window,s=i.trustedTypes,e=s?s.createPolicy(\"lit-html\",{createHTML:t=>t}):void 0,o=\"$lit$\",n=`lit$${(Math.random()+\"\").slice(9)}$`,l=\"?\"+n,h=`<${l}>`,r=document,u=()=>r.createComment(\"\"),d=t=>null===t||\"object\"!=typeof t&&\"function\"!=typeof t,c=Array.isArray,v=t=>c(t)||\"function\"==typeof(null==t?void 0:t[Symbol.iterator]),a=\"[ \\t\\n\\f\\r]\",f=/<(?:(!--|\\/[^a-zA-Z])|(\\/?[a-zA-Z][^>\\s]*)|(\\/?$))/g,_=/-->/g,m=/>/g,p=RegExp(`>|${a}(?:([^\\\\s\"'>=/]+)(${a}*=${a}*(?:[^ \\t\\n\\f\\r\"'\\`<>=]|(\"|')|))|$)`,\"g\"),g=/'/g,$=/\"/g,y=/^(?:script|style|textarea|title)$/i,w=t=>(i,...s)=>({_$litType$:t,strings:i,values:s}),x=w(1),b=w(2),T=Symbol.for(\"lit-noChange\"),A=Symbol.for(\"lit-nothing\"),E=new WeakMap,C=r.createTreeWalker(r,129,null,!1);function P(t,i){if(!Array.isArray(t)||!t.hasOwnProperty(\"raw\"))throw Error(\"invalid template strings array\");return void 0!==e?e.createHTML(i):i}const V=(t,i)=>{const s=t.length-1,e=[];let l,r=2===i?\"<svg>\":\"\",u=f;for(let i=0;i<s;i++){const s=t[i];let d,c,v=-1,a=0;for(;a<s.length&&(u.lastIndex=a,c=u.exec(s),null!==c);)a=u.lastIndex,u===f?\"!--\"===c[1]?u=_:void 0!==c[1]?u=m:void 0!==c[2]?(y.test(c[2])&&(l=RegExp(\"</\"+c[2],\"g\")),u=p):void 0!==c[3]&&(u=p):u===p?\">\"===c[0]?(u=null!=l?l:f,v=-1):void 0===c[1]?v=-2:(v=u.lastIndex-c[2].length,d=c[1],u=void 0===c[3]?p:'\"'===c[3]?$:g):u===$||u===g?u=p:u===_||u===m?u=f:(u=p,l=void 0);const w=u===p&&t[i+1].startsWith(\"/>\")?\" \":\"\";r+=u===f?s+h:v>=0?(e.push(d),s.slice(0,v)+o+s.slice(v)+n+w):s+n+(-2===v?(e.push(void 0),i):w)}return[P(t,r+(t[s]||\"<?>\")+(2===i?\"</svg>\":\"\")),e]};class N{constructor({strings:t,_$litType$:i},e){let h;this.parts=[];let r=0,d=0;const c=t.length-1,v=this.parts,[a,f]=V(t,i);if(this.el=N.createElement(a,e),C.currentNode=this.el.content,2===i){const t=this.el.content,i=t.firstChild;i.remove(),t.append(...i.childNodes)}for(;null!==(h=C.nextNode())&&v.length<c;){if(1===h.nodeType){if(h.hasAttributes()){const t=[];for(const i of h.getAttributeNames())if(i.endsWith(o)||i.startsWith(n)){const s=f[d++];if(t.push(i),void 0!==s){const t=h.getAttribute(s.toLowerCase()+o).split(n),i=/([.?@])?(.*)/.exec(s);v.push({type:1,index:r,name:i[2],strings:t,ctor:\".\"===i[1]?H:\"?\"===i[1]?L:\"@\"===i[1]?z:k})}else v.push({type:6,index:r})}for(const i of t)h.removeAttribute(i)}if(y.test(h.tagName)){const t=h.textContent.split(n),i=t.length-1;if(i>0){h.textContent=s?s.emptyScript:\"\";for(let s=0;s<i;s++)h.append(t[s],u()),C.nextNode(),v.push({type:2,index:++r});h.append(t[i],u())}}}else if(8===h.nodeType)if(h.data===l)v.push({type:2,index:r});else{let t=-1;for(;-1!==(t=h.data.indexOf(n,t+1));)v.push({type:7,index:r}),t+=n.length-1}r++}}static createElement(t,i){const s=r.createElement(\"template\");return s.innerHTML=t,s}}function S(t,i,s=t,e){var o,n,l,h;if(i===T)return i;let r=void 0!==e?null===(o=s._$Co)||void 0===o?void 0:o[e]:s._$Cl;const u=d(i)?void 0:i._$litDirective$;return(null==r?void 0:r.constructor)!==u&&(null===(n=null==r?void 0:r._$AO)||void 0===n||n.call(r,!1),void 0===u?r=void 0:(r=new u(t),r._$AT(t,s,e)),void 0!==e?(null!==(l=(h=s)._$Co)&&void 0!==l?l:h._$Co=[])[e]=r:s._$Cl=r),void 0!==r&&(i=S(t,r._$AS(t,i.values),r,e)),i}class M{constructor(t,i){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){var i;const{el:{content:s},parts:e}=this._$AD,o=(null!==(i=null==t?void 0:t.creationScope)&&void 0!==i?i:r).importNode(s,!0);C.currentNode=o;let n=C.nextNode(),l=0,h=0,u=e[0];for(;void 0!==u;){if(l===u.index){let i;2===u.type?i=new R(n,n.nextSibling,this,t):1===u.type?i=new u.ctor(n,u.name,u.strings,this,t):6===u.type&&(i=new Z(n,this,t)),this._$AV.push(i),u=e[++h]}l!==(null==u?void 0:u.index)&&(n=C.nextNode(),l++)}return C.currentNode=r,o}v(t){let i=0;for(const s of this._$AV)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,i),i+=s.strings.length-2):s._$AI(t[i])),i++}}class R{constructor(t,i,s,e){var o;this.type=2,this._$AH=A,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=s,this.options=e,this._$Cp=null===(o=null==e?void 0:e.isConnected)||void 0===o||o}get _$AU(){var t,i;return null!==(i=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==i?i:this._$Cp}get parentNode(){let t=this._$AA.parentNode;const i=this._$AM;return void 0!==i&&11===(null==t?void 0:t.nodeType)&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=S(this,t,i),d(t)?t===A||null==t||\"\"===t?(this._$AH!==A&&this._$AR(),this._$AH=A):t!==this._$AH&&t!==T&&this._(t):void 0!==t._$litType$?this.g(t):void 0!==t.nodeType?this.$(t):v(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==A&&d(this._$AH)?this._$AA.nextSibling.data=t:this.$(r.createTextNode(t)),this._$AH=t}g(t){var i;const{values:s,_$litType$:e}=t,o=\"number\"==typeof e?this._$AC(t):(void 0===e.el&&(e.el=N.createElement(P(e.h,e.h[0]),this.options)),e);if((null===(i=this._$AH)||void 0===i?void 0:i._$AD)===o)this._$AH.v(s);else{const t=new M(o,this),i=t.u(this.options);t.v(s),this.$(i),this._$AH=t}}_$AC(t){let i=E.get(t.strings);return void 0===i&&E.set(t.strings,i=new N(t)),i}T(t){c(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let s,e=0;for(const o of t)e===i.length?i.push(s=new R(this.k(u()),this.k(u()),this,this.options)):s=i[e],s._$AI(o),e++;e<i.length&&(this._$AR(s&&s._$AB.nextSibling,e),i.length=e)}_$AR(t=this._$AA.nextSibling,i){var s;for(null===(s=this._$AP)||void 0===s||s.call(this,!1,!0,i);t&&t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){var i;void 0===this._$AM&&(this._$Cp=t,null===(i=this._$AP)||void 0===i||i.call(this,t))}}class k{constructor(t,i,s,e,o){this.type=1,this._$AH=A,this._$AN=void 0,this.element=t,this.name=i,this._$AM=e,this.options=o,s.length>2||\"\"!==s[0]||\"\"!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=A}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,i=this,s,e){const o=this.strings;let n=!1;if(void 0===o)t=S(this,t,i,0),n=!d(t)||t!==this._$AH&&t!==T,n&&(this._$AH=t);else{const e=t;let l,h;for(t=o[0],l=0;l<o.length-1;l++)h=S(this,e[s+l],i,l),h===T&&(h=this._$AH[l]),n||(n=!d(h)||h!==this._$AH[l]),h===A?t=A:t!==A&&(t+=(null!=h?h:\"\")+o[l+1]),this._$AH[l]=h}n&&!e&&this.j(t)}j(t){t===A?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:\"\")}}class H extends k{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===A?void 0:t}}const I=s?s.emptyScript:\"\";class L extends k{constructor(){super(...arguments),this.type=4}j(t){t&&t!==A?this.element.setAttribute(this.name,I):this.element.removeAttribute(this.name)}}class z extends k{constructor(t,i,s,e,o){super(t,i,s,e,o),this.type=5}_$AI(t,i=this){var s;if((t=null!==(s=S(this,t,i,0))&&void 0!==s?s:A)===T)return;const e=this._$AH,o=t===A&&e!==A||t.capture!==e.capture||t.once!==e.once||t.passive!==e.passive,n=t!==A&&(e===A||o);o&&this.element.removeEventListener(this.name,this,e),n&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var i,s;\"function\"==typeof this._$AH?this._$AH.call(null!==(s=null===(i=this.options)||void 0===i?void 0:i.host)&&void 0!==s?s:this.element,t):this._$AH.handleEvent(t)}}class Z{constructor(t,i,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){S(this,t)}}const j={O:o,P:n,A:l,C:1,M:V,L:M,R:v,D:S,I:R,V:k,H:L,N:z,U:H,F:Z},B=i.litHtmlPolyfillSupport;null==B||B(N,R),(null!==(t=i.litHtmlVersions)&&void 0!==t?t:i.litHtmlVersions=[]).push(\"2.8.0\");const D=(t,i,s)=>{var e,o;const n=null!==(e=null==s?void 0:s.renderBefore)&&void 0!==e?e:i;let l=n._$litPart$;if(void 0===l){const t=null!==(o=null==s?void 0:s.renderBefore)&&void 0!==o?o:null;n._$litPart$=l=new R(i.insertBefore(u(),t),t,void 0,null!=s?s:{})}return l._$AI(t),l};export{j as _$LH,x as html,T as noChange,A as nothing,D as render,b as svg};\n//# sourceMappingURL=lit-html.js.map\n","/** 虚拟列表 */\n\nexport class VirtualList<T> {\n  /** 需要绑定的DOM对象 */\n  el: HTMLElement\n  $content: HTMLElement\n  /** 列表数据 */\n  data: T[] = []\n  /** 拉取列表数据 () => Object */\n  getData: () => T[]\n  /** 列表项高度 */\n  itemHeight: number\n  /** 列表项DOM生成函数 */\n  createItem: (item: T, i: number, array: T[]) => HTMLElement\n  /** 溢出范围 */\n  overflow: number\n\n  /** 列表渲染起点 */\n  renderStart = -1\n  /** 列表渲染终点 */\n  renderEnd = -1\n  /** 可视范围起点 */\n  viewStart = 0\n  /** 可视范围终点 */\n  viewEnd = 0\n  /** 节流开关 */\n  throttle = false\n  /** 已清空状态 */\n  cleared = false\n  constructor({\n    el,\n    getData,\n    itemHeight,\n    createItem,\n    overflow = 0,\n  }: {\n    el: HTMLElement\n    getData: () => T[]\n    itemHeight: number\n    createItem: (item: T, i: number, array: T[]) => HTMLElement\n    overflow?: number\n  }) {\n    this.el = el\n    this.getData = getData\n    this.itemHeight = itemHeight\n    this.createItem = createItem\n    this.overflow = overflow\n\n    this.renderStart = -1\n    this.renderEnd = -1\n    this.viewStart = 0\n    this.viewEnd = 0\n    this.throttle = false\n    this.cleared = false\n\n    this.el.classList.add(\"vlist-container\")\n    this.$content = document.createElement(\"div\")\n    this.$content.classList.add(\"vlist-content\")\n    this.el.appendChild(this.$content)\n\n    this.el.addEventListener(\"scroll\", () => {\n      this.cleared || this.handleScroll()\n    })\n\n    this.reload()\n  }\n  /** 重载列表 */\n  reload() {\n    this.clear()\n    this.data = this.getData()\n    console.log(this.data)\n    this.renderStart = -1\n    this.renderEnd = -1\n    this.viewStart = 0\n    this.viewEnd = 0\n    this.throttle = false\n    this.handleScroll()\n    this.cleared = false\n  }\n  /** 更新列表 */\n  update() {\n    this.data = this.getData()\n    this.handleScroll()\n  }\n  handleScroll() {\n    if (!this.throttle) {\n      const clientH = this.el.clientHeight\n      const scrollTop = this.el.scrollTop\n      this.viewStart = this.getViewStart(scrollTop)\n      this.viewEnd = this.getViewEnd(scrollTop, clientH)\n      if (this.viewStart <= this.renderStart || this.viewEnd >= this.renderEnd) {\n        this.render(clientH, scrollTop)\n        // console.log(`${this.renderStart} - ${this.renderEnd}`)\n      }\n      // console.log(`${scrollTop} + ${clientH} @ ${this.viewStart} - ${this.viewEnd} # ${this.renderStart} - ${this.renderEnd}`)\n    } else {\n      // console.log(\"none\")\n    }\n  }\n  render(clientH: number, scrollTop: number) {\n    // 保存原渲染范围\n    const oldRenderStart = this.renderStart\n    const oldRenderEnd = this.renderEnd\n    // 获取新渲染范围\n    this.renderStart = this.getViewStart(scrollTop) - this.overflow\n    this.renderEnd = this.getViewEnd(scrollTop, clientH) + this.overflow\n    // console.log(`old ${oldRenderStart}-${oldRenderEnd} new ${this.renderStart}-${this.renderEnd}`)\n    // 与列表前段比较\n    if (this.renderStart < oldRenderStart) {\n      // 列表前段范围扩张, 添加新列表项\n      const beforeItems = document.createDocumentFragment()\n      const addFrom = Math.max(this.renderStart, 0)\n      const addTo = Math.min(oldRenderStart - 1, this.renderEnd, this.data.length - 1)\n      // console.log(`add ${addFrom}-${addTo}`)\n      for (let i = addFrom; i <= addTo; i++) {\n        beforeItems.appendChild(this.createItem(this.data[i], i, this.data))\n        // console.log(\"add: \" + i)\n      }\n      this.$content.insertBefore(beforeItems, this.$content.firstElementChild)\n    } else {\n      // 若不扩张, 则删除多余的列表项\n      const removeFrom = Math.max(oldRenderStart, 0)\n      const removeTo = Math.min(this.renderStart - 1, oldRenderEnd)\n      // console.log(`remove ${removeFrom}-${removeTo}`)\n      for (let i = removeFrom; i <= removeTo; i++) {\n        const child = this.$content.firstElementChild\n        child && this.$content.removeChild(child)\n      }\n    }\n\n    // 与列表后段比较\n    if (this.renderEnd > oldRenderEnd) {\n      // 列表后段范围扩张, 添加新列表项\n      const afterItems = document.createDocumentFragment()\n      const addFrom = Math.max(oldRenderEnd + 1, this.renderStart)\n      const addTo = Math.min(this.renderEnd, this.data.length - 1)\n      // console.log(`add ${addFrom}-${addTo}`)\n      for (let i = addFrom; i <= addTo; i++) {\n        afterItems.appendChild(this.createItem(this.data[i], i, this.data))\n        // console.log(\"add: \" + i)\n      }\n      this.$content.appendChild(afterItems)\n    } else {\n      // 若不扩张, 则删除多余的列表项\n      const removeFrom = Math.min(oldRenderEnd, this.data.length - 1)\n      const removeTo = Math.max(this.renderEnd + 1, oldRenderStart)\n      // console.log(`remove ${removeFrom}-${removeTo}`)\n      for (let i = removeFrom; i >= removeTo; i--) {\n        const child = this.$content.lastElementChild\n        child && this.$content.removeChild(child)\n        // console.log(\"remove: \" + i)\n      }\n    }\n\n    // 设定占位边距\n    this.$content.style.paddingTop = `${\n      this.renderStart > 0 ? this.renderStart * this.itemHeight : 0\n    }px`\n    this.$content.style.paddingBottom = `${\n      this.renderEnd < this.data.length - 1\n        ? (this.data.length - this.renderEnd - 1) * this.itemHeight\n        : 0\n    }px`\n  }\n  getViewStart(scrollTop: number) {\n    return Math.floor(scrollTop / this.itemHeight)\n  }\n  getViewEnd(scrollTop: number, clientH: number) {\n    return Math.ceil((scrollTop + clientH) / this.itemHeight) - 1\n  }\n  // 清空列表\n  clear() {\n    this.data = []\n    this.$content.innerHTML = \"\"\n    this.$content.style.paddingTop = \"0px\"\n    this.$content.style.paddingBottom = \"0px\"\n    this.cleared = true\n  }\n  locateStart(n: number) {\n    // 定位到某项开头\n    this.el.scrollTo({\n      top: n * this.itemHeight,\n      behavior: \"auto\",\n    })\n  }\n  locateEnd(n: number) {\n    // 定位到某项末尾\n    this.el.scrollTo({\n      top: n * this.itemHeight - this.el.clientHeight,\n      behavior: \"auto\",\n    })\n  }\n}\n","import { secondToTime } from \"@/utils\"\nimport { dateFormat } from \"@/utils/index\"\nimport { DanmakuItem } from \"@/types\"\nimport MfunsPlayer from \"@/player\"\nimport { classPrefix } from \"@/const\"\nimport { html, render } from \"lit-html\"\nimport { VirtualList } from \"./VirtualList\"\n\nconst template = (sort: { time: () => void; content: () => void; date: () => void }) => html`\n  <div class=\"${classPrefix}-side-panel ${classPrefix}-danmaku-list\">\n    <div class=\"${classPrefix}-danmaku-list-main\">\n      <div class=\"${classPrefix}-danmaku-list-head\">\n        <div class=\"list-column col-time\" @click=${sort.time}>时间</div>\n        <div class=\"list-column col-content\" @click=${sort.content}>弹幕内容</div>\n        <div class=\"list-column col-date\" @click=${sort.date}>发送时间</div>\n      </div>\n      <div class=\"${classPrefix}-danmaku-list-container\">\n        <div class=\"${classPrefix}-danmaku-list-list\"></div>\n      </div>\n      <div class=\"${classPrefix}-danmaku-list-status\">\n        <div class=\"status-loading-text\">弹幕列表装填中……</div>\n        <div class=\"status-failed-text\">弹幕加载失败 X_X</div>\n        <div class=\"status-empty-text\">还没有弹幕哦，快来发弹幕^_^</div>\n      </div>\n    </div>\n    <div class=\"${classPrefix}-danmaku-auxiliary-foot\"></div>\n  </div>\n`\n\nconst getDanmakuListItem = (\n  danmaku: DanmakuItem,\n  index: number,\n  operation: (dm: DanmakuItem) => [string, (dm: DanmakuItem) => void, unknown][]\n) => {\n  const t = html`\n    <div class=\"list-row\" data-index=\"${index}\" data-mode=\"${danmaku.mode}\">\n      <div class=\"list-cell col-time\">${secondToTime(danmaku.time)}</div>\n      <div class=\"list-cell col-content\">${danmaku.content}</div>\n      <div class=\"list-cell col-date\">\n        ${danmaku.date ? dateFormat(new Date(danmaku.date * 1000), \"yy-MM-dd HH:mm\") : \"-\"}\n      </div>\n      ${operation.length\n        ? html` <div class=\"list-operate\">\n            ${operation(danmaku).map(\n              ([label, onClick]) => html`<div\n                class=\"list-operate-btn\"\n                @click=${() => {\n                  onClick(danmaku)\n                }}\n              >\n                ${label}\n              </div>`\n            )}\n          </div>`\n        : \"\"}\n    </div>\n  `\n  const fragment = new DocumentFragment()\n  render(t, fragment)\n  return fragment.firstElementChild! as HTMLElement\n}\n\nexport default class DanmakuList {\n  player: MfunsPlayer\n  el: HTMLElement\n  data: DanmakuItem[] = []\n  sortedBy: keyof DanmakuItem = \"time\"\n  sortOrder = 1 | -1\n\n  list!: VirtualList<DanmakuItem>\n  /** 是否随播放自动滚动 */\n  autoScroll = true\n  /** 是否挂载到播放器外部 */\n  mounted = false\n\n  $container: HTMLElement\n  $status: HTMLElement\n  $colTime: HTMLElement\n  $colDate: HTMLElement\n  $colContent: HTMLElement\n\n  constructor(player: MfunsPlayer) {\n    this.player = player\n    const fragment = new DocumentFragment()\n    render(template({ time: () => {}, content: () => {}, date: () => {} }), fragment)\n    this.el = fragment.querySelector(`.${classPrefix}-danmaku-list`)!\n    this.$container = fragment.querySelector(`.${classPrefix}-danmaku-list-container`)!\n    this.$status = fragment.querySelector(`.${classPrefix}-danmaku-list-status`)!\n    this.$colTime = fragment.querySelector(\".col-time\")!\n    this.$colDate = fragment.querySelector(\".col-date\")!\n    this.$colContent = fragment.querySelector(\".col-content\")!\n\n    this.$colTime.onclick = () => {\n      this.setAutoScroll(false)\n      if (this.sortedBy == \"time\") {\n        this.sort(\"time\", -this.sortOrder)\n      } else {\n        this.sort(\"time\", 1)\n      }\n    }\n    this.$colDate.onclick = () => {\n      this.setAutoScroll(false)\n      if (this.sortedBy == \"date\") {\n        this.sort(\"date\", -this.sortOrder)\n      } else {\n        this.sort(\"date\", 1)\n      }\n    }\n  }\n  init() {\n    const api = this.player.danmaku.api\n    const operate = this.player.danmaku.operate\n    this.list = new VirtualList({\n      el: this.$container,\n      getData: () => {\n        return this.data\n      },\n      itemHeight: 24,\n      createItem: (danmaku, i) =>\n        getDanmakuListItem(danmaku, i, (dm) => {\n          const myDanmaku = dm.user == this.player.userId\n          return [\n            [\n              \"举报\",\n              (dm: DanmakuItem) => {\n                operate.report(dm)\n              },\n              !myDanmaku && api?.report,\n            ],\n            [\n              \"屏蔽\",\n              (dm: DanmakuItem) => {\n                operate.blockUser(dm.user, true)\n              },\n              !myDanmaku && api?.blockUser,\n            ],\n            [\n              \"撤回\",\n              (dm: DanmakuItem) => {\n                operate.recall(dm)\n              },\n              myDanmaku && api?.recall,\n            ],\n          ].filter((v) => v[2]) as [string, (dm: DanmakuItem) => void, unknown][]\n        }),\n      overflow: 5,\n    })\n\n    this.list.el.addEventListener(\"wheel\", () => {\n      this.setAutoScroll(false)\n    })\n    this.list.el.addEventListener(\"mousedown\", () => {\n      this.setAutoScroll(false)\n    })\n    this.setAutoScroll(this.autoScroll)\n\n    // 切换到新分P时，清空上一P弹幕\n    this.player.on(\"part\", () => {\n      this.clear()\n    })\n    this.player.on(\"danmaku:load_end\", (dan) => {\n      this.fill(dan)\n    })\n    this.player.on(\"danmaku:load_addition_end\", (url, dan) => {\n      this.fill(dan)\n    })\n    this.player.on(\"timeupdate\", (time) => {\n      if (this.autoScroll) {\n        this.locateByTime(time)\n      }\n    })\n  }\n  /** 弹幕列表排序 */\n  sort(sortedBy: keyof DanmakuItem, sortOrder = 1) {\n    this.sortedBy = sortedBy\n    this.sortOrder = sortOrder\n    this.data.sort((a: any, b: any) => {\n      const at = a[this.sortedBy]\n      const bt = b[this.sortedBy]\n      // 排序\n      return at > bt ? sortOrder : at == bt ? 0 : -sortOrder\n    })\n    this.list.reload()\n  }\n  /** 装填弹幕(重载列表) */\n  fill(dan: DanmakuItem[]) {\n    this.data = this.data.concat(dan)\n    // 弹幕列表装填\n    if (!this.data.length) {\n      this.setStatus(\"empty\")\n    } else {\n      this.reload()\n      this.setStatus()\n    }\n  }\n  /** 添加弹幕(不重载列表) */\n  add(dan: DanmakuItem[]) {\n    this.data = this.data.concat(dan)\n    // 弹幕列表装填\n    if (!this.data.length) {\n      this.setStatus(\"empty\")\n    } else {\n      this.list.update()\n      this.setStatus()\n    }\n  }\n  /** 重载弹幕列表 */\n  reload() {\n    this.sort(this.sortedBy, this.sortOrder)\n    if (this.autoScroll) {\n      this.locateByTime(this.player.time)\n    }\n  }\n  clear() {\n    // 清空弹幕列表\n    this.list.clear()\n    this.data = []\n    this.setStatus(\"loading\")\n  }\n  setStatus(status = \"\") {\n    this.$status.dataset.status = status\n    console.log(\"弹幕加载状态\" + status)\n  }\n  /** 根据播放时间定位 */\n  locateByTime(time: number) {\n    let viewEnd = this.list.viewEnd\n    if (this.data[viewEnd]?.time > time) {\n      // 如果列表可视区域最后一项的时间超过当前时间, 则重头开始遍历, 否则从列表可视区域最后一项遍历\n      viewEnd = 0\n    }\n    while (this.data[viewEnd + 1]?.time <= time) {\n      // 遍历并检测下一项弹幕时间是否超过当前时间, 若超过, 则以当前弹幕为定位点\n      viewEnd++\n    }\n    this.list.locateEnd(viewEnd)\n  }\n  setAutoScroll(flag: boolean) {\n    // 设置自动滚动\n    this.autoScroll = flag\n    if (flag) {\n      this.sort(\"time\")\n      this.locateByTime(this.player.time)\n    }\n  }\n}\n","/* eslint-disable @typescript-eslint/no-unused-vars */\nimport { EmptyObject, PlayerPlugin } from \"@/types\"\nimport DanmakuList from \"./DanmakuList\"\n\nconst id = \"danmakuList\"\n\nconst plugin = (): PlayerPlugin<typeof id, EmptyObject, { el: HTMLElement }> => {\n  let danmakuList: DanmakuList\n  return {\n    id,\n    create: (player, options) => {\n      danmakuList = new DanmakuList(player)\n      return {\n        el: danmakuList.el,\n      }\n    },\n    init: (player, options) => {\n      danmakuList.init()\n    },\n    destroy: (player) => {},\n  }\n}\n\nexport default plugin\n"],"names":["secondToTime","second","showHour","add0","num","hour","min","sec","dateFormatMap","d","dateFormat","date","format","match","_a","classPrefix","t","i","s","e","o","n","l","h","r","u","c","v","a","f","_","m","p","g","$","y","w","x","T","A","E","C","P","V","N","H","L","z","k","M","R","Z","I","B","D","VirtualList","el","getData","itemHeight","createItem","overflow","clientH","scrollTop","oldRenderStart","oldRenderEnd","beforeItems","addFrom","addTo","removeFrom","removeTo","child","afterItems","template","sort","html","getDanmakuListItem","danmaku","index","operation","label","onClick","fragment","render","DanmakuList","player","api","operate","dm","myDanmaku","dan","url","time","sortedBy","sortOrder","b","at","bt","status","viewEnd","_b","flag","id","danmakuList","options"],"mappings":"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","x_google_ignoreList":[2]}